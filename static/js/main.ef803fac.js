/*! For license information please see main.ef803fac.js.LICENSE.txt */
(()=>{var e={646:(e,t,n)=>{var r,i;!function(s){if(void 0===(i="function"===typeof(r=s)?r.call(t,n,t,e):r)||(e.exports=i),!0,e.exports=s(),!!0){var a=window.Cookies,o=window.Cookies=s();o.noConflict=function(){return window.Cookies=a,o}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function s(t,n,s){if("undefined"!==typeof document){"number"===typeof(s=e({path:"/"},i.defaults,s)).expires&&(s.expires=new Date(1*new Date+864e5*s.expires)),s.expires=s.expires?s.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(c){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var o="";for(var l in s)s[l]&&(o+="; "+l,!0!==s[l]&&(o+="="+s[l].split(";")[0]));return document.cookie=t+"="+n+o}}function a(e,n){if("undefined"!==typeof document){for(var i={},s=document.cookie?document.cookie.split("; "):[],a=0;a<s.length;a++){var o=s[a].split("="),l=o.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(o[0]);if(l=(r.read||r)(l,c)||t(l),n)try{l=JSON.parse(l)}catch(u){}if(i[c]=l,e===c)break}catch(u){}}return e?i[e]:i}}return i.set=s,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,n){s(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))}))},470:(e,t,n)=>{"use strict";var r=n(390),i=n(124);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),C=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),I=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case C:return"Portal";case k:return"Profiler";case x:return"StrictMode";case T:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function J(e,t){X(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function se(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function Ae(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Ee=null,xe=null;function ke(e){if(e=wi(e)){if("function"!==typeof Ce)throw Error(s(280));var t=e.stateNode;t&&(t=Ai(t),Ce(e.stateNode,e.type,t))}}function Se(e){Ee?xe?xe.push(e):xe=[e]:Ee=e}function Ie(){if(Ee){var e=Ee,t=xe;if(xe=Ee=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ne(e,t){return e(t)}function Te(){}var Re=!1;function _e(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ne(e,t,n)}finally{Re=!1,(null!==Ee||null!==xe)&&(Te(),Ie())}}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=Ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Pe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Pe=!1}function Oe(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,Fe=!1,Ue=null,Be={onError:function(e){Le=!0,Me=e}};function Ve(e,t,n,r,i,s,a,o,l){Le=!1,Me=null,Oe.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(ze(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return qe(i),e;if(a===r)return qe(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Qe=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=dt(o):0!==(s&=a)&&(r=dt(s))}else 0!==(a=n&~i)?r=dt(a):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var At,Ct,Et,xt,kt,St=!1,It=[],Nt=null,Tt=null,Rt=null,_t=new Map,jt=new Map,Pt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":_t.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jt.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&Ct(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void kt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&Ct(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Bt(){St=!1,null!==Nt&&Ft(Nt)&&(Nt=null),null!==Tt&&Ft(Tt)&&(Tt=null),null!==Rt&&Ft(Rt)&&(Rt=null),_t.forEach(Ut),jt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function zt(e){function t(t){return Vt(t,e)}if(0<It.length){Vt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&Vt(Nt,e),null!==Tt&&Vt(Tt,e),null!==Rt&&Vt(Rt,e),_t.forEach(t),jt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var Ht=b.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var i=wt,s=Ht.transition;Ht.transition=null;try{wt=1,Qt(e,t,n,r)}finally{wt=i,Ht.transition=s}}function Gt(e,t,n,r){var i=wt,s=Ht.transition;Ht.transition=null;try{wt=4,Qt(e,t,n,r)}finally{wt=i,Ht.transition=s}}function Qt(e,t,n,r){if(qt){var i=$t(e,t,n,r);if(null===i)qr(e,t,r,Kt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=Lt(Nt,e,t,n,r,i),!0;case"dragenter":return Tt=Lt(Tt,e,t,n,r,i),!0;case"mouseover":return Rt=Lt(Rt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return _t.set(s,Lt(_t.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,jt.set(s,Lt(jt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=wi(i);if(null!==s&&At(s),null===(s=$t(e,t,n,r))&&qr(e,t,r,Kt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Kt=null;function $t(e,t,n,r){if(Kt=null,null!==(e=yi(e=Ae(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=M({},cn,{view:0,detail:0}),hn=sn(dn),fn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},dn,{relatedTarget:0})),vn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(yn),bn=sn(M({},cn,{data:0})),An={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function kn(){return xn}var Sn=M({},dn,{key:function(e){if(e.key){var t=An[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=sn(Sn),Nn=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=sn(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Rn=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),_n=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jn=sn(_n),Pn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Ln=u&&"TextEvent"in window&&!On,Mn=u&&(!Dn||On&&8<On&&11>=On),Fn=String.fromCharCode(32),Un=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){Se(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Qn=null;function Kn(e){Fr(e,0)}function $n(e){if(Q(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Qn=Gn=null)}function nr(e){if("value"===e.propertyName&&$n(Qn)){var t=[];Wn(t,Qn,e,Ae(e)),_e(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Qn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Qn)}function sr(e,t){if("click"===e)return $n(t)}function ar(e,t){if("input"===e||"change"===e)return $n(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Gr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Ar(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cr={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionend:Ar("Transition","TransitionEnd")},Er={},xr={};function kr(e){if(Er[e])return Er[e];if(!Cr[e])return e;var t,n=Cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return Er[e]=n[t];return e}u&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);var Sr=kr("animationend"),Ir=kr("animationiteration"),Nr=kr("animationstart"),Tr=kr("transitionend"),Rr=new Map,_r="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){Rr.set(e,t),l(t,[e])}for(var Pr=0;Pr<_r.length;Pr++){var Dr=_r[Pr];jr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}jr(Sr,"onAnimationEnd"),jr(Ir,"onAnimationIteration"),jr(Nr,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Me;Le=!1,Me=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Vr]){e[Vr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Br("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Gt;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}_e((function(){var r=s,i=Ae(n),a=[];e:{var o=Rr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Sr:case Ir:case Nr:l=vn;break;case Tr:l=Rn;break;case"scroll":l=hn;break;case"wheel":l=jn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=je(p,h))&&u.push(Wr(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Nn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:bi(l),f=null==c?o:bi(c),(o=new u(m,p+"leave",l,n,i)).target=d,o.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Qr(f))p++;for(f=0,m=h;m;m=Qr(m))f++;for(;0<p-f;)u=Qr(u),p--;for(;0<f-p;)h=Qr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Qr(u),h=Qr(h)}u=null}else u=null;null!==l&&Kr(a,o,l,u,!1),null!==c&&null!==d&&Kr(a,d,c,u,!0)}if("select"===(l=(o=r?bi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Yn;else if(qn(o))if(Xn)g=ar;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Wn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?bi(r):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(a,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else zn?Bn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==w?"onCompositionEnd"===w&&zn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(v=Gr(r,w)).length&&(w=new bn(w,e,null,n,i),a.push({event:w,listeners:v}),y?w.data=y:null!==(y=Vn(n))&&(w.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&Bn(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=je(e,n))&&r.unshift(Wr(e,s,i)),null!=(s=je(e,t))&&r.push(Wr(e,s,i))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=je(n,s))&&a.unshift(Wr(n,l,o)):i||null!=(l=je(n,s))&&a.push(Wr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Ai(e){return e[fi]||null}var Ci=[],Ei=-1;function xi(e){return{current:e}}function ki(e){0>Ei||(e.current=Ci[Ei],Ci[Ei]=null,Ei--)}function Si(e,t){Ei++,Ci[Ei]=e.current,e.current=t}var Ii={},Ni=xi(Ii),Ti=xi(!1),Ri=Ii;function _i(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ji(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){ki(Ti),ki(Ni)}function Di(e,t,n){if(Ni.current!==Ii)throw Error(s(168));Si(Ni,t),Si(Ti,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,H(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ri=Ni.current,Si(Ni,e),Si(Ti,Ti.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Oi(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,ki(Ti),ki(Ni),Si(Ni,e)):ki(Ti),Si(Ti,n)}var Fi=null,Ui=!1,Bi=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Bi&&null!==Fi){Bi=!0;var e=0,t=wt;try{var n=Fi;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Qe(Ze,zi),i}finally{wt=t,Bi=!1}}return null}var Hi=[],qi=0,Wi=null,Gi=0,Qi=[],Ki=0,$i=null,Yi=1,Xi="";function Ji(e,t){Hi[qi++]=Gi,Hi[qi++]=Wi,Wi=e,Gi=t}function Zi(e,t,n){Qi[Ki++]=Yi,Qi[Ki++]=Xi,Qi[Ki++]=$i,$i=e;var r=Yi;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Xi=s+e}else Yi=1<<s|n<<i|r,Xi=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===Wi;)Wi=Hi[--qi],Hi[qi]=null,Gi=Hi[--qi],Hi[qi]=null;for(;e===$i;)$i=Qi[--Ki],Qi[Ki]=null,Xi=Qi[--Ki],Qi[Ki]=null,Yi=Qi[--Ki],Qi[Ki]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=jc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=jc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vs=xi(null),ys=null,ws=null,bs=null;function As(){bs=ws=ys=null}function Cs(e){var t=vs.current;ki(vs),e._currentValue=t}function Es(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xs(e,t){ys=e,bs=ws=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function ks(e){var t=e._currentValue;if(bs!==e)if(e={context:e,memoizedValue:t,next:null},null===ws){if(null===ys)throw Error(s(308));ws=e,ys.dependencies={lanes:0,firstContext:e}}else ws=ws.next=e;return t}var Ss=null;function Is(e){null===Ss?Ss=[e]:Ss.push(e)}function Ns(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Is(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ts(e,r)}function Ts(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Rs=!1;function _s(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function js(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ps(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ds(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ts(e,n)}return null===(i=r.interleaved)?(t.next=t,Is(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ts(e,n)}function Os(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ls(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ms(e,t,n,r){var i=e.updateQueue;Rs=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:Rs=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ml|=a,e.lanes=a,e.memoizedState=d}}function Fs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Us=(new r.Component).refs;function Bs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Vs={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Ps(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ds(e,s,i))&&(rc(t,e,i,r),Os(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Ps(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ds(e,s,i))&&(rc(t,e,i,r),Os(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ps(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ds(e,i,r))&&(rc(t,e,r,n),Os(t,e,r))}};function zs(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function Hs(e,t,n){var r=!1,i=Ii,s=t.contextType;return"object"===typeof s&&null!==s?s=ks(s):(i=ji(t)?Ri:Ni.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?_i(e,i):Ii),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function qs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vs.enqueueReplaceState(t,t.state,null)}function Ws(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Us,_s(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=ks(s):(s=ji(t)?Ri:Ni.current,i.context=_i(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Bs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Vs.enqueueReplaceState(i,i.state,null),Ms(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Us&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Qs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ks(e){return(0,e._init)(e._payload)}function $s(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===j&&Ks(s)===t.type)?((r=i(t,n.props)).ref=Gs(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=Gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case A:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=Gs(e,null,t),n.return=e,n;case C:return(t=Uc(t,e.mode,n)).return=e,t;case j:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Qs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case A:return n.key===i?c(e,t,n,r):null;case C:return n.key===i?u(e,t,n,r):null;case j:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:d(e,t,n,r,null);Qs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case A:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case C:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case j:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,i,null);Qs(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=a(v,s,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===o.length)return n(i,d),is&&Ji(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(s=a(d,s,m),null===u?c=d:u.sibling=d,u=d);return is&&Ji(i,m),c}for(d=r(i,d);m<o.length;m++)null!==(g=p(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),is&&Ji(i,m),c}function g(i,o,l,c){var u=O(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,c);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),o=a(w,o,g),null===d?u=w:d.sibling=w,d=w,m=v}if(y.done)return n(i,m),is&&Ji(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return is&&Ji(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),is&&Ji(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case A:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===E){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===j&&Ks(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=Gs(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===E?((s=Lc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Oc(a.type,a.key,a.props,null,r.mode,l)).ref=Gs(r,s,a),l.return=r,r=l)}return o(r);case C:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Uc(a,r.mode,l)).return=r,r=s}return o(r);case j:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(O(a))return g(r,s,a,l);Qs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Fc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var Ys=$s(!0),Xs=$s(!1),Js={},Zs=xi(Js),ea=xi(Js),ta=xi(Js);function na(e){if(e===Js)throw Error(s(174));return e}function ra(e,t){switch(Si(ta,t),Si(ea,e),Si(Zs,Js),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Zs),Si(Zs,t)}function ia(){ki(Zs),ki(ea),ki(ta)}function sa(e){na(ta.current);var t=na(Zs.current),n=le(t,e.type);t!==n&&(Si(ea,e),Si(Zs,n))}function aa(e){ea.current===e&&(ki(Zs),ki(ea))}var oa=xi(0);function la(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function ua(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var da=b.ReactCurrentDispatcher,ha=b.ReactCurrentBatchConfig,fa=0,pa=null,ma=null,ga=null,va=!1,ya=!1,wa=0,ba=0;function Aa(){throw Error(s(321))}function Ca(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function Ea(e,t,n,r,i,a){if(fa=a,pa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=null===e||null===e.memoizedState?ao:oo,e=n(r,i),ya){a=0;do{if(ya=!1,wa=0,25<=a)throw Error(s(301));a+=1,ga=ma=null,t.updateQueue=null,da.current=lo,e=n(r,i)}while(ya)}if(da.current=so,t=null!==ma&&null!==ma.next,fa=0,ga=ma=pa=null,va=!1,t)throw Error(s(300));return e}function xa(){var e=0!==wa;return wa=0,e}function ka(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?pa.memoizedState=ga=e:ga=ga.next=e,ga}function Sa(){if(null===ma){var e=pa.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===ga?pa.memoizedState:ga.next;if(null!==t)ga=t,ma=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===ga?pa.memoizedState=ga=e:ga=ga.next=e}return ga}function Ia(e,t){return"function"===typeof t?t(e):t}function Na(e){var t=Sa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ma,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((fa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,pa.lanes|=d,Ml|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,pa.lanes|=a,Ml|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ta(e){var t=Sa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ra(){}function _a(e,t){var n=pa,r=Sa(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,bo=!0),r=r.queue,Ha(Da.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,Fa(9,Pa.bind(null,n,r,i,t),void 0,null),null===Rl)throw Error(s(349));0!==(30&fa)||ja(n,t,i)}return i}function ja(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Pa(e,t,n,r){t.value=n,t.getSnapshot=r,Oa(t)&&La(e)}function Da(e,t,n){return n((function(){Oa(t)&&La(e)}))}function Oa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function La(e){var t=Ts(e,1);null!==t&&rc(t,e,1,-1)}function Ma(e){var t=ka();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:e},t.queue=e,e=e.dispatch=to.bind(null,pa,e),[t.memoizedState,e]}function Fa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ua(){return Sa().memoizedState}function Ba(e,t,n,r){var i=ka();pa.flags|=e,i.memoizedState=Fa(1|t,n,void 0,void 0===r?null:r)}function Va(e,t,n,r){var i=Sa();r=void 0===r?null:r;var s=void 0;if(null!==ma){var a=ma.memoizedState;if(s=a.destroy,null!==r&&Ca(r,a.deps))return void(i.memoizedState=Fa(t,n,s,r))}pa.flags|=e,i.memoizedState=Fa(1|t,n,s,r)}function za(e,t){return Ba(8390656,8,e,t)}function Ha(e,t){return Va(2048,8,e,t)}function qa(e,t){return Va(4,2,e,t)}function Wa(e,t){return Va(4,4,e,t)}function Ga(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4,4,Ga.bind(null,t,e),n)}function Ka(){}function $a(e,t){var n=Sa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ca(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ya(e,t){var n=Sa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ca(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xa(e,t,n){return 0===(21&fa)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),pa.lanes|=n,Ml|=n,e.baseState=!0),t)}function Ja(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=ha.transition;ha.transition={};try{e(!1),t()}finally{wt=n,ha.transition=r}}function Za(){return Sa().memoizedState}function eo(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},no(e))ro(t,n);else if(null!==(n=Ns(e,t,n,r))){rc(n,e,r,tc()),io(n,t,r)}}function to(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))ro(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Is(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ns(e,t,i,r))&&(rc(n,e,r,i=tc()),io(n,t,r))}}function no(e){var t=e.alternate;return e===pa||null!==t&&t===pa}function ro(e,t){ya=va=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function io(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var so={readContext:ks,useCallback:Aa,useContext:Aa,useEffect:Aa,useImperativeHandle:Aa,useInsertionEffect:Aa,useLayoutEffect:Aa,useMemo:Aa,useReducer:Aa,useRef:Aa,useState:Aa,useDebugValue:Aa,useDeferredValue:Aa,useTransition:Aa,useMutableSource:Aa,useSyncExternalStore:Aa,useId:Aa,unstable_isNewReconciler:!1},ao={readContext:ks,useCallback:function(e,t){return ka().memoizedState=[e,void 0===t?null:t],e},useContext:ks,useEffect:za,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ba(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ba(4,2,e,t)},useMemo:function(e,t){var n=ka();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ka();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eo.bind(null,pa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ka().memoizedState=e},useState:Ma,useDebugValue:Ka,useDeferredValue:function(e){return ka().memoizedState=e},useTransition:function(){var e=Ma(!1),t=e[0];return e=Ja.bind(null,e[1]),ka().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pa,i=ka();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Rl)throw Error(s(349));0!==(30&fa)||ja(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,za(Da.bind(null,r,a,e),[e]),r.flags|=2048,Fa(9,Pa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ka(),t=Rl.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ba++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oo={readContext:ks,useCallback:$a,useContext:ks,useEffect:Ha,useImperativeHandle:Qa,useInsertionEffect:qa,useLayoutEffect:Wa,useMemo:Ya,useReducer:Na,useRef:Ua,useState:function(){return Na(Ia)},useDebugValue:Ka,useDeferredValue:function(e){return Xa(Sa(),ma.memoizedState,e)},useTransition:function(){return[Na(Ia)[0],Sa().memoizedState]},useMutableSource:Ra,useSyncExternalStore:_a,useId:Za,unstable_isNewReconciler:!1},lo={readContext:ks,useCallback:$a,useContext:ks,useEffect:Ha,useImperativeHandle:Qa,useInsertionEffect:qa,useLayoutEffect:Wa,useMemo:Ya,useReducer:Ta,useRef:Ua,useState:function(){return Ta(Ia)},useDebugValue:Ka,useDeferredValue:function(e){var t=Sa();return null===ma?t.memoizedState=e:Xa(t,ma.memoizedState,e)},useTransition:function(){return[Ta(Ia)[0],Sa().memoizedState]},useMutableSource:Ra,useSyncExternalStore:_a,useId:Za,unstable_isNewReconciler:!1};function co(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Ps(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Gl=r),ho(0,t)},n}function mo(e,t,n){(n=Ps(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ho(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof r&&(null===Ql?Ql=new Set([this]):Ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function go(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function vo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ps(-1,1)).tag=2,Ds(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wo=b.ReactCurrentOwner,bo=!1;function Ao(e,t,n,r){t.child=null===e?Xs(t,null,n,r):Ys(t,e.child,n,r)}function Co(e,t,n,r,i){n=n.render;var s=t.ref;return xs(t,i),r=Ea(e,t,n,r,s,i),n=xa(),null===e||bo?(is&&n&&es(t),t.flags|=1,Ao(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function Eo(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Pc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,xo(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Wo(e,t,i)}return t.flags|=1,(e=Dc(s,r)).ref=t.ref,e.return=t,t.child=e}function xo(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Wo(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return Io(e,t,n,r,i)}function ko(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Dl,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Dl,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Si(Dl,Pl),Pl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Si(Dl,Pl),Pl|=r;return Ao(e,t,i,n),t.child}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Io(e,t,n,r,i){var s=ji(n)?Ri:Ni.current;return s=_i(t,s),xs(t,i),n=Ea(e,t,n,r,s,i),r=xa(),null===e||bo?(is&&r&&es(t),t.flags|=1,Ao(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function No(e,t,n,r,i){if(ji(n)){var s=!0;Li(t)}else s=!1;if(xs(t,i),null===t.stateNode)qo(e,t),Hs(t,n,r),Ws(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ks(c):c=_i(t,c=ji(n)?Ri:Ni.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&qs(t,a,r,c),Rs=!1;var h=t.memoizedState;a.state=h,Ms(t,r,a,i),l=t.memoizedState,o!==r||h!==l||Ti.current||Rs?("function"===typeof u&&(Bs(t,n,u,r),l=t.memoizedState),(o=Rs||zs(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,js(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:gs(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=ks(l):l=_i(t,l=ji(n)?Ri:Ni.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&qs(t,a,r,l),Rs=!1,h=t.memoizedState,a.state=h,Ms(t,r,a,i);var p=t.memoizedState;o!==d||h!==p||Ti.current||Rs?("function"===typeof f&&(Bs(t,n,f,r),p=t.memoizedState),(c=Rs||zs(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return To(e,t,n,r,s,i)}function To(e,t,n,r,i,s){So(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Mi(t,n,!1),Wo(e,t,s);r=t.stateNode,wo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Ys(t,e.child,null,s),t.child=Ys(t,null,o,s)):Ao(e,t,o,s),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Ro(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ra(e,t.containerInfo)}function _o(e,t,n,r,i){return fs(),ps(i),t.flags|=256,Ao(e,t,n,r),t.child}var jo,Po,Do,Oo,Lo={dehydrated:null,treeContext:null,retryLane:0};function Mo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fo(e,t,n){var r,i=t.pendingProps,a=oa.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Si(oa,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Mc(l,i,0,null),e=Lc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Mo(n),t.memoizedState=Lo,e):Uo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Bo(e,t,o,r=uo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(a=Lc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Ys(t,e.child,null,o),t.child.memoizedState=Mo(o),t.memoizedState=Lo,a);if(0===(1&t.mode))return Bo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Bo(e,t,o,r=uo(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=Rl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ts(e,i),rc(r,e,i,-1))}return gc(),Bo(e,t,o,r=uo(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Qi[Ki++]=Yi,Qi[Ki++]=Xi,Qi[Ki++]=$i,Yi=e.id,Xi=e.overflow,$i=t),t=Uo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Dc(r,o):(o=Lc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Mo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Lo,i}return e=(o=e.child).sibling,i=Dc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uo(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bo(e,t,n,r){return null!==r&&ps(r),Ys(t,e.child,null,n),(e=Uo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Es(e.return,t,n)}function zo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ho(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Ao(e,t,r.children,n),0!==(2&(r=oa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vo(e,n,t);else if(19===e.tag)Vo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(oa,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===la(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===la(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zo(t,!0,n,null,s);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Go(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ko(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qo(t),null;case 1:case 17:return ji(t.type)&&Pi(),Qo(t),null;case 3:return r=t.stateNode,ia(),ki(Ti),ki(Ni),ua(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Po(e,t),Qo(t),null;case 5:aa(t);var i=na(ta.current);if(n=t.type,null!==e&&null!=t.stateNode)Do(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Qo(t),null}if(e=na(Zs.current),ds(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":G(r),Z(r,a,!0);break;case"textarea":G(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,jo(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&w(e,a,u,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Qo(t),null;case 6:if(e&&null!=t.stateNode)Oo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=na(ta.current),na(Zs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Qo(t),null;case 13:if(ki(oa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,a=!1;else if(a=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[hi]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qo(t),a=!1}else null!==ss&&(oc(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&oa.current)?0===Ol&&(Ol=3):gc())),null!==t.updateQueue&&(t.flags|=4),Qo(t),null);case 4:return ia(),Po(e,t),null===e&&zr(t.stateNode.containerInfo),Qo(t),null;case 10:return Cs(t.type._context),Qo(t),null;case 19:if(ki(oa),null===(a=t.memoizedState))return Qo(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Go(a,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=la(e))){for(t.flags|=128,Go(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(oa,1&oa.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Hl&&(t.flags|=128,r=!0,Go(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=la(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Go(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Qo(t),null}else 2*Xe()-a.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,Go(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=oa.current,Si(oa,r?1&n|2:1&n),t):(Qo(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Qo(t),6&t.subtreeFlags&&(t.flags|=8192)):Qo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function $o(e,t){switch(ts(t),t.tag){case 1:return ji(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ia(),ki(Ti),ki(Ni),ua(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return aa(t),null;case 13:if(ki(oa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(oa),null;case 4:return ia(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}jo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Po=function(){},Do=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,na(Zs.current);var s,a=null;switch(n){case"input":i=$(e,i),r=$(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Oo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yo=!1,Xo=!1,Jo="function"===typeof WeakSet?WeakSet:Set,Zo=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){kc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Xo||el(n,t);case 6:var r=dl,i=hl;dl=null,fl(e,t,n),hl=i,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Xo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&tl(n,t,a),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Xo&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){kc(n,t,o)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Xo=(r=Xo)||null!==n.memoizedState,fl(e,t,n),Xo=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(s(160));pl(a,o,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){kc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),we(l,o);var u=we(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):w(i,d,h,u)}switch(l){case"input":J(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){kc(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){kc(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Xe())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xo=(u=Xo)||d,gl(t,e),Xo=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Zo=e,d=e.child;null!==d;){for(h=Zo=d;null!==Zo;){switch(p=(f=Zo).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){Cl(h);continue}}null!==p?(p.return=f,Zo=p):Cl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){kc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(s(161))}}catch(o){kc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,n){Zo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Zo;){var i=Zo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Yo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Xo;o=Yo;var c=Xo;if(Yo=a,(Xo=l)&&!c)for(Zo=i;null!==Zo;)l=(a=Zo).child,22===a.tag&&null!==a.memoizedState?El(i):null!==l?(l.return=a,Zo=l):El(i);for(;null!==s;)Zo=s,bl(s,t,n),s=s.sibling;Zo=i,Yo=o,Xo=c}Al(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Zo=s):Al(e)}}function Al(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xo||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Fs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(s(163))}Xo||512&t.flags&&sl(t)}catch(f){kc(t,t.return,f)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function Cl(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function El(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){kc(t,i,l)}}var s=t.return;try{sl(t)}catch(l){kc(t,s,l)}break;case 5:var a=t.return;try{sl(t)}catch(l){kc(t,a,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var xl,kl=Math.ceil,Sl=b.ReactCurrentDispatcher,Il=b.ReactCurrentOwner,Nl=b.ReactCurrentBatchConfig,Tl=0,Rl=null,_l=null,jl=0,Pl=0,Dl=xi(0),Ol=0,Ll=null,Ml=0,Fl=0,Ul=0,Bl=null,Vl=null,zl=0,Hl=1/0,ql=null,Wl=!1,Gl=null,Ql=null,Kl=!1,$l=null,Yl=0,Xl=0,Jl=null,Zl=-1,ec=0;function tc(){return 0!==(6&Tl)?Xe():-1!==Zl?Zl:Zl=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==jl?jl&-jl:null!==ms.transition?(0===ec&&(ec=mt()),ec):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rc(e,t,n,r){if(50<Xl)throw Xl=0,Jl=null,Error(s(185));vt(e,n,r),0!==(2&Tl)&&e===Rl||(e===Rl&&(0===(2&Tl)&&(Fl|=n),4===Ol&&lc(e,jl)),ic(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Hl=Xe()+500,Ui&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===Rl?jl:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(cc.bind(null,e)):Vi(cc.bind(null,e)),ai((function(){0===(6&Tl)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Rc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zl=-1,ec=0,0!==(6&Tl))throw Error(s(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ht(e,e===Rl?jl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Tl;Tl|=2;var a=mc();for(Rl===e&&jl===t||(ql=null,Hl=Xe()+500,fc(e,t));;)try{wc();break}catch(l){pc(e,l)}As(),Sl.current=a,Tl=i,null!==_l?t=0:(Rl=null,jl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ll,fc(e,0),lc(e,r),ic(e,Xe()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(a=pt(e))&&(r=a,t=ac(e,a))),1===t))throw n=Ll,fc(e,0),lc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Cc(e,Vl,ql);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=zl+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Cc.bind(null,e,Vl,ql),t);break}Cc(e,Vl,ql);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(Cc.bind(null,e,Vl,ql),r);break}Cc(e,Vl,ql);break;default:throw Error(s(329))}}}return ic(e,Xe()),e.callbackNode===n?sc.bind(null,e):null}function ac(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Vl,Vl=n,null!==t&&oc(t)),e}function oc(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function lc(e,t){for(t&=~Ul,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Tl))throw Error(s(327));Ec();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ll,fc(e,0),lc(e,t),ic(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cc(e,Vl,ql),ic(e,Xe()),null}function uc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Hl=Xe()+500,Ui&&zi())}}function dc(e){null!==$l&&0===$l.tag&&0===(6&Tl)&&Ec();var t=Tl;Tl|=1;var n=Nl.transition,r=wt;try{if(Nl.transition=null,wt=1,e)return e()}finally{wt=r,Nl.transition=n,0===(6&(Tl=t))&&zi()}}function hc(){Pl=Dl.current,ki(Dl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==_l)for(n=_l.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:ia(),ki(Ti),ki(Ni),ua();break;case 5:aa(r);break;case 4:ia();break;case 13:case 19:ki(oa);break;case 10:Cs(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Rl=e,_l=e=Dc(e.current,null),jl=Pl=t,Ol=0,Ll=null,Ul=Fl=Ml=0,Vl=Bl=null,null!==Ss){for(t=0;t<Ss.length;t++)if(null!==(r=(n=Ss[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Ss=null}return e}function pc(e,t){for(;;){var n=_l;try{if(As(),da.current=so,va){for(var r=pa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}va=!1}if(fa=0,ga=ma=pa=null,ya=!1,wa=0,Il.current=null,null===n||null===n.return){Ol=1,Ll=t,_l=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=jl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=vo(o);if(null!==p){p.flags&=-257,yo(p,o,l,0,t),1&p.mode&&go(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){go(a,u,t),gc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=vo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),yo(v,o,l,0,t),ps(co(c,l));break e}}a=c=co(c,l),4!==Ol&&(Ol=2),null===Bl?Bl=[a]:Bl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Ls(a,po(0,c,t));break e;case 1:l=c;var y=a.type,w=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Ql||!Ql.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t,Ls(a,mo(a,l,t));break e}}a=a.return}while(null!==a)}Ac(n)}catch(b){t=b,_l===n&&null!==n&&(_l=n=n.return);continue}break}}function mc(){var e=Sl.current;return Sl.current=so,null===e?so:e}function gc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Rl||0===(268435455&Ml)&&0===(268435455&Fl)||lc(Rl,jl)}function vc(e,t){var n=Tl;Tl|=2;var r=mc();for(Rl===e&&jl===t||(ql=null,fc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(As(),Tl=n,Sl.current=r,null!==_l)throw Error(s(261));return Rl=null,jl=0,Ol}function yc(){for(;null!==_l;)bc(_l)}function wc(){for(;null!==_l&&!$e();)bc(_l)}function bc(e){var t=xl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?Ac(e):_l=t,Il.current=null}function Ac(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ko(n,t,Pl)))return void(_l=n)}else{if(null!==(n=$o(n,t)))return n.flags&=32767,void(_l=n);if(null===e)return Ol=6,void(_l=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(_l=t);_l=t=e}while(null!==t);0===Ol&&(Ol=5)}function Cc(e,t,n){var r=wt,i=Nl.transition;try{Nl.transition=null,wt=1,function(e,t,n,r){do{Ec()}while(null!==$l);if(0!==(6&Tl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Rl&&(_l=Rl=null,jl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Rc(tt,(function(){return Ec(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Nl.transition,Nl.transition=null;var o=wt;wt=1;var l=Tl;Tl|=4,Il.current=null,function(e,t){if(ei=qt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(A){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(A){kc(t,t.return,A)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}m=nl,nl=!1}(e,n),vl(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,wl(n,e,i),Ye(),Tl=l,wt=o,Nl.transition=a}else e.current=n;if(Kl&&(Kl=!1,$l=e,Yl=i),a=e.pendingLanes,0===a&&(Ql=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Gl,Gl=null,e;0!==(1&Yl)&&0!==e.tag&&Ec(),a=e.pendingLanes,0!==(1&a)?e===Jl?Xl++:(Xl=0,Jl=e):Xl=0,zi()}(e,t,n,r)}finally{Nl.transition=i,wt=r}return null}function Ec(){if(null!==$l){var e=bt(Yl),t=Nl.transition,n=wt;try{if(Nl.transition=null,wt=16>e?16:e,null===$l)var r=!1;else{if(e=$l,$l=null,Yl=0,0!==(6&Tl))throw Error(s(331));var i=Tl;for(Tl|=4,Zo=e.current;null!==Zo;){var a=Zo,o=a.child;if(0!==(16&Zo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Zo=u;null!==Zo;){var d=Zo;switch(d.tag){case 0:case 11:case 15:rl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Zo=h;else for(;null!==Zo;){var f=(d=Zo).sibling,p=d.return;if(al(d),d===u){Zo=null;break}if(null!==f){f.return=p,Zo=f;break}Zo=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Zo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(a=Zo).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Zo=y;break e}Zo=a.return}}var w=e.current;for(Zo=w;null!==Zo;){var b=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Zo=b;else e:for(o=w;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(C){kc(l,l.return,C)}if(l===o){Zo=null;break e}var A=l.sibling;if(null!==A){A.return=l.return,Zo=A;break e}Zo=l.return}}if(Tl=i,zi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(C){}r=!0}return r}finally{wt=n,Nl.transition=t}}return!1}function xc(e,t,n){e=Ds(e,t=po(0,t=co(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function kc(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ql||!Ql.has(r))){t=Ds(t,e=mo(t,e=co(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Rl===e&&(jl&n)===n&&(4===Ol||3===Ol&&(130023424&jl)===jl&&500>Xe()-zl?fc(e,0):Ul|=n),ic(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Ts(e,t))&&(vt(e,t,n),ic(e,n))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Ic(e,n)}function Rc(e,t){return Qe(e,t)}function _c(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jc(e,t,n,r){return new _c(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=jc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Pc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case E:return Lc(n.children,i,a,t);case x:o=8,i|=8;break;case k:return(e=jc(12,n,t,2|i)).elementType=k,e.lanes=a,e;case T:return(e=jc(13,n,t,i)).elementType=T,e.lanes=a,e;case R:return(e=jc(19,n,t,i)).elementType=R,e.lanes=a,e;case P:return Mc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case I:o=9;break e;case N:o=11;break e;case _:o=14;break e;case j:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=jc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Lc(e,t,n,r){return(e=jc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=jc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=jc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=jc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,s,a,o,l){return e=new Bc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=jc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_s(s),e}function zc(e){if(!e)return Ii;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ji(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(ji(n))return Oi(e,n,t)}return t}function Hc(e,t,n,r,i,s,a,o,l){return(e=Vc(n,r,!0,e,0,s,0,o,l)).context=zc(null),n=e.current,(s=Ps(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Ds(n,s,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function qc(e,t,n,r){var i=t.current,s=tc(),a=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ps(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ds(i,t,a))&&(rc(e,i,a,s),Os(e,i,a)),a}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Qc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}xl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Ro(t),fs();break;case 5:sa(t);break;case 1:ji(t.type)&&Li(t);break;case 4:ra(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(vs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(oa,1&oa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fo(e,t,n):(Si(oa,1&oa.current),null!==(e=Wo(e,t,n))?e.sibling:null);Si(oa,1&oa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ho(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(oa,oa.current),r)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,n)}return Wo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,is&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qo(e,t),e=t.pendingProps;var i=_i(t,Ni.current);xs(t,n),i=Ea(null,t,r,e,i,n);var a=xa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ji(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,_s(t),i.updater=Vs,t.stateNode=i,i._reactInternals=t,Ws(t,r,e,n),t=To(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),Ao(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===_)return 14}return 2}(r),e=gs(r,e),i){case 0:t=Io(null,t,r,e,n);break e;case 1:t=No(null,t,r,e,n);break e;case 11:t=Co(null,t,r,e,n);break e;case 14:t=Eo(null,t,r,gs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Io(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 1:return r=t.type,i=t.pendingProps,No(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 3:e:{if(Ro(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,js(e,t),Ms(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=_o(e,t,r,n,i=co(Error(s(423)),t));break e}if(r!==i){t=_o(e,t,r,n,i=co(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Wo(e,t,n);break e}Ao(e,t,r,n)}t=t.child}return t;case 5:return sa(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),So(e,t),Ao(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Fo(e,t,n);case 4:return ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ys(t,null,r,n):Ao(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 7:return Ao(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ao(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Si(vs,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ti.current){t=Wo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Ps(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Es(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Es(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}Ao(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,xs(t,n),r=r(i=ks(i)),t.flags|=1,Ao(e,t,r,n),t.child;case 14:return i=gs(r=t.type,t.pendingProps),Eo(e,t,r,i=gs(r.type,i),n);case 15:return xo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),qo(e,t),t.tag=1,ji(r)?(e=!0,Li(t)):e=!1,xs(t,n),Hs(t,r,i),Ws(t,r,i,n),To(null,t,r,!0,e,n);case 19:return Ho(e,t,n);case 22:return ko(e,t,n)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Wc(a);o.call(e)}}qc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Wc(a);s.call(e)}}var a=Hc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[pi]=a.current,zr(8===e.nodeType?e.parentNode:e),dc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Wc(l);o.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),dc((function(){qc(t,l,n,r)})),l}(n,t,e,i,r);return Wc(a)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));qc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){qc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},At=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Xe()),0===(6&Tl)&&(Hl=Xe()+500,zi()))}break;case 13:dc((function(){var t=Ts(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Qc(e,1)}},Ct=function(e){if(13===e.tag){var t=Ts(e,134217728);if(null!==t)rc(t,e,134217728,tc());Qc(e,134217728)}},Et=function(e){if(13===e.tag){var t=nc(e),n=Ts(e,t);if(null!==n)rc(n,e,t,tc());Qc(e,t)}},xt=function(){return wt},kt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Ce=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ai(r);if(!i)throw Error(s(90));Q(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=uc,Te=dc;var tu={usingClientEntryPoint:!1,Events:[wi,bi,Ai,Se,Ie,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(s(299));var n=!1,r="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},254:(e,t,n)=>{"use strict";var r=n(599);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},599:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(470)},511:(e,t,n)=>{"use strict";var r=n(390),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},23:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var A=Array.isArray,C=Object.prototype.hasOwnProperty,E={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)C.call(t,i)&&!x.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:E.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+N(l,0):s,A(a)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),T(a,t,i,"",(function(e){return e}))):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",A(e))for(var c=0;c<e.length;c++){var u=s+N(o=e[c],c);l+=T(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=T(o=o.value,t,i,u=s+N(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function _(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var j={current:null},P={transition:null},D={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:P,ReactCurrentOwner:E};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=E.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)C.call(t,c)&&!x.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:_}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return j.current.useCallback(e,t)},t.useContext=function(e){return j.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return j.current.useDeferredValue(e)},t.useEffect=function(e,t){return j.current.useEffect(e,t)},t.useId=function(){return j.current.useId()},t.useImperativeHandle=function(e,t,n){return j.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.current.useMemo(e,t)},t.useReducer=function(e,t,n){return j.current.useReducer(e,t,n)},t.useRef=function(e){return j.current.useRef(e)},t.useState=function(e){return j.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.current.useTransition()},t.version="18.2.0"},390:(e,t,n)=>{"use strict";e.exports=n(23)},559:(e,t,n)=>{"use strict";e.exports=n(511)},17:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function A(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,P(C);else{var t=r(u);null!==t&&D(A,t.startTime-e)}}function C(e,n){m=!1,g&&(g=!1,y(S),S=-1),p=!0;var s=f;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(A,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,x=!1,k=null,S=-1,I=5,N=-1;function T(){return!(t.unstable_now()-N<I)}function R(){if(null!==k){var e=t.unstable_now();N=e;var n=!0;try{n=k(!0,e)}finally{n?E():(x=!1,k=null)}}else x=!1}if("function"===typeof w)E=function(){w(R)};else if("undefined"!==typeof MessageChannel){var _=new MessageChannel,j=_.port2;_.port1.onmessage=R,E=function(){j.postMessage(null)}}else E=function(){v(R,0)};function P(e){k=e,x||(x=!0,E())}function D(e,n){S=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(C))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(S),S=-1):g=!0,D(A,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,P(C))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},124:(e,t,n)=>{"use strict";e.exports=n(17)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".81893c41.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="lab_slh:";n.l=(r,i,s,a)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[i];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/medlabview/",(()=>{var e={179:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var a=n.p+n.u(t),o=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,a=r[0],o=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)s=a[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunklab_slh=self.webpackChunklab_slh||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>$e,hasStandardBrowserEnv:()=>Ye,hasStandardBrowserWebWorkerEnv:()=>Je});var t=n(390),r=n.t(t,2),i=n(254);let s=!1;try{document,s=!0}catch(s){}const a={documentHead:s?document.getElementsByTagName("head")[0]:void 0,apiUrl:"https://api.anymod.com/v2/",cdnUrl:"https://cdn.anymod.com/"},o={initialize(){this.ApiUrl=this.ApiUrl||a.apiUrl,this.Script=this.Script||{ran:!1},this.Page=this.Page&&this.Page.page?this.Page:{page:{},mountedModObjs:{},unmountedEls:[],mountedIds(){return Object.keys(this.mountedModObjs)},mapMmos(e){e&&"function"==typeof e&&this.mountedIds().map((t=>e(this.mountedModObjs[t])))},priorPages:[]},this.Opts=this.Opts&&this.Opts.env?this.Opts:{env:"production",api:!0,inert:!1,preview:!1,tips:!0,priority:3,version:"default"},this.Version=this.Version||{currentVersion:"default"}},assignFromAnyModPageJsIfMatch:()=>{window.AnyModPageJs&&window.AnyModPageJs.page&&window.AnyModPageJs.page.host===window.location.host&&window.AnyModPageJs.page.pathname===window.location.pathname&&Object.keys(window.AnyModPageJs).map((e=>o.Page[e]=JSON.parse(JSON.stringify(window.AnyModPageJs[e]))))}};o.initialize();const l={name:"",lowerCase:"",setAlias:e=>{l.name=e,l.lowerCase=e.toLowerCase();try{o.Alias=window[e].m,o.Project=window[e].o,Object.assign(o.Opts,window[e].r||{}),o.rq=o.rq||[],window[e].rq&&window[e].rq.length>0&&window[e].rq.map((e=>{e&&"function"==typeof e&&o.rq.push(e)}))}catch(e){}o.Opts.preview?o.Opts.tips=!1:o.Opts.inert&&(o.Opts.api=!1,o.Opts.tips=!1),o.External={name:e},"Userfront"===e&&(o.External.project=o.Project,o.Project="59M89E",o.Opts=o.Opts||{},o.Opts.tips=!1)}};"object"==typeof window&&window.amvartem&&(l.setAlias(window.amvartem),delete window.amvartem),l.name||l.setAlias("AnyMod");const c={},u=(e,t,n,r)=>new Promise(((i,s)=>{try{let a=new XMLHttpRequest;if(a.open(e,t),((e,t)=>{e.setRequestHeader("Accept","application/json, text/plain, */*"),e.setRequestHeader("Content-Type","application/json;charset=UTF-8"),o.External&&o.External.project?(e.setRequestHeader("X-Page-Url",window.location.href),e.setRequestHeader("X-Tenant-Id",o.External.project)):(e.setRequestHeader("AnyMod-URL",window.location.href),e.setRequestHeader("AnyMod-Project",o.Project)),t&&Object.keys(t).map((n=>{e.setRequestHeader(n,t[n])}))})(a,r),a.onreadystatechange=()=>{if(4==a.readyState){if(200==a.status)return i(JSON.parse(a.responseText));s(a.statusText)}},"GET"==e)a.send();else{const e=JSON.stringify(n||{});a.send(e)}}catch(e){s(e)}}));c.get=()=>{if(!1===o.Opts.api)return Promise.resolve({});const e=(()=>{if(!o.Opts.preview)return!1;try{if(document.cookie.indexOf("cio.preview")>-1)return document.cookie.split("cio.preview=")[1].split(";")[0]}catch(e){}return!1})(),t=e?{"AnyMod-Preview":e}:void 0;return((e,t)=>u("GET",e,null,t))(o.ApiUrl+"page?anymod="+(()=>{let e=window.location.pathname;try{return encodeURIComponent(btoa(e).replace(/=/g,"")).split("").reverse().join("")}catch(t){return encodeURIComponent(e)}})(),t)},c.post=e=>{if(!1===o.Opts.api)return Promise.resolve({});if(o.Opts.preview)throw new Error("Skipped post request: missing preview identifier");return u("POST",o.ApiUrl+"page",{explicitKeys:e})},c.put=(e,t)=>{if(!1===o.Opts.api)return Promise.resolve({});if(o.Opts.preview)throw new Error("Skipped put request: missing preview identifier");return u("PUT",o.ApiUrl+"page/"+e,{explicitKeys:t})};const d={scriptTag:()=>{try{document}catch(s){return}return document.getElementById(l.name+"-script")},styleTag:()=>{try{document}catch(s){return}return document.querySelector(`[${l.lowerCase}-styles]`)}},h=(e,t)=>{e&&"function"==typeof e&&e(t)};d.createInstanceId=(e,t)=>`${e}${t=t||"-"}${Math.random().toString(36).substr(2,7)}`,d.debugLog=e=>{o&&o.Opts&&o.Opts.debug&&("string"==typeof e&&(e=[e]),console.log.apply(null,[`[${l.name}]`].concat(e)))};const f=(e,t)=>{const n=[];return e.modsWithoutRemainingAssets.map((r=>{e.modsMounted.indexOf(r)>-1||r&&t[r]&&n.push(t[r])})),n},p=e=>{const t=(()=>{const e=[].slice.call(document.querySelectorAll(`[id^="${l.lowerCase}-"],[data-${l.lowerCase}]`)),t=[];return e.map((e=>{if(e&&e.id&&e.id!==l.lowerCase+"-blank"){const n=new RegExp(`(${l.lowerCase}-)`,"g"),r=e.id.replace(n,"");t.indexOf(r)<0&&t.push(r)}})),t})(),n=[];for(let r=0;r<t.length;r++){if(n.length>=e)return n;n.indexOf(t[r])<0&&n.push(t[r])}return n},m=(e,t)=>{e&&t&&(e.queuedAssets=e.queuedAssets.filter((e=>e!==t)))},g=(e,t,n,r)=>{if(t.queuedAssets.indexOf(e)>-1)return;if(document.querySelector('script[src="'+e+'"]'))return t.assetsOnPage.push(e),h(n);t.queuedAssets.push(e);let i=document.createElement("script");i.onload=()=>{d.debugLog(["Loaded",e]),t.jsAssetsLoaded.push(e),m(t,e),h(n)},i.onerror=()=>{d.debugLog(["Error Loading",e]),t.jsAssetsLoaded.push(e),m(t,e),h(n)},r?r.parentNode.insertBefore(i,r):document.body&&document.body.appendChild(i),i.defer=!0,i.async=!1,i.src=e},v=(e,t,n,r)=>{if(t.queuedAssets.indexOf(e)>-1)return;if(document.head.querySelector('link[href="'+e+'"]'))return t.assetsOnPage.push(e),h(n);t.queuedAssets.push(e);let i=document.createElement("link");if(i.onload=()=>{d.debugLog(["Loaded",e]),t.cssAssetsLoaded.push(e),m(t,e),h(n)},i.onerror=()=>{d.debugLog(["Error Loading",e]),t.cssAssetsLoaded.push(e),m(t,e),h(n)},i.rel="stylesheet",i.href=e,!(r=r||d.scriptTag()||d.styleTag()))return document.head.appendChild(i);r.parentNode.insertBefore(i,r)},y=(e,t)=>{t.modsWithRemainingAssets.map((t=>{((e,t)=>{e&&(e.remainingAssets=e.remainingAssets.filter((e=>e!==t)))})(t,e)}))},w=e=>{e.modsWithRemainingAssets&&e.modsWithRemainingAssets.map((t=>((e,t)=>{e&&e.remainingAssets&&t&&0===e.remainingAssets.length&&(t.modsWithoutRemainingAssets.indexOf(e.key)<0&&t.modsWithoutRemainingAssets.push(e.key),t.modsWithRemainingAssets=t.modsWithRemainingAssets.filter((t=>t.key!==e.key)))})(t,e)))},b=(e,t)=>{e&&e.map((e=>h(t,e)))},A=(e,t)=>{e.modsWithRemainingAssets&&0===e.modsWithRemainingAssets.length&&h(t)},C=(e,t,n)=>{e&&t&&(e.modsMounted=t.modsMounted,e.cssAssetsLoaded=t.cssAssetsLoaded,e.jsAssetsLoaded=t.jsAssetsLoaded,e.assetsOnPage=t.assetsOnPage,e.queuedAssets=t.queuedAssets,n&&(e.cssAssetsToLog=t.cssAssetsLoaded,e.jsAssetsToLog=t.jsAssetsLoaded))},E=(e,t,n,r,i)=>{if(d.debugLog([`Loading ${i.priority?"priority ":""}mods`,e]),i=i||{},!e||0===Object.keys(e).length)return h(r);((e,t)=>{Object.keys(e).map((n=>{const r=e[n].cssAssets,i=e[n].jsAssets.filter((e=>t.jsAssetsLoaded.indexOf(e)<0)),s=r.filter((e=>t.cssAssetsLoaded.indexOf(e)<0));i.length<1&&s.length<1?t.modsWithoutRemainingAssets.indexOf(n)<0&&t.modsWithoutRemainingAssets.push(n):t.modsWithRemainingAssets.push({key:n,remainingAssets:i.concat(s)})}))})(e,t),(e=>{e.cssAssetsLoaded.map((t=>y(t,e))),e.jsAssetsLoaded.map((t=>y(t,e)))})(t),w(t);const s=(e=>{let t=[],n=[];return Object.keys(e).map((r=>{t=t.concat(e[r].jsAssets||[]),n=n.concat(e[r].cssAssets||[])})),{jsAssets:t,cssAssets:n}})(e);d.debugLog(["[JS]"].concat(s.jsAssets)),d.debugLog(["[CSS]"].concat(s.cssAssets)),b(f(t,e),n),A(t,r);const a=i.priority&&(i.scriptTag||d.scriptTag())||void 0;((e,t,n,r,i,s)=>{if(e&&0!==e.length)for(;e.length>0;){let a=e.shift();t.jsAssetsLoaded.indexOf(a)>-1||g(a,t,(()=>{y(a,t),w(t),b(f(t,n),r),A(t,i)}),s)}})(s.jsAssets,t,e,n,r,a),((e,t,n,r,i,s)=>{if(e&&0!==e.length)for(;e.length>0;){let a=e.shift();t.cssAssetsLoaded.indexOf(a)>-1||v(a,t,(()=>{y(a,t),w(t),b(f(t,n),r),A(t,i)}),s)}})(s.cssAssets,t,e,n,r,i.styleTag),C(i.parent,t,i.priorityOnly)};d.loadPageAssets=(e,t)=>{let{mods:n}=e;try{document}catch(n){return}if(!n)return;(t=t||{}).parent||(t.parent=o&&o.Page||{});const r=t.overallCb,i={modsWithRemainingAssets:[],modsWithoutRemainingAssets:[],modsMounted:!t.async&&t.parent.modsMounted||[],queuedAssets:t.parent.queuedAssets||[],cssAssetsLoaded:t.parent.cssAssetsLoaded||[],jsAssetsLoaded:t.parent.jsAssetsLoaded||[],assetsOnPage:t.parent.assetsOnPage||[]};t.parent.tracking=t.parent.tracking||i;const s=(e=>{const t=(()=>{if(o&&o.Opts){if("[object Array]"===Object.prototype.toString.call(o.Opts.priority))return o.Opts.priority;{const e="number"==typeof o.Opts.priority?Math.max(parseInt(o.Opts.priority),0):3;return p(e)}}return p(3)})(),n={};return t.map((t=>{t&&e[t]&&(n[t]=e[t])})),n})(n),a=((e,t)=>{const n={};return Object.keys(t).map((r=>{e[r]||(n[r]=t[r])})),n})(s,n),l=e=>{h(t.modCb,e),t.modCb&&e&&e.key&&i.modsMounted.push(e.key),C(t.parent,i,t.priorityOnly)},c=()=>{C(t.parent,i,t.priorityOnly),h(r,i)};t.priority=!0,E(s,i,l,(()=>{if(t.priorityOnly)return h(c);setTimeout((()=>{t.priority=!1,E(a,i,l,c,t)}),1)}),t)},d.currentVersionName=()=>o.Version&&o.Version.currentVersion||"default",d.getCurrentModVersion=e=>{const t=d.currentVersionName();if(!e||!e.versions||!e.versions[t])return e||{};const n={};return e.versions.default=e.versions.default||{},n.data=e.versions[t].data||e.versions.default.data||e.data,n.html=e.versions[t].hasOwnProperty("html")?e.versions[t].html:e.versions.default.html,n.css=e.versions[t].hasOwnProperty("css")?e.versions[t].css:e.versions.default.css,n};let x=()=>"data-cloak-"+l.lowerCase;const k=e=>{if(!e)return console.warn("cloakEl problem");e.hasAttribute(`data-${l.lowerCase}-mounted`)||e.setAttribute(x(),"")},S=e=>{if(!e)return console.warn("uncloakEl problem");e.removeAttribute(x())},I=[],N=(e,t,n,r)=>{if(!e||e.length<1)return;if(n=n||"",r=r||"",t&&I.indexOf(t)>-1&&"live"===n)return;const i=document.createElement("style");t&&(I.push(t),i.setAttribute(`${l.lowerCase}-${t}-${n}`,r)),i.innerHTML=e,a.documentHead.appendChild(i)},T=()=>`[id^="${l.lowerCase}-"],[data-${l.lowerCase}]`,R=e=>e.getAttribute("data-key")||"blank",_=e=>{if(!e.getAttribute("data-key")){if(e.getAttribute("key"))return e.setAttribute("data-key",e.getAttribute("key"));if(e.id&&0===e.id.indexOf(l.lowerCase+"-")){const t=new RegExp(l.lowerCase+"-"),n=e.id.replace(t,"");if(n.indexOf("-")<0)return e.setAttribute("data-key",n)}e.setAttribute("data-key","undefined")}},j=e=>!!e&&(e.innerHTML.length>20||e.innerHTML&&e.innerHTML.trim&&e.innerHTML.trim().replace(/&nbsp;/i,"").length>0),P=[],D=e=>{!e||e.length<1||e.map((e=>P.push(e)))},O=()=>{for(;P.length>0;){let e=P.shift();e&&"function"==typeof e&&e()}},L=e=>void 0===e?{}:JSON.parse(JSON.stringify(e)),M=(e,t)=>{t=t||{};try{if(t.c||(t.c="limit",(t.w||t.h)&&(t.c="scale"),t.w&&t.h&&(t.c="fit")),"limit"!==t.c||t.w||t.h||(t.w=1200),"face"===t.g&&"crop"!==t.c&&"thumb"!==t.c&&"lfill"!==t.c&&(t.c="fill"),e){if(e.indexOf("image/upload")>-1){let n=/\/v\d{8,12}\//g,r=e.match(n)[0],i="/c_"+t.c;return t.w&&(i+=",w_"+t.w),t.h&&(i+=",h_"+t.h),t.g&&(i+=",g_"+t.g),e.split(n).join(i+r)}}else e="https://placeholdit.imgix.net/~text?w="+t.w,t.h&&(e+="&h="+t.h);return e}catch(t){return e}},F=e=>{try{const t=L(e.external);return t?"master"===t.project?{name:t.name,project:o&&o.External&&o.External.project||"master"}:t:{project:null}}catch(e){return{project:null}}},U=()=>{try{document}catch(s){return}o.Page.unmountedEls=[].slice.call(document.querySelectorAll(T().split(",").map((e=>e+`:not([data-${l.lowerCase}-mounted])`)).join(","))),o.Page.unmountedEls.map((e=>_(e)))},B=(e,t)=>{d.debugLog([`[${e.key}] Begin mount`]);let n=d.createInstanceId(e.key,"-live-"),r=t.cloneNode(),i=(e=>{if(!e||e.length<1)return!1;for(let t=0;t<e.length;t++)if(e[t].indexOf("anymod.legacy.vue-axios.js")>-1)return!0;return!1})(e.jsAssets),s=function(e,t,n){if(!e||!t||!t.key)return console.warn("Problem mounting mod ",e,t);const r=d.currentVersionName(),{html:i,css:s}=d.getCurrentModVersion(t);d.debugLog([`[${t.key}] Insert CSS`]),((e,t)=>{const n=((e,t)=>a.documentHead.querySelector(`[${l.lowerCase}-${e}-${t}]`))(e,t=t||"");if(!n)return;a.documentHead.removeChild(n);const r=I.indexOf(e);r>=0&&I.splice(r,1)})(t.key,"live"),N(s,t.key,"live",r);let o=document.createElement("div");if(j(e)){let t=document.createElement("div");t.innerHTML=e.innerHTML,o.appendChild(t)}else o.innerHTML=i||"";let c=[].slice.call(e.attributes),u=["data-key"];try{window.temporaryParent=o;for(let t=0;t<c.length;t++){let n=c[t].nodeName;"data-"===n.substring(0,5)&&u.indexOf(n)<0&&o.firstElementChild.setAttribute(n,e.getAttribute(n))}}catch(e){console.warn(e)}return o.firstChild.id=`${l.lowerCase}-${t.key}`,k(o.firstChild),o.firstChild.setAttribute("data-"+l.lowerCase,n),o.firstChild.setAttribute(t.key,""),o.firstChild.setAttribute(`data-${l.lowerCase}-mounted`,""),((e,t)=>{!t||!t.cssAssets||t.cssAssets.length<1||t.cssAssets.map((t=>{t.indexOf("anymod.c19")>-1&&(e.className+=" c19"),t.indexOf("anymod.c24")>-1&&(e.className+=" c24"),t.indexOf("anymod.namespaced.")>-1&&(e.className+=" "+t.split("anymod.namespaced.")[1].split(".")[0])}))})(o.firstChild,t),d.debugLog([`[${t.key}] Insert HTML`]),((e,t,n)=>{let r=t.parentNode;return n=n||{},r?(t.className&&(e.className=e.className?e.className+" "+t.className:t.className,(e=>{if(!e||!e.className)return;let t=e.className.split(" "),n=[];t.map((e=>{e&&n.indexOf(e)<0&&n.push(e)})),e.className=n.join(" ")})(e)),t.id&&(e.id=t.id),t.style&&t.style.cssText&&(e.style.cssText=t.style.cssText),j(t)&&!n.ignoreOldNodeInnerHtml&&(e.innerHTML=t.innerHTML),r.insertBefore(e,t.nextSibling),r.removeChild(t),e):console.warn("No parent for node",t.outerHTML)})(o.firstChild,e)}(t,e,n);return((e,t,n,r)=>{d.debugLog([`[${t.key}] Evaluate JS`]);try{let i={el:e,key:t.key,instanceId:n,selector:`[data-${l.lowerCase}="${n}"]`,data:L(t.data)||{},external:F(t),versions:L(t.versions)||{}};i.data.recaptchaKey="6LfRih4UAAAAALFsu6ztXQ-bozaU0UuapEee8-Fw",((e,t)=>{try{for(let r=0;r<t.attributes.length;r++){let i=t.attributes[r];i.name&&0===i.name.indexOf("data-")&&i.name.indexOf("data-"+l.lowerCase)&&(e.data[(n=i.name.replace("data-",""),n.replace(/-([a-z])/g,(e=>e[1].toUpperCase())))]=t.getAttribute(i.name))}}catch(e){}var n})(i,e),(e=>{Object.keys(e.data).map((t=>{e.hasOwnProperty(t)||(e[t]=e.data[t])}))})(i),function(e,t){try{const{html:n,css:r,data:i}=d.getCurrentModVersion(e);e.html=n,e.css=r,e.data=i,e.data.modKey=e.key,e.data.componentKey=e.key,Function("mod",';"use strict";var scope=mod;'+t)(e)}catch(t){console.warn(`Problem evaluating mod JS [${e&&e.key}]:`,t)}}(i,t.js),i.data.modKey=t.key,i.data.componentKey=t.key,o.Vue&&r&&(i.methods=i.methods||{},i.methods.buildImage=M,i.el=i.selector,new o.Vue(i))}catch(e){console.warn("Problem evaluating mod JS",e)}})(s,e,n,i),(e=>{d.debugLog([`[${e}] Uncloak`]);const t=document.querySelectorAll(`[data-${l.lowerCase}="${e}"]`);for(var n=0;n<t.length;n++)S(t[n])})(n),o.Page.mountedModObjs[n]={key:e.key,instanceId:n,originalEl:r,mod:e},s},V=e=>{e&&e.key&&(e=>{const t=document.querySelectorAll(`[data-key="${e.key}"]:not([data-${l.lowerCase}-mounted])`);for(let n=0;n<t.length;n++)B(e,t[n])})(e)},z=()=>{if(o.initialize(),o.assignFromAnyModPageJsIfMatch(),H(o.Page.page))return Promise.resolve(o.Page.page);for(let e=0;e<o.Page.priorPages.length;e++)if(H(o.Page.priorPages[e]))return Promise.resolve(o.Page.priorPages[e]);return q()};function H(e){return e&&e.id&&e.host===window.location.host&&e.pathname===window.location.pathname}const q=function(){try{if(!1===o.Opts.api)return Promise.resolve({});const e=[];return U(),o.Page.unmountedEls.map((t=>{const n=R(t);n&&"blank"!==n&&"undefined"!==n&&e.push(n)})),e.length<1?(o.Page.page={mods:{}},Promise.resolve({})):Promise.resolve(c.post(e)).then((function(e){return o.Page.page=e,function(e){for(let t=0;t<o.Page.priorPages.length;t++)if(o.Page.priorPages[t].id===e.id)return o.Page.priorPages[t]=e;o.Page.priorPages.push(e)}(e),e}))}catch(s){return Promise.reject(s)}},W=function(e){try{if(!e||!e.id||!1===o.Opts.api)return Promise.resolve(e);const t=[];let n=!1;return U(),o.Page.unmountedEls.map((n=>{const r=R(n);if(r&&"blank"!==r&&"undefined"!==r)return e.mods[r]?void 0:t.push(r)})),t.map((t=>{e.errorMessages&&"Mod not found in project"==e.errorMessages[t]||(n=!0)})),t.length<1||!n?Promise.resolve(e):Promise.resolve(c.put(e.id,t)).then((function(e){return o.Page.page=e,e}))}catch(e){return Promise.reject(e)}},G=e=>{try{document}catch(e){return}return new Promise(((t,n)=>{if(!e.mods&&"anymod"===l.lowerCase)return console.info("Page has no mods"),t(e);U(),d.loadPageAssets(e,{modCb:V,overallCb:()=>{U(),(e=>{if(!e||!e.implicitKeys||e.implicitKeys.length<1)return;const t=document.querySelectorAll(`[data-key="blank"]:not([data-${l.lowerCase}-mounted])`);for(let n=0;n<e.implicitKeys.length;n++){if(!t[n])return;e.mods[e.implicitKeys[n]]&&(t[n].id=`${l.lowerCase}-${e.implicitKeys[n]}`,t[n].setAttribute("data-key",e.implicitKeys[n]),B(e.mods[e.implicitKeys[n]],t[n]))}})(e),t(e)},parent:o.Page})}))};let Q=Promise.resolve();const K={Singleton:o,alias:l,constants:a,crud:c,utils:d,addScript1ToDocument:(e,t,n)=>{o.initialize(),o.rq=o.rq||[],D(o.rq),o.ready=function(e){o.rq.push(e)};try{document}catch(e){return}e=e||"https://cdn.anymod.com/v2/page/";const r=encodeURIComponent(btoa(window.location.host)),i=`${e}${t}/${encodeURIComponent(btoa(window.location.pathname))}/${r}`;if(document.querySelector(`script[src^='${e}']`))return;const s=document.createElement("script");s.defer=!0,s.src=`${i}?t=${Date.now()}`,o.isScript1Loading=!0,s.onload=()=>{o.isScript1Loading=!1,n&&"function"==typeof n&&n()};const a=document.head.getElementsByTagName("script")[0];a?a.parentNode.insertBefore(s,a):document.getElementsByTagName("head")[0].appendChild(s)},addStyleString:N,addToCallbacks:D,buildImage:M,checkPageAndUpdate:W,cloakString:x,createOrReturnPage:z,executeCallbacks:O,loadScript:(e,t,n)=>{try{document}catch(e){return}n=n||{};let r=document.createElement("script");n.hasOwnProperty("id")&&(r.id=n.id),n.hasOwnProperty("async")&&r.setAttribute("async",n.async),n.hasOwnProperty("defer")&&r.setAttribute("defer",n.defer),t&&(r.onload=t),document.body&&document.body.appendChild(r),r.src=e},loadStyle:(e,t,n)=>{try{document}catch(e){return}n=n||{};let r=document.createElement("link");r.href=e,r.rel="stylesheet",n.id&&(r.id=n.id),t&&(r.onload=t),a.documentHead.appendChild(r)},logErrorsAndTips:()=>{(()=>{if(!o.Page.page||!o.Page.page.errorMessages)return;const e=Object.keys(o.Page.page.errorMessages);if(!(e.length<1)){console.log("%c%s","color: #ea8c01;background:#fcf8e3;font-size:13px;","  Project "+o.Project+". "+e.length+" mod"+(1===e.length?"":"s")+" undeliverable for this page:  ");try{if(/^((?!chrome|android).)*safari/i.test(navigator.userAgent))throw new Error("Skip Safari for console.table");console.table(o.Page.page.errorMessages)}catch(a){e.map(((e,t)=>console.warn(t+": "+e,o.Page.page.errorMessages[e])))}}})(),(()=>{if(!o.Opts.tips||!window.AnyModPageJs)return;let e="";window.AnyModPageJs.cssAssetsToLog&&window.AnyModPageJs.cssAssetsToLog.length>0&&window.AnyModPageJs.cssAssetsToLog.map((t=>e+=`<link href="${t}" rel="stylesheet">\n`)),window.AnyModPageJs.jsAssetsToLog&&window.AnyModPageJs.jsAssetsToLog.length>0&&window.AnyModPageJs.jsAssetsToLog.map((t=>e+=`<script defer src="${t}"><\/script>\n`)),e&&console.log(`\nTo improve page speed, add the following to this page's HTML before the closing </head> tag:\n\n\x3c!-- ${l.name} assets --\x3e\n${e}\x3c!-- /${l.name} assets --\x3e\n\n`)})()},modDataFromEid:e=>{try{let n=o.Page.mountedIds();for(var t=0;t<n.length;t++){let r=o.Page.mountedModObjs[n[t]];if(r.key===e)return r.mod}}catch(e){}return e&&console.warn("Mod not found: "+e),{}},prepareAll:e=>{let t=(()=>{try{document}catch(e){return[]}return[].slice.call(document.querySelectorAll(T()))})();return t.map((e=>{!function(e){e&&(k(e),_(e))}(e)})),t},processPage:G,ready:e=>{d.debugLog(["ready() callback"]),P.push(e),O()},render:e=>(d.debugLog(["render() callback"]),o.Page.modsMounted=[],new Promise((t=>{if(!o.ready)return t();o.ready((()=>{Q=Q.then((()=>function(e){try{return Promise.resolve(z()).then((function(t){return Promise.resolve(W(t)).then((function(t){return Promise.resolve(G(t)).then((function(){e&&"function"==typeof e&&e()}))}))}))}catch(e){return Promise.reject(e)}}(e))),t(Q)}))}))),uncloakNonMods:()=>{try{document}catch(e){return}const e=document.querySelectorAll(`[${x()}]:not([data-${l.lowerCase}])`);for(var t=0;t<e.length;t++)S(e[t])}},$=K;function Y(e,t){return function(){return e.apply(t,arguments)}}const{toString:X}=Object.prototype,{getPrototypeOf:J}=Object,Z=(ee=Object.create(null),e=>{const t=X.call(e);return ee[t]||(ee[t]=t.slice(8,-1).toLowerCase())});var ee;const te=e=>(e=e.toLowerCase(),t=>Z(t)===e),ne=e=>t=>typeof t===e,{isArray:re}=Array,ie=ne("undefined");const se=te("ArrayBuffer");const ae=ne("string"),oe=ne("function"),le=ne("number"),ce=e=>null!==e&&"object"===typeof e,ue=e=>{if("object"!==Z(e))return!1;const t=J(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},de=te("Date"),he=te("File"),fe=te("Blob"),pe=te("FileList"),me=te("URLSearchParams");function ge(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),re(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let a;for(n=0;n<s;n++)a=r[n],t.call(null,e[a],a,e)}}function ve(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const ye="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,we=e=>!ie(e)&&e!==ye;const be=(Ae="undefined"!==typeof Uint8Array&&J(Uint8Array),e=>Ae&&e instanceof Ae);var Ae;const Ce=te("HTMLFormElement"),Ee=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),xe=te("RegExp"),ke=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ge(n,((n,i)=>{let s;!1!==(s=t(n,i,e))&&(r[i]=s||n)})),Object.defineProperties(e,r)},Se="abcdefghijklmnopqrstuvwxyz",Ie="0123456789",Ne={DIGIT:Ie,ALPHA:Se,ALPHA_DIGIT:Se+Se.toUpperCase()+Ie};const Te=te("AsyncFunction"),Re={isArray:re,isArrayBuffer:se,isBuffer:function(e){return null!==e&&!ie(e)&&null!==e.constructor&&!ie(e.constructor)&&oe(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||oe(e.append)&&("formdata"===(t=Z(e))||"object"===t&&oe(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&se(e.buffer),t},isString:ae,isNumber:le,isBoolean:e=>!0===e||!1===e,isObject:ce,isPlainObject:ue,isUndefined:ie,isDate:de,isFile:he,isBlob:fe,isRegExp:xe,isFunction:oe,isStream:e=>ce(e)&&oe(e.pipe),isURLSearchParams:me,isTypedArray:be,isFileList:pe,forEach:ge,merge:function e(){const{caseless:t}=we(this)&&this||{},n={},r=(r,i)=>{const s=t&&ve(n,i)||i;ue(n[s])&&ue(r)?n[s]=e(n[s],r):ue(r)?n[s]=e({},r):re(r)?n[s]=r.slice():n[s]=r};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&ge(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return ge(t,((t,r)=>{n&&oe(t)?e[r]=Y(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,s,a;const o={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)a=i[s],r&&!r(a,e,t)||o[a]||(t[a]=e[a],o[a]=!0);e=!1!==n&&J(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Z,kindOfTest:te,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(re(e))return e;let t=e.length;if(!le(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Ce,hasOwnProperty:Ee,hasOwnProp:Ee,reduceDescriptors:ke,freezeMethods:e=>{ke(e,((t,n)=>{if(oe(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];oe(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return re(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:ve,global:ye,isContextDefined:we,ALPHABET:Ne,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ne.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&oe(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(ce(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=re(e)?[]:{};return ge(e,((e,t)=>{const s=n(e,r+1);!ie(s)&&(i[t]=s)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:Te,isThenable:e=>e&&(ce(e)||oe(e))&&oe(e.then)&&oe(e.catch)};function _e(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Re.inherits(_e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Re.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const je=_e.prototype,Pe={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Pe[e]={value:e}})),Object.defineProperties(_e,Pe),Object.defineProperty(je,"isAxiosError",{value:!0}),_e.from=(e,t,n,r,i,s)=>{const a=Object.create(je);return Re.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),_e.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,s&&Object.assign(a,s),a};const De=_e;function Oe(e){return Re.isPlainObject(e)||Re.isArray(e)}function Le(e){return Re.endsWith(e,"[]")?e.slice(0,-2):e}function Me(e,t,n){return e?e.concat(t).map((function(e,t){return e=Le(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Fe=Re.toFlatObject(Re,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Ue=function(e,t,n){if(!Re.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Re.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Re.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,s=n.dots,a=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Re.isSpecCompliantForm(t);if(!Re.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Re.isDate(e))return e.toISOString();if(!o&&Re.isBlob(e))throw new De("Blob is not supported. Use a Buffer instead.");return Re.isArrayBuffer(e)||Re.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let o=e;if(e&&!i&&"object"===typeof e)if(Re.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Re.isArray(e)&&function(e){return Re.isArray(e)&&!e.some(Oe)}(e)||(Re.isFileList(e)||Re.endsWith(n,"[]"))&&(o=Re.toArray(e)))return n=Le(n),o.forEach((function(e,r){!Re.isUndefined(e)&&null!==e&&t.append(!0===a?Me([n],r,s):null===a?n:n+"[]",l(e))})),!1;return!!Oe(e)||(t.append(Me(i,n,s),l(e)),!1)}const u=[],d=Object.assign(Fe,{defaultVisitor:c,convertValue:l,isVisitable:Oe});if(!Re.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Re.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),Re.forEach(n,(function(n,s){!0===(!(Re.isUndefined(n)||null===n)&&i.call(t,n,Re.isString(s)?s.trim():s,r,d))&&e(n,r?r.concat(s):[s])})),u.pop()}}(e),t};function Be(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Ve(e,t){this._pairs=[],e&&Ue(e,this,t)}const ze=Ve.prototype;ze.append=function(e,t){this._pairs.push([e,t])},ze.toString=function(e){const t=e?function(t){return e.call(this,t,Be)}:Be;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const He=Ve;function qe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function We(e,t,n){if(!t)return e;const r=n&&n.encode||qe,i=n&&n.serialize;let s;if(s=i?i(t,n):Re.isURLSearchParams(t)?t.toString():new He(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const Ge=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Re.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Qe={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ke={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:He,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},$e="undefined"!==typeof window&&"undefined"!==typeof document,Ye=(Xe="undefined"!==typeof navigator&&navigator.product,$e&&["ReactNative","NativeScript","NS"].indexOf(Xe)<0);var Xe;const Je="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Ze={...e,...Ke};const et=function(e){function t(e,n,r,i){let s=e[i++];const a=Number.isFinite(+s),o=i>=e.length;if(s=!s&&Re.isArray(r)?r.length:s,o)return Re.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!a;r[s]&&Re.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],i)&&Re.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}(r[s])),!a}if(Re.isFormData(e)&&Re.isFunction(e.entries)){const n={};return Re.forEachEntry(e,((e,r)=>{t(function(e){return Re.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const tt={transitional:Qe,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=Re.isObject(e);i&&Re.isHTMLForm(e)&&(e=new FormData(e));if(Re.isFormData(e))return r&&r?JSON.stringify(et(e)):e;if(Re.isArrayBuffer(e)||Re.isBuffer(e)||Re.isStream(e)||Re.isFile(e)||Re.isBlob(e))return e;if(Re.isArrayBufferView(e))return e.buffer;if(Re.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Ue(e,new Ze.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Ze.isNode&&Re.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=Re.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Ue(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(Re.isString(e))try{return(t||JSON.parse)(e),Re.trim(e)}catch(s){if("SyntaxError"!==s.name)throw s}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||tt.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&Re.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(s){if(n){if("SyntaxError"===s.name)throw De.from(s,De.ERR_BAD_RESPONSE,this,null,this.response);throw s}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ze.classes.FormData,Blob:Ze.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Re.forEach(["delete","get","head","post","put","patch"],(e=>{tt.headers[e]={}}));const nt=tt,rt=Re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),it=Symbol("internals");function st(e){return e&&String(e).trim().toLowerCase()}function at(e){return!1===e||null==e?e:Re.isArray(e)?e.map(at):String(e)}function ot(e,t,n,r,i){return Re.isFunction(r)?r.call(this,t,n):(i&&(t=n),Re.isString(t)?Re.isString(r)?-1!==t.indexOf(r):Re.isRegExp(r)?r.test(t):void 0:void 0)}class lt{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=st(t);if(!i)throw new Error("header name must be a non-empty string");const s=Re.findKey(r,i);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=at(e))}const s=(e,t)=>Re.forEach(e,((e,n)=>i(e,n,t)));return Re.isPlainObject(e)||e instanceof this.constructor?s(e,t):Re.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?s((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&rt[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&i(t,e,n),this}get(e,t){if(e=st(e)){const n=Re.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Re.isFunction(t))return t.call(this,e,n);if(Re.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=st(e)){const n=Re.findKey(this,e);return!(!n||void 0===this[n]||t&&!ot(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=st(e)){const i=Re.findKey(n,e);!i||t&&!ot(0,n[i],i,t)||(delete n[i],r=!0)}}return Re.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!ot(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return Re.forEach(this,((r,i)=>{const s=Re.findKey(n,i);if(s)return t[s]=at(r),void delete t[i];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();a!==i&&delete t[i],t[a]=at(r),n[a]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Re.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Re.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[it]=this[it]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=st(e);t[r]||(!function(e,t){const n=Re.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return Re.isArray(e)?e.forEach(r):r(e),this}}lt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Re.reduceDescriptors(lt.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),Re.freezeMethods(lt);const ct=lt;function ut(e,t){const n=this||nt,r=t||n,i=ct.from(r.headers);let s=r.data;return Re.forEach(e,(function(e){s=e.call(n,s,i.normalize(),t?t.status:void 0)})),i.normalize(),s}function dt(e){return!(!e||!e.__CANCEL__)}function ht(e,t,n){De.call(this,null==e?"canceled":e,De.ERR_CANCELED,t,n),this.name="CanceledError"}Re.inherits(ht,De,{__CANCEL__:!0});const ft=ht;const pt=Ze.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const a=[e+"="+encodeURIComponent(t)];Re.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),Re.isString(r)&&a.push("path="+r),Re.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function mt(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const gt=Ze.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=Re.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};const vt=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,s=0,a=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[a];i||(i=l),n[s]=o,r[s]=l;let u=a,d=0;for(;u!==s;)d+=n[u++],u%=e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};function yt(e,t){let n=0;const r=vt(50,250);return i=>{const s=i.loaded,a=i.lengthComputable?i.total:void 0,o=s-n,l=r(o);n=s;const c={loaded:s,total:a,progress:a?s/a:void 0,bytes:o,rate:l||void 0,estimated:l&&a&&s<=a?(a-s)/l:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}const wt={http:null,xhr:"undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const i=ct.from(e.headers).normalize();let s,a,{responseType:o,withXSRFToken:l}=e;function c(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}if(Re.isFormData(r))if(Ze.hasStandardBrowserEnv||Ze.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if(!1!==(a=i.getContentType())){const[e,...t]=a?a.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}let u=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+n))}const d=mt(e.baseURL,e.url);function h(){if(!u)return;const r=ct.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new De("Request failed with status code "+n.status,[De.ERR_BAD_REQUEST,De.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),c()}),(function(e){n(e),c()}),{data:o&&"text"!==o&&"json"!==o?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),We(d,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(h)},u.onabort=function(){u&&(n(new De("Request aborted",De.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new De("Network Error",De.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||Qe;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new De(t,r.clarifyTimeoutError?De.ETIMEDOUT:De.ECONNABORTED,e,u)),u=null},Ze.hasStandardBrowserEnv&&(l&&Re.isFunction(l)&&(l=l(e)),l||!1!==l&&gt(d))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&pt.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===r&&i.setContentType(null),"setRequestHeader"in u&&Re.forEach(i.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),Re.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),o&&"json"!==o&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",yt(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",yt(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=t=>{u&&(n(!t||t.type?new ft(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);f&&-1===Ze.protocols.indexOf(f)?n(new De("Unsupported protocol "+f+":",De.ERR_BAD_REQUEST,e)):u.send(r||null)}))}};Re.forEach(wt,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(s){}Object.defineProperty(e,"adapterName",{value:t})}}));const bt=e=>`- ${e}`,At=e=>Re.isFunction(e)||null===e||!1===e,Ct=e=>{e=Re.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){let t;if(n=e[s],r=n,!At(n)&&(r=wt[(t=String(n)).toLowerCase()],void 0===r))throw new De(`Unknown adapter '${t}'`);if(r)break;i[t||"#"+s]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(bt).join("\n"):" "+bt(e[0]):"as no adapter specified";throw new De("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Et(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ft(null,e)}function xt(e){Et(e),e.headers=ct.from(e.headers),e.data=ut.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Ct(e.adapter||nt.adapter)(e).then((function(t){return Et(e),t.data=ut.call(e,e.transformResponse,t),t.headers=ct.from(t.headers),t}),(function(t){return dt(t)||(Et(e),t&&t.response&&(t.response.data=ut.call(e,e.transformResponse,t.response),t.response.headers=ct.from(t.response.headers))),Promise.reject(t)}))}const kt=e=>e instanceof ct?e.toJSON():e;function St(e,t){t=t||{};const n={};function r(e,t,n){return Re.isPlainObject(e)&&Re.isPlainObject(t)?Re.merge.call({caseless:n},e,t):Re.isPlainObject(t)?Re.merge({},t):Re.isArray(t)?t.slice():t}function i(e,t,n){return Re.isUndefined(t)?Re.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function s(e,t){if(!Re.isUndefined(t))return r(void 0,t)}function a(e,t){return Re.isUndefined(t)?Re.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,i,s){return s in t?r(n,i):s in e?r(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(e,t)=>i(kt(e),kt(t),!0)};return Re.forEach(Object.keys(Object.assign({},e,t)),(function(r){const s=l[r]||i,a=s(e[r],t[r],r);Re.isUndefined(a)&&s!==o||(n[r]=a)})),n}const It="1.6.2",Nt={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Nt[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Tt={};Nt.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.2] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,s)=>{if(!1===e)throw new De(r(i," has been removed"+(t?" in "+t:"")),De.ERR_DEPRECATED);return t&&!Tt[i]&&(Tt[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}};const Rt={assertOptions:function(e,t,n){if("object"!==typeof e)throw new De("options must be an object",De.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],a=t[s];if(a){const t=e[s],n=void 0===t||a(t,s,e);if(!0!==n)throw new De("option "+s+" must be "+n,De.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new De("Unknown option "+s,De.ERR_BAD_OPTION)}},validators:Nt},_t=Rt.validators;class jt{constructor(e){this.defaults=e,this.interceptors={request:new Ge,response:new Ge}}request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=St(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&Rt.assertOptions(n,{silentJSONParsing:_t.transitional(_t.boolean),forcedJSONParsing:_t.transitional(_t.boolean),clarifyTimeoutError:_t.transitional(_t.boolean)},!1),null!=r&&(Re.isFunction(r)?t.paramsSerializer={serialize:r}:Rt.assertOptions(r,{encode:_t.function,serialize:_t.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&Re.merge(i.common,i[t.method]);i&&Re.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=ct.concat(s,i);const a=[];let o=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!o){const e=[xt.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=a.length;let h=t;for(d=0;d<u;){const e=a[d++],t=a[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=xt.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return We(mt((e=St(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}Re.forEach(["delete","get","head","options"],(function(e){jt.prototype[e]=function(t,n){return this.request(St(n||{},{method:e,url:t,data:(n||{}).data}))}})),Re.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(St(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}jt.prototype[e]=t(),jt.prototype[e+"Form"]=t(!0)}));const Pt=jt;class Dt{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new ft(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;const t=new Dt((function(t){e=t}));return{token:t,cancel:e}}}const Ot=Dt;const Lt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Lt).forEach((e=>{let[t,n]=e;Lt[n]=t}));const Mt=Lt;const Ft=function e(t){const n=new Pt(t),r=Y(Pt.prototype.request,n);return Re.extend(r,Pt.prototype,n,{allOwnKeys:!0}),Re.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(St(t,n))},r}(nt);Ft.Axios=Pt,Ft.CanceledError=ft,Ft.CancelToken=Ot,Ft.isCancel=dt,Ft.VERSION=It,Ft.toFormData=Ue,Ft.AxiosError=De,Ft.Cancel=Ft.CanceledError,Ft.all=function(e){return Promise.all(e)},Ft.spread=function(e){return function(t){return e.apply(null,t)}},Ft.isAxiosError=function(e){return Re.isObject(e)&&!0===e.isAxiosError},Ft.mergeConfig=St,Ft.AxiosHeaders=ct,Ft.formToJSON=e=>et(Re.isHTMLForm(e)?new FormData(e):e),Ft.getAdapter=Ct,Ft.HttpStatusCode=Mt,Ft.default=Ft;const Ut=Ft;var Bt=n(646),Vt=n.n(Bt);const zt={user:{},tokens:{},mode:"live"};function Ht(e){try{const t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(window.atob(t).split("").map((e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2))).join(""));return JSON.parse(n)}catch(e){console.error("Problem decoding JWT payload",e)}}function qt(e){try{if(!e)return!1;const t=Ht(e);return new Date(1e3*t.exp)>new Date}catch(e){return!1}}function Wt(e){var t,n;if(e){if("string"==typeof e)throw new Error(e);if(null!=e&&null!=(t=e.response)&&null!=(n=t.data)&&n.message)throw new Error(e.response.data.message);throw e}}function Gt(){return"undefined"!=typeof window}const Qt=zt.user;function Kt(e){return e.replace(/([^:]\/)\/+/g,"$1")}const $t=function(e,t,n){try{const r=Kt(`${zt.baseUrl}${e}`);return Promise.resolve(Ut.put(r,t,n))}catch(s){return Promise.reject(s)}},Yt=function(e,t,n){try{const r=Kt(`${zt.baseUrl}${e}`);return Promise.resolve(Ut.post(r,t,n))}catch(s){return Promise.reject(s)}},Xt=function(e,t){try{const n=Kt(`${zt.baseUrl}${e}`);return Promise.resolve(Ut.get(n,t))}catch(s){return Promise.reject(s)}};function Jt(e,t,n){const r=`${n}.${zt.tenantId}`;t=t||{secure:"live"===zt.mode,sameSite:"Lax"},"refresh"===n&&(t.sameSite="Strict"),Vt().set(r,e,t)}function Zt(e){let t,n;try{const e=window.location.pathname,r=window.location.hostname,i=r.split(".").slice(-2).join(".");t=[void 0,e,"/"],n=[void 0,r,`.${r}`,i,`.${i}`]}catch(e){t=[void 0,"/"],n=[void 0]}t.map((t=>{n.map((n=>{const r={};n&&(r.domain=n),t&&(r.path=t),Vt().remove(e,r)}))}))}function en(){Zt(zt.tokens.accessTokenName),Zt(zt.tokens.idTokenName),Zt(zt.tokens.refreshTokenName),zt.tokens.accessToken=void 0,zt.tokens.idToken=void 0,zt.tokens.refreshToken=void 0,function(){for(const e in zt.user)"function"!=typeof zt.user[e]&&delete zt.user[e]}()}function tn(){return!!mn.firstFactorToken}function nn(){return mn.firstFactorToken?{authorization:`Bearer ${mn.firstFactorToken}`}:{}}function rn(){mn.secondFactors=[],mn.firstFactorToken=null}const sn=function(){try{return Promise.resolve(an()).then((function(e){return{isLoggedIn:e,needsSecondFactor:tn(),firstFactors:mn.firstFactors,secondFactors:mn.secondFactors,resetMfaState:rn}}))}catch(s){return Promise.reject(s)}},an=function(){return Promise.resolve(function(e,t){try{var n=!!An()||!!qt(zt.tokens.refreshToken)&&Promise.resolve(yn()).then((function(){return An()}))}catch(e){return!1}return n&&n.then?n.then(void 0,(function(){return!1})):n}())},on={codeChallenge:"",get usePkce(){return!!on.codeChallenge}};function ln(){Gt()&&(window.localStorage.removeItem("uf_pkce_code_challenge"),window.localStorage.removeItem("uf_pkce_code_challenge_expiresAt"))}function cn(){if(!Gt())return;const e=dn("code_challenge");if(e)return on.codeChallenge=e,function(e){if(!Gt())return;if(!e)return ln();on.codeChallenge=e;const t=Date.now()+3e5;try{window.localStorage.setItem("uf_pkce_code_challenge",e),window.localStorage.setItem("uf_pkce_code_challenge_expiresAt",t)}catch(e){}}(e),!0;const t=function(){if(!Gt())return;const e=window.localStorage.getItem("uf_pkce_code_challenge");if(e){const t=window.localStorage.getItem("uf_pkce_code_challenge_expiresAt");if(t&&parseInt(t,10)>Date.now())return e}}();return t?(on.codeChallenge=t,!0):(ln(),!1)}function un(){return on.usePkce?{code_challenge:on.codeChallenge}:{}}function dn(e){if("object"==typeof window&&"object"==typeof window.location&&window.location.href&&!(window.location.href.indexOf(`${e}=`)<0))return decodeURIComponent(window.location.href.split(`${e}=`)[1].split("&")[0])}const hn=(e,t)=>{!1!==e&&fn(!0!==e?e||dn("redirect")||t.redirectTo||"/":dn("redirect")||t.redirectTo||"/")};function fn(e){if(!e||"object"!=typeof document||"object"!=typeof window)return;try{document&&window}catch(e){return}const t=document.createElement("a");t.href=e,t.pathname!==window.location.pathname&&window.location.assign(`${t.pathname}${t.hash}${t.search}`)}const pn=function(e){let{data:t,redirect:n,handleUpstreamResponse:r,handleMfaRequired:i,handlePkceRequired:s,handleTokens:a,handleRedirect:o}=e;try{function l(){let e;function r(r){if(e)return r;function i(){let e;function r(r){if(e)return r;const i=function(){if(t.hasOwnProperty("redirectTo")&&!1!==n){const e=function(){if("function"==typeof o)return Promise.resolve(o(c,t)).then((function(){}));hn(c,t)}();if(e&&e.then)return e.then((function(){}))}}();return i&&i.then?i.then((function(){return t})):t}const i=function(){if(t.hasOwnProperty("authorizationCode")){if(!c)throw new Error("Missing PKCE redirect url");return"function"==typeof s?Promise.resolve(s(t.authorizationCode,c,t)).then((function(){})):(function(e,t,n){if(!t||!e)return;on.usePkce||console.warn("Redirecting with a PKCE authorization code, but no PKCE challenge code is present in the client. This is unexpected.");const r=new URL(t);r.searchParams.set("authorization_code",e),ln(),window.location.assign(r.href)}(t.authorizationCode,c),e=1,t)}}();return i&&i.then?i.then(r):r(i)}const l=function(){if(t.hasOwnProperty("tokens")){const e="function"==typeof a?Promise.resolve(a(t.tokens,t)).then((function(){})):Promise.resolve(wn(t.tokens,t)).then((function(){}));if(e&&e.then)return e.then((function(){}))}}();return l&&l.then?l.then(i):i()}const l=function(){if(t.hasOwnProperty("firstFactorToken")){function n(){return e=1,t}const r=function(){if("function"==typeof i)return Promise.resolve(i(t.firstFactorToken,t)).then((function(){}));!function(e,t){t.isMfaRequired?(mn.firstFactorToken=e,mn.secondFactors=t.authentication.secondFactors):"OK"===t.message&&rn()}(t.firstFactorToken,t)}();return r&&r.then?r.then(n):n()}}();return l&&l.then?l.then(r):r(l)}let c=n||dn("redirect")||t.redirectTo||"/";const u=function(){if("function"==typeof r)return Promise.resolve(r(t.upstreamResponse,t)).then((function(){}))}();return Promise.resolve(u&&u.then?u.then(l):l())}catch(g){return Promise.reject(g)}},mn={firstFactors:[],secondFactors:[],firstFactorToken:null};function gn(e){Jt(e.access.value,e.access.cookieOptions,"access"),Jt(e.id.value,e.id.cookieOptions,"id"),e.refresh&&e.refresh.value&&Jt(e.refresh.value,e.refresh.cookieOptions,"refresh"),bn()}function vn(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}const yn=function(){try{const e=vn((function(){return Promise.resolve(function(){try{const e=Vt().get(zt.tokens.refreshTokenName);return Promise.resolve(vn((function(){return Promise.resolve(Xt("/auth/refresh",{headers:{authorization:`Bearer ${e}`}})).then((function(e){let{data:t,status:n}=e;if(200!==n)throw new Error(t.message||"Problem with request");if(t.tokens)return gn(t.tokens),t;throw new Error("Problem setting cookies")}))}),(function(e){Wt(e)})))}catch(e){return Promise.reject(e)}}()).then((function(){}))}),(function(e){console.warn(`Refresh failed: ${e.message}`)}));return Promise.resolve(e&&e.then?e.then((function(){})):void 0)}catch(s){return Promise.reject(s)}},wn=function(e,t){try{return gn(e),Promise.resolve(function(e){let{}=e;return Promise.resolve()}(t)).then((function(){}))}catch(e){return Promise.reject(e)}};function bn(){["access","id","refresh"].map((e=>{try{const t=Vt().get(zt.tokens[`${e}TokenName`]);zt.tokens[`${e}Token`]=t,"id"===e&&t&&function(){if(!zt.tokens.idToken)return console.warn("Cannot define user: missing ID token");zt.user=zt.user||{};const e=Ht(zt.tokens.idToken),t=["email","phoneNumber","username","name","image","data","createdAt","updatedAt","mode","userId","userUuid","tenantId","isEmailConfirmed","isPhoneNumberConfirmed","confirmedEmailAt","confirmedPhoneNumberAt","isMfaRequired","isConfirmed"];for(const n of t){if("update"===n)return;zt.user[n]=e[n]}}()}catch(l){console.warn(`Problem setting ${e} token.`)}}))}function An(){return qt(zt.tokens.accessToken)}zt.tokens=zt.tokens||{},zt.tokens.refresh=yn;const Cn=zt.tokens;function En(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}const xn=function(e){let{password:t,existingPassword:n}=e;try{return Promise.resolve(En((function(){if(!zt.tokens.accessToken)throw new Error('updatePassword({ method: "jwt" }) was called without a JWT access token.');const{tenantId:e}=zt;return Promise.resolve($t(`/tenants/${e}/auth/basic`,{password:t,existingPassword:n},{headers:{Authorization:`Bearer ${zt.tokens.accessToken}`}})).then((function(e){let{data:t}=e;return t}))}),(function(e){Wt(e)})))}catch(t){return Promise.reject(t)}},kn=function(e){let{uuid:t,token:n,password:r,redirect:i,handleUpstreamResponse:s,handleMfaRequired:a,handlePkceRequired:o,handleTokens:l,handleRedirect:c}=e;try{return Promise.resolve(En((function(){if(n=n||dn("token"),t=t||dn("uuid"),!n||!t)throw new Error("Missing token or uuid");const{tenantId:e}=zt;return Promise.resolve($t(`/tenants/${e}/auth/reset`,{uuid:t,token:n,password:r})).then((function(e){let{data:t}=e;return pn({data:t,redirect:i,handleUpstreamResponse:s,handleMfaRequired:a,handlePkceRequired:o,handleTokens:l,handleRedirect:c})}))}),(function(e){Wt(e)})))}catch(t){return Promise.reject(t)}},Sn=function(e){let{method:t,password:n,existingPassword:r,uuid:i,token:s,redirect:a,handleUpstreamResponse:o,handleMfaRequired:l,handlePkceRequired:c,handleTokens:u,handleRedirect:d}=e;try{switch(t){case"link":return kn({uuid:i,token:s,password:n,redirect:a,handleUpstreamResponse:o,handleMfaRequired:l,handlePkceRequired:c,handleTokens:u,handleRedirect:d});case"jwt":return xn({password:n,existingPassword:r});default:if(s=s||dn("token"),(i=i||dn("uuid"))&&s)return kn({uuid:i,token:s,password:n,redirect:a,handleUpstreamResponse:o,handleMfaRequired:l,handlePkceRequired:c,handleTokens:u,handleRedirect:d});if(zt.tokens.accessToken)return xn({password:n,existingPassword:r});throw new Error("updatePassword() was called without link credentials (token & uuid) or a JWT access token.")}}catch(t){return Promise.reject(t)}},In=Sn;function Nn(e){let{provider:t,redirect:n,providerId:r}=e;if(!t)throw new Error("Missing provider");const i=function(e){let{provider:t,redirect:n,providerId:r}=e;if(!t)throw new Error("Missing provider");if(!zt.tenantId)throw new Error("Missing tenantId");if("custom"===t&&!r)throw new Error("Missing providerId");const i=new URL(`${zt.baseUrl}auth/${t}/login`);i.searchParams.append("origin",window.location.origin),i.searchParams.append("tenant_id",zt.tenantId),"custom"===t&&i.searchParams.append("provider_id",r);let s=n||dn("redirect");return!1===n&&(s="object"==typeof document&&document.location.pathname),s&&i.searchParams.append("redirect",s),i.toString()}({provider:t,redirect:n,providerId:r});window.location.assign(i)}function Tn(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}const Rn=function(e){let{email:t,name:n,username:r,userData:i,options:s}=e;try{return Promise.resolve(Tn((function(){const{tenantId:e}=zt;return Promise.resolve(Yt(`/tenants/${e}/auth/link`,{email:t,name:n,username:r,data:i,options:s})).then((function(e){let{data:t}=e;return t}))}),(function(e){Wt(e)})))}catch(t){return Promise.reject(t)}};function _n(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}function jn(e){let{channel:t,phoneNumber:n,email:r}=e;if("sms"!==t&&"email"!==t)throw new Error("Invalid channel");if(!tn()){if("sms"===t&&!n)throw new Error('SMS verification code requires "phoneNumber"');if("email"===t&&!r)throw new Error('Email verification code requires "email"')}}const Pn=function(e){let{channel:t="sms",phoneNumber:n,email:r,name:i,username:s,data:a}=e;try{return Promise.resolve(_n((function(){jn({channel:t,phoneNumber:n,email:r});const{tenantId:e}=zt;return Promise.resolve(Yt(`/tenants/${e}/auth/code`,{channel:t,email:r,phoneNumber:n,name:i,username:s,data:a},{headers:nn()})).then((function(e){let{data:t}=e;return t}))}),(function(e){Wt(e)})))}catch(t){return Promise.reject(t)}};function Dn(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}function On(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}const Ln=/((^127\.)|(^10\.)|(^172\.1[6-9]\.)|(^172\.2[0-9]\.)|(^172\.3[0-1]\.)|(^192\.168\.))\d{1,3}\.\d{1,3}/g,Mn=function(){try{return Promise.resolve(function(e,t){try{var n=Promise.resolve(Xt(`/tenants/${zt.tenantId}/mode`)).then((function(e){let{data:t}=e;var n;return Fn.value=t.mode||"test",Fn.reason=Bn(Fn.value),zt.mode=Fn.value,n=t.authentication,zt.tenantId?n&&"object"==typeof n&&Array.isArray(n.firstFactors)?mn.firstFactors=n.firstFactors:console.warn("setFirstFactors: invalid factors passed."):console.warn("setFirstFactors: tried to set factors without a tenantId set."),t}))}catch(e){return t()}return n&&n.then?n.then(void 0,t):n}(0,(function(){Fn.value="test",zt.mode=Fn.value})))}catch(s){return Promise.reject(s)}},Fn={value:"live",reason:void 0,setMode:Mn};function Un(){const e=function(e){try{const e=window.location.hostname;return!(!e.match(/localhost/g)&&!e.match(Ln))}catch(e){return!0}}()||!function(){try{return"https:"===window.location.protocol}catch(e){return!1}}()?"test":"live";Fn.value=e,Fn.reason=Bn(e),zt.mode=e}function Bn(e){try{return"live"===e?"domain":"http:"===window.location.protocol?"http":"https:"!==window.location.protocol?"protocol":"domain"}catch(e){}}Un(),zt.user.update=function(e){try{return!e||Object.keys(e).length<1?Promise.resolve(console.warn("Missing user properties to update")):Promise.resolve($t("/self",e,{headers:{authorization:`Bearer ${zt.tokens.accessToken}`}})).then((function(){return Promise.resolve(yn()).then((function(){return zt.user}))}))}catch(e){return Promise.reject(e)}},zt.user.hasRole=function(e){let{tenantId:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{if(!zt.tokens.accessToken||!zt.tenantId)return!1;const{authorization:n}=Ht(zt.tokens.accessToken);return!!n&&!(!n[t=t||zt.tenantId]||!n[t].roles)&&n[t].roles.indexOf(e)>-1}catch(e){return!1}},zt.user.updatePassword=Sn,zt.user.getTotp=function(){try{let e;return Promise.resolve(Dn((function(){function t(t){if(e)return t;if(!zt.tokens.accessToken)throw new Error("getTotp() was called without a JWT access token.");return Promise.resolve(Xt("/auth/totp",{headers:{Authorization:`Bearer ${zt.tokens.accessToken}`}})).then((function(e){let{data:t}=e;return t}))}const n=function(){if(tn())return Promise.resolve(Xt("/auth/totp",{headers:nn()})).then((function(t){let{data:n}=t;return e=1,n}))}();return n&&n.then?n.then(t):t(n)}),(function(e){Wt(e)})))}catch(s){return Promise.reject(s)}};let Vn=[],zn=!1;var Hn={addInitCallback:function(e){e&&"function"==typeof e&&Vn.push(e)},init:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return console.warn("Userfront initialized without tenantId");if(zt.tenantId=e,zt.baseUrl=t.baseUrl||"https://api.userfront.com/v0/",zt.baseUrl.endsWith("/")||(zt.baseUrl+="/"),t.domain){zt.domain=t.domain;const e=`https://${zt.domain}`;Ut.defaults.headers.common["x-application-id"]=e,Ut.defaults.headers.common["x-origin"]=e}zt.tokens=zt.tokens||{},zt.tokens.accessTokenName=`access.${zt.tenantId}`,zt.tokens.idTokenName=`id.${zt.tenantId}`,zt.tokens.refreshTokenName=`refresh.${zt.tenantId}`,bn(),Un(),rn(),mn.firstFactors=[];try{Vn.length>0&&Vn.forEach((t=>{t&&"function"==typeof t&&t({tenantId:e})})),Vn=[]}catch(s){}},registerUrlChangedEventListener:function(){if(!zn){zn=!0;try{history.pushState=(e=history.pushState,function(){var t=e.apply(this,arguments);return window.dispatchEvent(new Event("pushstate")),window.dispatchEvent(new Event("urlchanged")),t}),history.replaceState=(e=>function(){var t=e.apply(this,arguments);return window.dispatchEvent(new Event("replacestate")),window.dispatchEvent(new Event("urlchanged")),t})(history.replaceState),window.addEventListener("popstate",(()=>{window.dispatchEvent(new Event("urlchanged"))}))}catch(e){}var e}},logout:function(){let{method:e,redirect:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{if("saml"===e)return function(){try{if(!zt.tokens.accessToken)throw new Error("Please log in to authorize your logout request.");const e=On((function(){return Promise.resolve(Xt("/auth/saml/idp/token",{headers:{authorization:`Bearer ${zt.tokens.accessToken}`}})).then((function(e){let{data:t}=e;window.location.assign(`${zt.baseUrl}auth/saml/idp/logout?tenant_id=${zt.tenantId}&token=${t.token}&uuid=${zt.user.userUuid}`)}))}),(function(e){Wt(e)}));return Promise.resolve(e&&e.then?e.then((function(){})):void 0)}catch(e){return Promise.reject(e)}}();if(!zt.tokens.accessToken)return Promise.resolve(en());const n=On((function(){return Promise.resolve(Xt("/auth/logout",{headers:{authorization:`Bearer ${zt.tokens.accessToken}`}})).then((function(e){let{data:n}=e;en(),hn(t,n)}))}),(function(){en()}));return Promise.resolve(n&&n.then?n.then((function(){})):void 0)}catch(e){return Promise.reject(e)}},mode:Fn,setMode:Mn,refresh:(e,t,n)=>{try{console.warn("Userfront.refresh() is deprecated and will be removed. Please use Userfront.tokens.refresh() instead.")}catch(e){}return yn()},login:function(){let{method:e,userId:t,userUuid:n,email:r,username:i,emailOrUsername:s,phoneNumber:a,password:o,token:l,uuid:c,totpCode:u,backupCode:d,channel:h,verificationCode:f,providerId:p,redirect:m,handleUpstreamResponse:g,handleMfaRequired:v,handlePkceRequired:y,handleTokens:w,handleRedirect:b,options:A}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{if(!e)throw new Error('Userfront.login called without "method" property.');switch(cn(),e){case"apple":case"azure":case"facebook":case"github":case"google":case"linkedin":case"okta":return Promise.resolve(Nn({provider:e,redirect:m}));case"custom":return Promise.resolve(Nn({provider:e,redirect:m,providerId:p}));case"password":return Promise.resolve(function(e){let{email:t,username:n,emailOrUsername:r,password:i,redirect:s,handleUpstreamResponse:a,handleMfaRequired:o,handlePkceRequired:l,handleTokens:c,handleRedirect:u,options:d}=e;try{return Promise.resolve(En((function(){const e={emailOrUsername:t||n||r,password:i};d&&d.noResetEmail&&(e.options={noResetEmail:!0});const{tenantId:h}=zt;return Promise.resolve(Yt(`/tenants/${h}/auth/basic`,e,{headers:nn(),params:un()})).then((function(e){let{data:t}=e;return pn({data:t,redirect:s,handleUpstreamResponse:a,handleMfaRequired:o,handlePkceRequired:l,handleTokens:c,handleRedirect:u})}))}),(function(e){Wt(e)})))}catch(t){return Promise.reject(t)}}({email:r,username:i,emailOrUsername:s,password:o,redirect:m,handleUpstreamResponse:g,handleMfaRequired:v,handlePkceRequired:y,handleTokens:w,handleRedirect:b,options:A}));case"password-migrate":return Promise.resolve(function(e){let{email:t,username:n,emailOrUsername:r,password:i,redirect:s,handleUpstreamResponse:a,handleMfaRequired:o,handlePkceRequired:l,handleTokens:c,handleRedirect:u,options:d}=e;try{return Promise.resolve(function(e,h){try{var f=function(){const e={emailOrUsername:t||n||r,password:i};d&&d.noResetEmail&&(e.options={noResetEmail:!0});const{tenantId:h}=zt;return Promise.resolve(Yt(`/tenants/${h}/auth/password/migrate`,e,{headers:nn(),params:un()})).then((function(e){let{data:t}=e;return pn({data:t,redirect:s,handleUpstreamResponse:a,handleMfaRequired:o,handlePkceRequired:l,handleTokens:c,handleRedirect:u})}))}()}catch(t){return h(t)}return f&&f.then?f.then(void 0,h):f}(0,(function(e){Wt(e)})))}catch(t){return Promise.reject(t)}}({email:r,username:i,emailOrUsername:s,password:o,redirect:m,handleUpstreamResponse:g,handleMfaRequired:v,handlePkceRequired:y,handleTokens:w,handleRedirect:b,options:A}));case"passwordless":return Promise.resolve(Rn({email:r}));case"link":return Promise.resolve(function(){let{token:e,uuid:t,redirect:n,handleUpstreamResponse:r,handleMfaRequired:i,handlePkceRequired:s,handleTokens:a,handleRedirect:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return Promise.resolve(Tn((function(){if(e=e||dn("token"),t=t||dn("uuid"),!e||!t)return;const{tenantId:l}=zt;return Promise.resolve($t(`/tenants/${l}/auth/link`,{token:e,uuid:t},{headers:nn(),params:un()})).then((function(e){let{data:t}=e;return pn({data:t,redirect:n,handleUpstreamResponse:r,handleMfaRequired:i,handlePkceRequired:s,handleTokens:a,handleRedirect:o})}))}),(function(e){Wt(e)})))}catch(e){return Promise.reject(e)}}({token:l,uuid:c,redirect:m,handleUpstreamResponse:g,handleMfaRequired:v,handlePkceRequired:y,handleTokens:w,handleRedirect:b}));case"totp":return Promise.resolve(function(){let{totpCode:e,backupCode:t,userId:n,userUuid:r,emailOrUsername:i,email:s,username:a,phoneNumber:o,redirect:l,handleUpstreamResponse:c,handleMfaRequired:u,handlePkceRequired:d,handleTokens:h,handleRedirect:f}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return Promise.resolve(Dn((function(){const{tenantId:p}=zt;return Promise.resolve(Yt(`/tenants/${p}/auth/totp`,{totpCode:e,backupCode:t,userId:n,userUuid:r,emailOrUsername:i,email:s,username:a,phoneNumber:o},{headers:nn(),params:un()})).then((function(e){let{data:t}=e;return pn({data:t,redirect:l,handleUpstreamResponse:c,handleMfaRequired:u,handlePkceRequired:d,handleTokens:h,handleRedirect:f})}))}),(function(e){Wt(e)})))}catch(e){return Promise.reject(e)}}({totpCode:u,backupCode:d,userId:t,userUuid:n,emailOrUsername:s,email:r,username:i,phoneNumber:a,redirect:m,handleUpstreamResponse:g,handleMfaRequired:v,handlePkceRequired:y,handleTokens:w,handleRedirect:b}));case"verificationCode":return Promise.resolve(function(){let{channel:e,verificationCode:t,email:n,phoneNumber:r,redirect:i,handleUpstreamResponse:s,handleMfaRequired:a,handlePkceRequired:o,handleTokens:l,handleRedirect:c}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return Promise.resolve(_n((function(){jn({channel:e,phoneNumber:r,email:n});const{tenantId:u}=zt;return Promise.resolve($t(`/tenants/${u}/auth/code`,{channel:e,verificationCode:t,email:n,phoneNumber:r},{headers:nn(),params:un()})).then((function(e){let{data:t}=e;return pn({data:t,redirect:i,handleUpstreamResponse:s,handleMfaRequired:a,handlePkceRequired:o,handleTokens:l,handleRedirect:c})}))}),(function(e){Wt(e)})))}catch(e){return Promise.reject(e)}}({channel:h,email:r,phoneNumber:a,verificationCode:f,redirect:m,handleUpstreamResponse:g,handleMfaRequired:v,handlePkceRequired:y,handleTokens:w,handleRedirect:b}));case"saml":return Promise.resolve(function(){try{return Promise.resolve(function(e,t){try{var n=zt.tokens.accessToken?Promise.resolve(Xt("/auth/saml/idp/token",{headers:{authorization:`Bearer ${zt.tokens.accessToken}`}})).then((function(e){let{data:t}=e;window.location.assign(`${zt.baseUrl}auth/saml/idp/login?tenant_id=${zt.tenantId}&token=${t.token}&uuid=${zt.user.userUuid}`)})):console.warn("Cannot complete SAML login without access token")}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}(0,(function(e){Wt(e)})))}catch(e){return Promise.reject(e)}}());default:throw new Error('Userfront.login called with invalid "method" property.')}}catch(e){return Promise.reject(e)}},resetPassword:In,updatePassword:Sn,sendLoginLink:function(e){try{return Promise.resolve(Tn((function(){const{tenantId:t}=zt;return Promise.resolve(Yt(`/tenants/${t}/auth/link`,{email:e})).then((function(e){let{data:t}=e;return t}))}),(function(e){Wt(e)})))}catch(e){return Promise.reject(e)}},sendResetLink:function(e){try{return Promise.resolve(En((function(){const{tenantId:t}=zt;return Promise.resolve(Yt(`/tenants/${t}/auth/reset/link`,{email:e})).then((function(e){let{data:t}=e;return t}))}),(function(e){Wt(e)})))}catch(e){return Promise.reject(e)}},sendVerificationCode:Pn,signup:function(){let{method:e,email:t,username:n,phoneNumber:r,name:i,data:s,password:a,channel:o,providerId:l,redirect:c,handleUpstreamResponse:u,handleMfaRequired:d,handlePkceRequired:h,handleTokens:f,handleRedirect:p}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{if(cn(),!e)throw new Error('Userfront.signup called without "method" property.');switch(e){case"apple":case"azure":case"facebook":case"github":case"google":case"linkedin":case"okta":return Promise.resolve(Nn({provider:e,redirect:c}));case"custom":return Promise.resolve(Nn({provider:e,redirect:c,providerId:l}));case"password":return Promise.resolve(function(){let{username:e,name:t,email:n,password:r,userData:i,redirect:s,handleUpstreamResponse:a,handleMfaRequired:o,handlePkceRequired:l,handleTokens:c,handleRedirect:u}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return Promise.resolve(En((function(){const{tenantId:d}=zt;return Promise.resolve(Yt(`/tenants/${d}/auth/create`,{username:e,name:t,email:n,password:r,data:i},{headers:nn(),params:un()})).then((function(e){let{data:t}=e;return pn({data:t,redirect:s,handleUpstreamResponse:a,handleMfaRequired:o,handlePkceRequired:l,handleTokens:c,handleRedirect:u})}))}),(function(e){Wt(e)})))}catch(e){return Promise.reject(e)}}({username:n,name:i,email:t,password:a,userData:s,redirect:c,handleUpstreamResponse:u,handleMfaRequired:d,handlePkceRequired:h,handleTokens:f,handleRedirect:p}));case"passwordless":return Promise.resolve(Rn({email:t,name:i,username:n,userData:s}));case"verificationCode":return Promise.resolve(Pn({channel:o,email:t,phoneNumber:r,name:i,username:n,data:s}));default:throw new Error('Userfront.signup called with invalid "method" property.')}}catch(e){return Promise.reject(e)}},store:zt,tokens:Cn,accessToken:function(){return zt.tokens.accessToken=Vt().get(zt.tokens.accessTokenName),zt.tokens.accessToken},idToken:function(){return zt.tokens.idToken=Vt().get(zt.tokens.idTokenName),zt.tokens.idToken},getSession:sn,redirectIfLoggedIn:function(){let{redirect:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return Promise.resolve(sn()).then((function(t){let{isLoggedIn:n}=t;if(!n)return en();if(on.usePkce)return;if(e)return fn(e);if(dn("redirect"))return fn(dn("redirect"));const r=function(e,t){try{var n=Promise.resolve(Xt("/self",{headers:{authorization:`Bearer ${zt.tokens.accessToken}`}})).then((function(e){let{data:t}=e;t.tenant&&t.tenant.loginRedirectPath&&fn(t.tenant.loginRedirectPath)}))}catch(e){return t()}return n&&n.then?n.then(void 0,t):n}(0,(function(){en()}));return r&&r.then?r.then((function(){})):void 0}))}catch(e){return Promise.reject(e)}},redirectIfLoggedOut:function(){let{redirect:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return Promise.resolve(sn()).then((function(t){let{isLoggedIn:n}=t;if(!n)return en(),e?fn(e):dn("redirect")?fn(dn("redirect")):void 0}))}catch(e){return Promise.reject(e)}},user:Qt};const qn=function(){try{return Wn.isScript1Loading?Promise.resolve():Promise.resolve(Yn()).then((function(e){return Promise.resolve(Xn(e)).then((function(e){return Promise.resolve(Kn(e)).then((function(){Jn(),Zn()}))}))}))}catch(s){return Promise.reject(s)}},{Singleton:Wn,alias:Gn,render:Qn,processPage:Kn,addScript1ToDocument:$n,createOrReturnPage:Yn,checkPageAndUpdate:Xn,executeCallbacks:Jn,logErrorsAndTips:Zn}=$,{registerUrlChangedEventListener:er,addInitCallback:tr}=Hn;Gn.setAlias("Userfront"),Wn.Opts.api=!0,tr((e=>{let{tenantId:t}=e;Wn.External.project=t,$n("https://cdn.userfront.com/toolkit/page/",t,qn)})),er(),"object"==typeof window&&window.addEventListener("urlchanged",Qn);const nr={build(e){let{toolId:n}=e;class r extends t.Component{componentDidMount(){!function(){try{try{qn()}catch(s){console.warn(s&&s.message?s.message:"Problem loading page",s)}Promise.resolve()}catch(s){return Promise.reject(s)}}()}render(){return t.createElement("div",null,t.createElement("div",{id:"userfront-"+n}))}}return(0,t.memo)(r)}};for(const n in Hn)nr[n]||(nr[n]=Hn[n]);const rr=nr;function ir(){return ir=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ir.apply(this,arguments)}var sr;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(sr||(sr={}));const ar="popstate";function or(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function lr(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(s){}}}function cr(e,t){return{usr:e.state,key:e.key,idx:t}}function ur(e,t,n,r){return void 0===n&&(n=null),ir({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?hr(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function dr(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function hr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function fr(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=sr.Pop,l=null,c=u();function u(){return(a.state||{idx:null}).idx}function d(){o=sr.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:o,location:f.location,delta:t})}function h(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:dr(e);return or(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,a.replaceState(ir({},a.state,{idx:c}),""));let f={get action(){return o},get location(){return e(i,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ar,d),l=e,()=>{i.removeEventListener(ar,d),l=null}},createHref:e=>t(i,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o=sr.Push;let r=ur(f.location,e,t);n&&n(r,e),c=u()+1;let d=cr(r,c),h=f.createHref(r);try{a.pushState(d,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(h)}s&&l&&l({action:o,location:f.location,delta:1})},replace:function(e,t){o=sr.Replace;let r=ur(f.location,e,t);n&&n(r,e),c=u();let i=cr(r,c),d=f.createHref(r);a.replaceState(i,"",d),s&&l&&l({action:o,location:f.location,delta:0})},go:e=>a.go(e)};return f}var pr;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(pr||(pr={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function mr(e,t,n){void 0===n&&(n="/");let r=Tr(("string"===typeof t?hr(t):t).pathname||"/",n);if(null==r)return null;let i=gr(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let a=0;null==s&&a<i.length;++a)s=Sr(i[a],Nr(r));return s}function gr(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(or(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=Dr([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(or(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),gr(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:kr(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of vr(e.path))i(e,t,r);else i(e,t)})),t}function vr(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=vr(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const yr=/^:\w+$/,wr=3,br=2,Ar=1,Cr=10,Er=-2,xr=e=>"*"===e;function kr(e,t){let n=e.split("/"),r=n.length;return n.some(xr)&&(r+=Er),t&&(r+=br),n.filter((e=>!xr(e))).reduce(((e,t)=>e+(yr.test(t)?wr:""===t?Ar:Cr)),r)}function Sr(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let a=0;a<n.length;++a){let e=n[a],o=a===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=Ir({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;s.push({params:r,pathname:Dr([i,c.pathname]),pathnameBase:Or(Dr([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=Dr([i,c.pathnameBase]))}return s}function Ir(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);lr("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return lr(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l||"",r),e}),{}),pathname:s,pathnameBase:a,pattern:e}}function Nr(e){try{return decodeURI(e)}catch(t){return lr(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Tr(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Rr(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function _r(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function jr(e,t){let n=_r(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function Pr(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=hr(e):(i=ir({},e),or(!i.pathname||!i.pathname.includes("?"),Rr("?","pathname","search",i)),or(!i.pathname||!i.pathname.includes("#"),Rr("#","pathname","hash",i)),or(!i.search||!i.search.includes("#"),Rr("#","search","hash",i)));let s,a=""===e||""===i.pathname,o=a?"/":i.pathname;if(null==o)s=n;else if(r){let e=0===t.length?[]:t[t.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e.pop();i.pathname=t.join("/")}s="/"+e.join("/")}else{let e=t.length-1;if(o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?hr(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:Lr(r),hash:Mr(i)}}(i,s),c=o&&"/"!==o&&o.endsWith("/"),u=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const Dr=e=>e.join("/").replace(/\/\/+/g,"/"),Or=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Lr=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Mr=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function Fr(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const Ur=["post","put","patch","delete"],Br=(new Set(Ur),["get",...Ur]);new Set(Br),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Vr(){return Vr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vr.apply(this,arguments)}const zr=t.createContext(null);const Hr=t.createContext(null);const qr=t.createContext(null);const Wr=t.createContext(null);const Gr=t.createContext({outlet:null,matches:[],isDataRoute:!1});const Qr=t.createContext(null);function Kr(){return null!=t.useContext(Wr)}function $r(){return Kr()||or(!1),t.useContext(Wr).location}function Yr(e){t.useContext(qr).static||t.useLayoutEffect(e)}function Xr(){let{isDataRoute:e}=t.useContext(Gr);return e?function(){let{router:e}=oi(si.UseNavigateStable),n=ci(ai.UseNavigateStable),r=t.useRef(!1);return Yr((()=>{r.current=!0})),t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,Vr({fromRouteId:n},i)))}),[e,n])}():function(){Kr()||or(!1);let e=t.useContext(zr),{basename:n,future:r,navigator:i}=t.useContext(qr),{matches:s}=t.useContext(Gr),{pathname:a}=$r(),o=JSON.stringify(jr(s,r.v7_relativeSplatPath)),l=t.useRef(!1);return Yr((()=>{l.current=!0})),t.useCallback((function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void i.go(t);let s=Pr(t,JSON.parse(o),a,"path"===r.relative);null==e&&"/"!==n&&(s.pathname="/"===s.pathname?n:Dr([n,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)}),[n,i,o,a,e])}()}function Jr(){let{matches:e}=t.useContext(Gr),n=e[e.length-1];return n?n.params:{}}function Zr(e,n,r,i){Kr()||or(!1);let{navigator:s}=t.useContext(qr),{matches:a}=t.useContext(Gr),o=a[a.length-1],l=o?o.params:{},c=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let u,d=$r();if(n){var h;let e="string"===typeof n?hr(n):n;"/"===c||(null==(h=e.pathname)?void 0:h.startsWith(c))||or(!1),u=e}else u=d;let f=u.pathname||"/",p=mr(e,{pathname:"/"===c?f:f.slice(c.length)||"/"});let m=ii(p&&p.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:Dr([c,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:Dr([c,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,r,i);return n&&m?t.createElement(Wr.Provider,{value:{location:Vr({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:sr.Pop}},m):m}function ei(){let e=function(){var e;let n=t.useContext(Qr),r=li(ai.UseRouteError),i=ci(ai.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=Fr(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,null)}const ti=t.createElement(ei,null);class ni extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(Gr.Provider,{value:this.props.routeContext},t.createElement(Qr.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ri(e){let{routeContext:n,match:r,children:i}=e,s=t.useContext(zr);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Gr.Provider,{value:n},i)}function ii(e,n,r,i){var s;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}let o=e,l=null==(s=r)?void 0:s.errors;if(null!=l){let e=o.findIndex((e=>e.route.id&&(null==l?void 0:l[e.route.id])));e>=0||or(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<o.length;t++){let e=o[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=t),e.route.loader&&e.route.id&&void 0===r.loaderData[e.route.id]&&(!r.errors||void 0===r.errors[e.route.id])){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}return o.reduceRight(((e,i,s)=>{let a,d=!1,h=null,f=null;var p;r&&(a=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||ti,c&&(u<0&&0===s?(p="route-fallback",!1||ui[p]||(ui[p]=!0),d=!0,f=null):u===s&&(d=!0,f=i.route.hydrateFallbackElement||null)));let m=n.concat(o.slice(0,s+1)),g=()=>{let n;return n=a?h:d?f:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(ri,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?t.createElement(ni,{location:r.location,revalidation:r.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var si=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(si||{}),ai=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ai||{});function oi(e){let n=t.useContext(zr);return n||or(!1),n}function li(e){let n=t.useContext(Hr);return n||or(!1),n}function ci(e){let n=function(e){let n=t.useContext(Gr);return n||or(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||or(!1),r.route.id}const ui={};r.startTransition;function di(e){let{to:n,replace:r,state:i,relative:s}=e;Kr()||or(!1);let{future:a,static:o}=t.useContext(qr),{matches:l}=t.useContext(Gr),{pathname:c}=$r(),u=Xr(),d=Pr(n,jr(l,a.v7_relativeSplatPath),c,"path"===s),h=JSON.stringify(d);return t.useEffect((()=>u(JSON.parse(h),{replace:r,state:i,relative:s})),[u,h,s,r,i]),null}function hi(e){or(!1)}function fi(e){let{basename:n="/",children:r=null,location:i,navigationType:s=sr.Pop,navigator:a,static:o=!1,future:l}=e;Kr()&&or(!1);let c=n.replace(/^\/*/,"/"),u=t.useMemo((()=>({basename:c,navigator:a,static:o,future:Vr({v7_relativeSplatPath:!1},l)})),[c,l,a,o]);"string"===typeof i&&(i=hr(i));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=i,g=t.useMemo((()=>{let e=Tr(d,c);return null==e?null:{location:{pathname:e,search:h,hash:f,state:p,key:m},navigationType:s}}),[c,d,h,f,p,m,s]);return null==g?null:t.createElement(qr.Provider,{value:u},t.createElement(Wr.Provider,{children:r,value:g}))}function pi(e){let{children:t,location:n}=e;return Zr(mi(t),n)}new Promise((()=>{}));t.Component;function mi(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let s=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,mi(e.props.children,s));e.type!==hi&&or(!1),e.props.index&&e.props.children&&or(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=mi(e.props.children,s)),r.push(a)})),r}var gi=n(559);const vi=()=>{const e=Xr(),t=null!==Hn.accessToken();return(0,gi.jsxs)("div",{className:"header",children:[(0,gi.jsxs)("div",{className:"left-stuff",children:[(0,gi.jsx)("div",{className:"title-short",children:"MLV DTP"}),(0,gi.jsx)("div",{className:"title",children:"MLV Diagnostic Test Portal"})]}),(0,gi.jsxs)("div",{className:"right-stuff",children:[(0,gi.jsx)("div",{className:"l-o",children:(0,gi.jsx)("button",{onClick:()=>{Hn.logout({redirect:!1}),e("/login")},className:"logout-button",children:(0,gi.jsx)("span",{children:(0,gi.jsx)("div",{className:"logout-button-text",children:"Logout"})})})}),(0,gi.jsx)("div",{className:"navhome",onClick:()=>{e(t?"/":"/login")},children:(0,gi.jsx)("button",{className:"home",children:(0,gi.jsx)("span",{children:(0,gi.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAABJ0AAASdAHeZh94AAAAO3RFWHRDb21tZW50AHhyOmQ6REFGMk1WU0xmUEU6NixqOjg4MDcyMDA1MjcwNTAzMDgwMDUsdDoyMzEyMDYxNbqrKWEAAATpaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9J2Fkb2JlOm5zOm1ldGEvJz4KICAgICAgICA8cmRmOlJERiB4bWxuczpyZGY9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMnPgoKICAgICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0nJwogICAgICAgIHhtbG5zOmRjPSdodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyc+CiAgICAgICAgPGRjOnRpdGxlPgogICAgICAgIDxyZGY6QWx0PgogICAgICAgIDxyZGY6bGkgeG1sOmxhbmc9J3gtZGVmYXVsdCc+VW50aXRsZWQgZGVzaWduIC0gMTwvcmRmOmxpPgogICAgICAgIDwvcmRmOkFsdD4KICAgICAgICA8L2RjOnRpdGxlPgogICAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgoKICAgICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0nJwogICAgICAgIHhtbG5zOkF0dHJpYj0naHR0cDovL25zLmF0dHJpYnV0aW9uLmNvbS9hZHMvMS4wLyc+CiAgICAgICAgPEF0dHJpYjpBZHM+CiAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSdSZXNvdXJjZSc+CiAgICAgICAgPEF0dHJpYjpDcmVhdGVkPjIwMjMtMTItMDY8L0F0dHJpYjpDcmVhdGVkPgogICAgICAgIDxBdHRyaWI6RXh0SWQ+ODQwZGE2NjAtNjIxZC00ZWJhLTg0M2EtNTI3NjBlNzc2ZjMzPC9BdHRyaWI6RXh0SWQ+CiAgICAgICAgPEF0dHJpYjpGYklkPjUyNTI2NTkxNDE3OTU4MDwvQXR0cmliOkZiSWQ+CiAgICAgICAgPEF0dHJpYjpUb3VjaFR5cGU+MjwvQXR0cmliOlRvdWNoVHlwZT4KICAgICAgICA8L3JkZjpsaT4KICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgPC9BdHRyaWI6QWRzPgogICAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgoKICAgICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0nJwogICAgICAgIHhtbG5zOnBkZj0naHR0cDovL25zLmFkb2JlLmNvbS9wZGYvMS4zLyc+CiAgICAgICAgPHBkZjpBdXRob3I+RGF2aWQgQWd1ZG88L3BkZjpBdXRob3I+CiAgICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CgogICAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgICAgICAgeG1sbnM6eG1wPSdodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvJz4KICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkNhbnZhPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgICAgICAgCiAgICAgICAgPC9yZGY6UkRGPgogICAgICAgIDwveDp4bXBtZXRhPsH6rQ4AAAf+SURBVHic1ZptrBRXGcd/7F5Oe9fhojNDxFlKsbTMFRvFstvqXWNLWxrSyC5tkdYUaG2rARsSP9hSX2KIRk3V1mC1jalEK9BKK5TdGLW8SD90b9Td0gZ5O9AXktudAO4M0Dvp4sAFP+xZ7t7L7r13X67Ef7KZOec5z3P+/92Z2TnPcybQJmgxezpwixa35wI2MBOYDExSQ/qBU8BbwCE/J/PATj8v+9ox/4RWnLWYHRWWsUxEzeXAJ5oMsy8oFJ8LHHe9n5dHm+XSlBAtZl+nxe3VwF1AuMq0F/iHn5P7gANAEXhf2SYDJtCtxe1rgc8Cs6t8zwAv+jn5uJ+X/2qUU0NChGV8TE8lngTuqere7ufkxsApbg0c91SD8T4sLPMOLW4vB26qMj3npbOPBo57fKyxxixET/bcK6LmMwxe85v9nFzj5+XescYYCVrMnqvF7TXAF1XXiaBQfMDL9G4di/+oQoRldOipxFrg66prj5+TD/t5+VpTjEeBFrNv1uL205QfGOeDQvEnXqb3sdH8RhQiLKNTTyW2AAuA88BaL539ZuC4A21hXX/ey/RU4lfAg6prk5fOLgsc90w9n7pChGVE9FRiG5AATgeF4v1epndTeymPDD3Zs1JEzacoP1D+6qWzyXpiwrU6hWVM1FOJDDAPOO7n5PxTu97cNn6Ua6Mk+/LCMvaHuyKLALuze3p34BQ3D/SXzg8fW1PI5HmfeTbcFVkM+H5O3uzn5e7xJl0PJdm3X1jG4XBX5E7g2vCkSGdJ9u0YPu4iIXqy5wERNddQvtFSp3a9mW2FiLAMLTwpIgb6S0GzMUqyb5+wjA/CXZHbwl2RhLCM3SXZd6h6TKi6ocXsaeqaBPiFl+l9pdnJAYRl2HoqcVhPJQ4Ly7BbieXn5c+ADICImuuEZUyutg8VErefACLAYS+dXd3KxErEq8BUYKqeSrzaipjAcfHS2fuBY8AULWZ/v9p+QYgWs28AlgD4ObkicNz/NDvpMBEH1acdYk4EheIjACJqrtRi9lUV26CQuP09dZrx8/JvzU42XISXzs7z0tl5tEmMl+ldD7wOTNTi9rcr/SEALWZ/ErgdwM/JH7ZTROC4RwPHPdpOMX5O/kidLheWYV4QIixjqTJk/bz8ZztFVOztFOPn5RbgCDBRi9n3DAqJml8GCArFdeMhYjzEBIXibxX3shAtZtvAlcC5wHG3jJeICwTaJCZw3D+q0xuEZUwKCcu4VXXs9vOy0fVEQyKqSLQsJnCK+4HjQIewzJtCImrOVbaGXsubFTFIpDUxgeMCZBWXuSGgG8DPyYP/KxFVZFoTUygeABBRc1aIcrYD4FB9l0G0S8QFMi2ICRz3sDq9OgR8SDX6R3McJuJkqyKqCFXEnKQxMcfU8aMh4PJKvJE8hGVoVSIATrZDRAUq1knVrIi5fCQfwFNHMwScVY2OUZzOAqcBvymmjcFXc42GCvdwh3K6jMHsSE0EjnvaS2evEZb5eS1u76o3TliGqacSPwZurTNkh5fOfitw3GK9GH5OLgyc4muB456tN0ahSx37Q8AJ1fjIKE6MFlhlXLYDDwEz6nwe0lOJ7cIyRrwCxiACQFdHrwN4B7haWMasMTiOCGGZC4A5lJMVXw0c972hdmOaiJrPAnOEZS4IHPdPrc13gfPbHYAEbhNRs7uVoAqmOv7dy/RuqDVg6srkg5SzimYteyMQUbOScj0Y8nPyddX4QquBLwFuBPBzMh8CKouomVrMvvLScWoMWsyeBVyhmjtDqj5R/qu3jMWXjFmDqOL6hp+Xx0IAQaH4PICqc/xfoMK1wr0sxHH/oOyf0mL2vEvEbczQYvbtlJPc5yrcQwB+Xr4FbAXQ4vZ3LhnDMUKL299Vpy/4efkeVGVR/Jys5Ilu0WL2ghHiVF5RZujJnkS7yKlYM1Tz5AjjlgCfAwb8nPxBpX9INn7qyuTvgWXAES+dnR04bqlWsKkrkzkg1hr1usgffSYTr2UQltGlpxIHACsoFJ/2Mr0PV2xDMo1+Tq6m/I3PUPWJmvDS2YXARYnkNmCHin0RhGWgpxLrAAtw/bwccgtcVB/Rkz1LRdRcDxAUil/xMr2/qzerFrNNQGuFeRV8Py/rvkjqyZ5viKj5c8rJ9bu8TO/L1faahR492fNrETW/BpwNCsWkl+n9S5vINgU92bNERM0XgFBQKP7Uy/Q+OnxMzfrIQP8Hr3R2T78emBXuitwhLCNfkn1vjzfhWtCTPYtF1NxAeb300qldb6wYc6FnoL90LnCKL3d2T78RmBnuitwtLONISfbtGWfeQ6Ane1aJqPkbYCKwzUtnF9erX45WDI3oqcRmysVQKNe/VwWOO+r6vhUIy9DVjb1Idb3opbNLRyqG1vxFKhjoL50JnOKmzu7pU4A4MKeze/q9wJ7Acd9tG/Mq6MmeRVq8+8+UH+/ng0Lx8X9v3LFioL90biS/RjYM3Cei5i8ZfEql/Zxc6+dl3WVvI9Bi9kItbq8C5qsuT20YSI/Fv6EtHFrMnqbF7SeBL1V1HwwKxY2B477k56VsMN6nhWXcrZLoM6pM67x09rGR1vXD0eymmuu1uP0IcCdD/1TfBXb6ObmXcsLNpbypZgLlRMEUYLbaVDOf8p9bBQHwvJ+TTzSzLaTVbU5XCMu4T71SX9NkmD1qm9MGPy/HvIlmOFoSUg0tZn+c8saz6yi/Yl9F+VeopJnep5yxeQc4WLXxzGnH/P8FIqCChDwaVWkAAAAASUVORK5CYII=",alt:"Home"})})})})]})]})},yi=n.p+"static/media/Logo.82ca16efe12aab566897.png",wi=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},bi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(wi(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new Ai;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ai extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ci=function(e){return function(e){const t=wi(e);return bi.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ei=function(e){try{return bi.decodeString(e,!0)}catch(s){console.error("base64Decode failed: ",s)}return null};const xi=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,ki=()=>{try{return xi()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/medlabview",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(s){return}const t=e&&Ei(e[1]);return t&&JSON.parse(t)})()}catch(s){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`)}},Si=e=>{const t=(e=>{var t,n;return null===(n=null===(t=ki())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ii=()=>{var e;return null===(e=ki())||void 0===e?void 0:e.config};class Ni{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Ti(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ri(){return!function(){var e;const t=null===(e=ki())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(s){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}class _i extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,_i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ji.prototype.create)}}class ji{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(Pi,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new _i(n,s,t)}}const Pi=/\{\$([^}]+)}/g;function Di(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Oi(n)&&Oi(s)){if(!Di(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Oi(e){return null!==e&&"object"===typeof e}function Li(e){return e&&e._delegate?e._delegate:e}class Mi{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fi="[DEFAULT]";class Ui{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ni;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(s){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Fi})}catch(s){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(s){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Fi?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi;return this.component?this.component.multipleInstances?e:Fi:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Bi{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ui(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Vi=[];var zi;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(zi||(zi={}));const Hi={debug:zi.DEBUG,verbose:zi.VERBOSE,info:zi.INFO,warn:zi.WARN,error:zi.ERROR,silent:zi.SILENT},qi=zi.INFO,Wi={[zi.DEBUG]:"log",[zi.VERBOSE]:"log",[zi.INFO]:"info",[zi.WARN]:"warn",[zi.ERROR]:"error"},Gi=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Wi[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...s)};class Qi{constructor(e){this.name=e,this._logLevel=qi,this._logHandler=Gi,this._userLogHandler=null,Vi.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zi))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Hi[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,zi.DEBUG,...t),this._logHandler(this,zi.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,zi.VERBOSE,...t),this._logHandler(this,zi.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,zi.INFO,...t),this._logHandler(this,zi.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,zi.WARN,...t),this._logHandler(this,zi.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,zi.ERROR,...t),this._logHandler(this,zi.ERROR,...t)}}const Ki=(e,t)=>t.some((t=>e instanceof t));let $i,Yi;const Xi=new WeakMap,Ji=new WeakMap,Zi=new WeakMap,es=new WeakMap,ts=new WeakMap;let ns={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ji.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Zi.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ss(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function rs(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Yi||(Yi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(as(this),n),ss(Xi.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ss(e.apply(as(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(as(this),t,...r);return Zi.set(s,t.sort?t.sort():[t]),ss(s)}}function is(e){return"function"===typeof e?rs(e):(e instanceof IDBTransaction&&function(e){if(Ji.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Ji.set(e,t)}(e),Ki(e,$i||($i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,ns):e)}function ss(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(ss(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Xi.set(t,e)})).catch((()=>{})),ts.set(t,e),t}(e);if(es.has(e))return es.get(e);const t=is(e);return t!==e&&(es.set(e,t),ts.set(t,e)),t}const as=e=>ts.get(e);const os=["get","getKey","getAll","getAllKeys","count"],ls=["put","add","delete","clear"],cs=new Map;function us(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(cs.get(t))return cs.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ls.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!os.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return cs.set(t,s),s}ns=(e=>({...e,get:(t,n,r)=>us(t,n)||e.get(t,n,r),has:(t,n)=>!!us(t,n)||e.has(t,n)}))(ns);class ds{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const hs="@firebase/app",fs="0.10.9",ps=new Qi("@firebase/app"),ms="[DEFAULT]",gs={[hs]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},vs=new Map,ys=new Map,ws=new Map;function bs(e,t){try{e.container.addComponent(t)}catch(s){ps.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,s)}}function As(e){const t=e.name;if(ws.has(t))return ps.debug(`There were multiple attempts to register component ${t}.`),!1;ws.set(t,e);for(const n of vs.values())bs(n,e);for(const n of ys.values())bs(n,e);return!0}function Cs(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Es=new ji("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class xs{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Mi("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}function ks(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:ms,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Es.create("bad-app-name",{appName:String(i)});if(n||(n=Ii()),!n)throw Es.create("no-options");const s=vs.get(i);if(s){if(Di(n,s.options)&&Di(r,s.config))return s;throw Es.create("duplicate-app",{appName:i})}const a=new Bi(i);for(const l of ws.values())a.addComponent(l);const o=new xs(n,r,a);return vs.set(i,o),o}function Ss(e,t,n){var r;let i=null!==(r=gs[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void ps.warn(e.join(" "))}As(new Mi(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const Is="firebase-heartbeat-database",Ns=1,Ts="firebase-heartbeat-store";let Rs=null;function _s(){return Rs||(Rs=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=ss(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(ss(a.result),e.oldVersion,e.newVersion,ss(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}(Is,Ns,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Ts)}catch(s){console.warn(s)}}}).catch((e=>{throw Es.create("idb-open",{originalErrorMessage:e.message})}))),Rs}async function js(e,t){try{const n=(await _s()).transaction(Ts,"readwrite"),r=n.objectStore(Ts);await r.put(t,Ps(e)),await n.done}catch(s){if(s instanceof _i)ps.warn(s.message);else{const t=Es.create("idb-set",{originalErrorMessage:null===s||void 0===s?void 0:s.message});ps.warn(t.message)}}}function Ps(e){return`${e.name}!${e.options.appId}`}class Ds{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ls(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Os();if(console.log("heartbeats",null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats),null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(n=this._heartbeatsCache)||void 0===n?void 0:n.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some((e=>e.date===i)))return;return this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(s){ps.warn(s)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Os(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Ms(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ms(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Ci(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(s){return ps.warn(s),""}}}function Os(){return(new Date).toISOString().substring(0,10)}class Ls{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"===typeof indexedDB}catch(s){return!1}}()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await _s()).transaction(Ts),n=await t.objectStore(Ts).get(Ps(e));return await t.done,n}catch(s){if(s instanceof _i)ps.warn(s.message);else{const t=Es.create("idb-get",{originalErrorMessage:null===s||void 0===s?void 0:s.message});ps.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return js(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return js(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ms(e){return Ci(JSON.stringify({version:2,heartbeats:e})).length}var Fs;Fs="",As(new Mi("platform-logger",(e=>new ds(e)),"PRIVATE")),As(new Mi("heartbeat",(e=>new Ds(e)),"PRIVATE")),Ss(hs,fs,Fs),Ss(hs,fs,"esm2017"),Ss("fire-js","");Ss("firebase","10.13.0","app");var Us,Bs,Vs="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},zs={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);d(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Bs=zs.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},Us=zs.Integer=r}).apply("undefined"!==typeof Vs?Vs:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Hs,qs,Ws,Gs,Qs,Ks,$s,Ys,Xs,Js="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Zs={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Js&&Js];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function a(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function l(e,t,n){return e.call.apply(e.bind,arguments)}function c(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function u(e,t,n){return(u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?l:c).apply(null,arguments)}function h(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function g(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function v(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function w(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(a(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function b(e){return/^[\s\xa0]*$/.test(e)}function A(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function x(e){return x[" "](e),e}x[" "]=function(){};var k=-1!=A().indexOf("Gecko")&&!(-1!=A().toLowerCase().indexOf("webkit")&&-1==A().indexOf("Edge"))&&!(-1!=A().indexOf("Trident")||-1!=A().indexOf("MSIE"))&&-1==A().indexOf("Edge");function I(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function N(e){const t={};for(const n in e)t[n]=e[n];return t}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<T.length;t++)n=T[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function j(e){i.setTimeout((()=>{throw e}),0)}function P(){var e=F;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var D=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new O),(e=>e.reset()));class O{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let L,M=!1,F=new class{constructor(){this.h=this.g=null}add(e,t){const n=D.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},U=()=>{const e=i.Promise.resolve(void 0);L=()=>{e.then(B)}};var B=()=>{for(var e;e=P();){try{e.h.call(e.g)}catch(p){j(p)}var t=D;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}M=!1};function V(){this.s=this.s,this.C=this.C}function z(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},z.prototype.h=function(){this.defaultPrevented=!0};var H=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(p){}return e}();function q(e,t){if(z.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(k){e:{try{x(t.nodeName);var i=!0;break e}catch(C){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:W[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&q.aa.h.call(this)}}g(q,z);var W={2:"touch",3:"pen",4:"mouse"};q.prototype.h=function(){q.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var G="closure_listenable_"+(1e6*Math.random()|0),Q=0;function K(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Q,this.da=this.fa=!1}function $(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Y(e){this.src=e,this.g={},this.h=0}function X(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&($(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function J(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}Y.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=J(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new K(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var Z="closure_lm_"+(1e6*Math.random()|0),ee={};function te(e,t,n,r,i){if(r&&r.once)return re(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)te(e,t[s],n,r,i);return null}return n=ue(n),e&&e[G]?e.K(t,n,o(r)?!!r.capture:!!r,i):ne(e,t,n,!1,r,i)}function ne(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=o(i)?!!i.capture:!!i,l=le(e);if(l||(e[Z]=l=new Y(e)),(n=l.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=oe;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)H||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ae(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function re(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)re(e,t[s],n,r,i);return null}return n=ue(n),e&&e[G]?e.L(t,n,o(r)?!!r.capture:!!r,i):ne(e,t,n,!0,r,i)}function ie(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)ie(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=ue(n),e&&e[G]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=J(s=e.g[t],n,r,i))&&($(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=le(e))&&(t=e.g[t.toString()],e=-1,t&&(e=J(t,n,r,i)),(n=-1<e?t[e]:null)&&se(n))}function se(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[G])X(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ae(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=le(t))?(X(n,e),0==n.h&&(n.src=null,t[Z]=null)):$(e)}}}function ae(e){return e in ee?ee[e]:ee[e]="on"+e}function oe(e,t){if(e.da)e=!0;else{t=new q(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&se(e),e=n.call(r,t)}return e}function le(e){return(e=e[Z])instanceof Y?e:null}var ce="__closure_events_fn_"+(1e9*Math.random()>>>0);function ue(e){return"function"===typeof e?e:(e[ce]||(e[ce]=function(t){return e.handleEvent(t)}),e[ce])}function de(){V.call(this),this.i=new Y(this),this.M=this,this.F=null}function he(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new z(t,e);else if(t instanceof z)t.target=t.target||e;else{var i=t;R(t=new z(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=fe(a,r,!0,t)&&i}if(i=fe(a=t.g=e,r,!0,t)&&i,i=fe(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=fe(a=t.g=n[s],r,!1,t)&&i}function fe(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&X(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function pe(e,t,n){if("function"===typeof e)n&&(e=u(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=u(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function me(e){e.g=pe((()=>{e.g=null,e.i&&(e.i=!1,me(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}g(de,V),de.prototype[G]=!0,de.prototype.removeEventListener=function(e,t,n,r){ie(this,e,t,n,r)},de.prototype.N=function(){if(de.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)$(n[r]);delete t.g[e],t.h--}}this.F=null},de.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},de.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ge extends V{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:me(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ve(e){V.call(this),this.h=e,this.g={}}g(ve,V);var ye=[];function we(e){I(e.g,(function(e,t){this.g.hasOwnProperty(t)&&se(e)}),e),e.g={}}ve.prototype.N=function(){ve.aa.N.call(this),we(this)},ve.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var be=i.JSON.stringify,Ae=i.JSON.parse,Ce=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function Ee(){}function xe(e){return e.h||(e.h=e.i())}function ke(){}Ee.prototype.h=null;var Se={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ie(){z.call(this,"d")}function Ne(){z.call(this,"c")}g(Ie,z),g(Ne,z);var Te={},Re=null;function _e(){return Re=Re||new de}function je(e){z.call(this,Te.La,e)}function Pe(e){const t=_e();he(t,new je(t))}function De(e,t){z.call(this,Te.STAT_EVENT,e),this.stat=t}function Oe(e){const t=_e();he(t,new De(t,e))}function Le(e,t){z.call(this,Te.Ma,e),this.size=t}function Me(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Fe(){this.g=!0}function Ue(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return be(n)}catch(y){return t}}(e,n)+(r?" "+r:"")}))}Te.La="serverreachability",g(je,z),Te.STAT_EVENT="statevent",g(De,z),Te.Ma="timingevent",g(Le,z),Fe.prototype.xa=function(){this.g=!1},Fe.prototype.info=function(){};var Be,Ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ze={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function He(){}function qe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new ve(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new We}function We(){this.i=null,this.g="",this.h=!1}g(He,Ee),He.prototype.g=function(){return new XMLHttpRequest},He.prototype.i=function(){return{}},Be=new He;var Ge={},Qe={};function Ke(e,t,n){e.L=1,e.v=bt(mt(t)),e.m=n,e.P=!0,$e(e,null)}function $e(e,t){e.F=Date.now(),Je(e),e.A=mt(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Pt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new We,e.g=An(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ge(u(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ye[0]=i.toString()),i=ye);for(var s=0;s<i.length;s++){var a=te(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?N(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Pe(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ye(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Xe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Qe:(n=Number(t.substring(n,r)),isNaN(n)?Ge:(r+=1)+n>t.length?Qe:(t=t.slice(r,r+n),e.C=r+n,t))}function Je(e){e.S=Date.now()+e.I,Ze(e,e.I)}function Ze(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Me(u(e.ba,e),t)}function et(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function tt(e){0==e.j.G||e.J||gn(e.j,e)}function nt(e){et(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,we(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function rt(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||lt(n.h,e)))if(!e.K&&lt(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(m){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;mn(n),sn(n)}hn(n),Oe(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Me(u(n.Za,n),6e3));if(1>=ot(n.h)&&n.ca){try{n.ca()}catch(m){}n.ca=void 0}}else yn(n,11)}else if((e.K||n.g==e)&&mn(n),!b(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ct(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,wt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=bn(r,r.J?r.ia:null,r.W),a.K){ut(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(et(o),Je(o)),r.g=a}else dn(r);0<n.i.length&&on(n)}else"stop"!=c[0]&&"close"!=c[0]||yn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?yn(n,7):rn(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Pe()}catch(m){}}qe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Zt(e)?t.j():this.Y(e)},qe.prototype.Y=function(e){try{if(e==this.g)e:{const h=Zt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||en(this.g)))){this.J||4!=h||7==t||Pe(),et(this);var n=this.g.Z();this.X=n;t:if(Ye(this)){var r=en(this.g);e="";var s=r.length,a=4==Zt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){nt(this),tt(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Oe(12),nt(this),tt(this);break e}Ue(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rt(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Xe(this,o),e==Qe){4==h&&(this.s=4,Oe(14),n=!1),Ue(this.i,this.l,null,"[Incomplete Response]");break}if(e==Ge){this.s=4,Oe(15),Ue(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ue(this.i,this.l,e,null),rt(this,e)}if(Ye(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Oe(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),fn(d),d.M=!0,Oe(11))}}else Ue(this.i,this.l,o,"[Invalid Chunked Response]"),nt(this),tt(this)}else Ue(this.i,this.l,o,null),rt(this,o);4==h&&nt(this),this.o&&!this.J&&(4==h?gn(this.j,this):(this.o=!1,Je(this)))}else(function(e){const t={};e=(e.g&&2<=Zt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(b(e[r]))continue;var n=_(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Oe(12)):(this.s=0,Oe(13)),nt(this),tt(this)}}}catch(E){}},qe.prototype.cancel=function(){this.J=!0,nt(this)},qe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Pe(),Oe(17)),nt(this),this.s=2,tt(this)):Ze(this,this.S-e)};var it=class{constructor(e,t){this.g=e,this.map=t}};function st(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function at(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ot(e){return e.h?1:e.g?e.g.size:0}function lt(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ct(e,t){e.g?e.g.add(t):e.h=t}function ut(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function dt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return v(e.i)}function ht(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(a(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(a(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(a(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}st.prototype.cancel=function(){if(this.i=dt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ft=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof pt){this.h=e.h,gt(this,e.j),this.o=e.o,this.g=e.g,vt(this,e.s),this.l=e.l;var t=e.i,n=new Tt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),yt(this,n),this.m=e.m}else e&&(t=String(e).match(ft))?(this.h=!1,gt(this,t[1]||"",!0),this.o=At(t[2]||""),this.g=At(t[3]||"",!0),vt(this,t[4]),this.l=At(t[5]||"",!0),yt(this,t[6]||"",!0),this.m=At(t[7]||"")):(this.h=!1,this.i=new Tt(null,this.h))}function mt(e){return new pt(e)}function gt(e,t,n){e.j=n?At(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function vt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function yt(e,t,n){t instanceof Tt?(e.i=t,function(e,t){t&&!e.j&&(Rt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(_t(this,t),Pt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Ct(t,It)),e.i=new Tt(t,e.h))}function wt(e,t,n){e.i.set(t,n)}function bt(e){return wt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function At(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ct(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Et),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Et(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}pt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ct(t,xt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(Ct(t,xt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ct(n,"/"==n.charAt(0)?St:kt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",Ct(n,Nt)),e.join("")};var xt=/[#\/\?@]/g,kt=/[#\?:]/g,St=/[#\?]/g,It=/[#\?@]/g,Nt=/#/g;function Tt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Rt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function _t(e,t){Rt(e),t=Dt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function jt(e,t){return Rt(e),t=Dt(e,t),e.g.has(t)}function Pt(e,t,n){_t(e,t),0<n.length&&(e.i=null,e.g.set(Dt(e,t),v(n)),e.h+=n.length)}function Dt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ot(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(C){}}function Lt(){this.g=new Ce}function Mt(e,t,n){const r=n||"";try{ht(e,(function(e,n){let i=e;o(e)&&(i=be(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(s){throw t.push(r+"type="+encodeURIComponent("_badmap")),s}}function Ft(e){this.l=e.Ub||null,this.j=e.eb||!1}function Ut(e,t){de.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Bt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Vt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,zt(e)}function zt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ht(e){let t="";return I(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function qt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ht(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):wt(e,t,n))}function Wt(e){de.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Tt.prototype).add=function(e,t){Rt(this),this.i=null,e=Dt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Rt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){Rt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Rt(this);let t=[];if("string"===typeof e)jt(this,e)&&(t=t.concat(this.g.get(Dt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Rt(this),this.i=null,jt(this,e=Dt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},g(Ft,Ee),Ft.prototype.g=function(){return new Ut(this.l,this.j)},Ft.prototype.i=function(e){return function(){return e}}({}),g(Ut,de),(e=Ut.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,zt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,zt(this)),this.g&&(this.readyState=3,zt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Vt(this):zt(this),3==this.readyState&&Bt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Vt(this))},e.Qa=function(e){this.g&&(this.response=e,Vt(this))},e.ga=function(){this.g&&Vt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ut.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),g(Wt,de);var Gt=/^https?$/i,Qt=["POST","PUT"];function Kt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,$t(e),Xt(e)}function $t(e){e.A||(e.A=!0,he(e,"complete"),he(e,"error"))}function Yt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Zt(e)||2!=e.Z()))if(e.u&&4==Zt(e))pe(e.Ea,0,e);else if(he(e,"readystatechange"),4==Zt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(ft)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!Gt.test(a?a.toLowerCase():"")}n=s}if(n)he(e,"complete"),he(e,"success");else{e.m=6;try{var o=2<Zt(e)?e.g.statusText:""}catch(y){o=""}e.l=o+" ["+e.Z()+"]",$t(e)}}finally{Xt(e)}}}function Xt(e,t){if(e.g){Jt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||he(e,"ready");try{n.onreadystatechange=r}catch(s){}}}function Jt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Zt(e){return e.g?e.g.readyState:0}function en(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(S){return null}}function tn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function nn(e){this.Aa=0,this.i=[],this.j=new Fe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=tn("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=tn("baseRetryDelayMs",5e3,e),this.cb=tn("retryDelaySeedMs",1e4,e),this.Wa=tn("forwardChannelMaxRetries",2,e),this.wa=tn("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new st(e&&e.concurrentRequestLimit),this.Da=new Lt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function rn(e){if(an(e),3==e.G){var t=e.U++,n=mt(e.I);if(wt(n,"SID",e.K),wt(n,"RID",t),wt(n,"TYPE","terminate"),cn(e,n),(t=new qe(e,e.j,t)).L=2,t.v=bt(mt(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(f){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=An(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Je(t)}wn(e)}function sn(e){e.g&&(fn(e),e.g.cancel(),e.g=null)}function an(e){sn(e),e.u&&(i.clearTimeout(e.u),e.u=null),mn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function on(e){if(!at(e.h)&&!e.s){e.s=!0;var t=e.Ga;L||U(),M||(L(),M=!0),F.add(t,e),e.B=0}}function ln(e,t){var n;n=t?t.l:e.U++;const r=mt(e.I);wt(r,"SID",e.K),wt(r,"RID",n),wt(r,"AID",e.T),cn(e,r),e.m&&e.o&&qt(r,e.m,e.o),n=new qe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=un(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),ct(e.h,n),Ke(n,r,t)}function cn(e,t){e.H&&I(e.H,(function(e,n){wt(t,n,e)})),e.l&&ht({},(function(e,n){wt(t,n,e)}))}function un(e,t,n){n=Math.min(e.i.length,n);var r=e.l?u(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Mt(o,e,"req"+n+"_")}catch(E){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function dn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;L||U(),M||(L(),M=!0),F.add(t,e),e.v=0}}function hn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Me(u(e.Fa,e),vn(e,e.v)),e.v++,!0)}function fn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function pn(e){e.g=new qe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=mt(e.qa);wt(t,"RID","rpc"),wt(t,"SID",e.K),wt(t,"AID",e.T),wt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&wt(t,"TO",e.ja),wt(t,"TYPE","xmlhttp"),cn(e,t),e.m&&e.o&&qt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=bt(mt(t)),n.m=null,n.P=!0,$e(n,e)}function mn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function gn(e,t){var n=null;if(e.g==t){mn(e),fn(e),e.g=null;var r=2}else{if(!lt(e.h,t))return;n=t.D,ut(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;he(r=_e(),new Le(r,n)),on(e)}else dn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(ot(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Me(u(e.Ga,e,t),vn(e,e.B)),e.B++,!0))}(e,t)||2==r&&hn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:yn(e,5);break;case 4:yn(e,10);break;case 3:yn(e,6);break;default:yn(e,2)}}function vn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function yn(e,t){if(e.j.info("Error code "+t),2==t){var n=u(e.fb,e),r=e.Xa;const t=!r;r=new pt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||gt(r,"https"),bt(r),t?function(e,t){const n=new Fe;if(i.Image){const r=new Image;r.onload=h(Ot,n,"TestLoadImage: loaded",!0,t,r),r.onerror=h(Ot,n,"TestLoadImage: error",!1,t,r),r.onabort=h(Ot,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=h(Ot,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Fe;const n=new AbortController,r=setTimeout((()=>{n.abort(),Ot(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Ot(0,0,!0,t):Ot(0,0,!1,t)})).catch((()=>{clearTimeout(r),Ot(0,0,!1,t)}))}(r.toString(),n)}else Oe(2);e.G=0,e.l&&e.l.sa(t),wn(e),an(e)}function wn(e){if(e.G=0,e.ka=[],e.l){const t=dt(e.h);0==t.length&&0==e.i.length||(w(e.ka,t),w(e.ka,e.i),e.h.i.length=0,v(e.i),e.i.length=0),e.l.ra()}}function bn(e,t,n){var r=n instanceof pt?mt(n):new pt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),vt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new pt(null);r&&gt(a,r),t&&(a.g=t),s&&vt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&wt(r,n,t),wt(r,"VER",e.la),cn(e,r),r}function An(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Wt(new Ft({eb:n})):new Wt(e.pa)).Ha(e.J),t}function Cn(){}function En(){}function xn(e,t){de.call(this),this.g=new nn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!b(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!b(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new In(this)}function kn(e){Ie.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Sn(){Ne.call(this),this.status=1}function In(e){this.g=e}(e=Wt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Be.g(),this.v=this.o?xe(this.o):xe(Be),this.g.onreadystatechange=u(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(C){return void Kt(this,C)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Qt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Jt(this),this.u=!0,this.g.send(e),this.u=!1}catch(C){Kt(this,C)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,he(this,"complete"),he(this,"abort"),Xt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xt(this,!0)),Wt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Yt(this):this.bb())},e.bb=function(){Yt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Zt(this)?this.g.status:-1}catch(d){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(d){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ae(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=nn.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Oe(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=bn(this,null,this.W),on(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new qe(this,this.j,e);let s=this.o;if(this.S&&(s?(s=N(s),R(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=un(this,i,t),wt(n=mt(this.I),"RID",e),wt(n,"CVER",22),this.D&&wt(n,"X-HTTP-Session-Id",this.D),cn(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Ht(s)))+"&"+t:this.m&&qt(n,this.m,s)),ct(this.h,i),this.Ua&&wt(n,"TYPE","init"),this.P?(wt(n,"$req",t),wt(n,"SID","null"),i.T=!0,Ke(i,n,null)):Ke(i,n,t),this.G=2}}else 3==this.G&&(e?ln(this,e):0==this.i.length||at(this.h)||ln(this))},e.Fa=function(){if(this.u=null,pn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Me(u(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Oe(10),sn(this),pn(this))},e.Za=function(){null!=this.C&&(this.C=null,sn(this),hn(this),Oe(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Oe(2)):(this.j.info("Failed to ping google.com"),Oe(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=Cn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},En.prototype.g=function(e,t){return new xn(e,t)},g(xn,de),xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){rn(this.g)},xn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=be(e),e=n);t.i.push(new it(t.Ya++,e)),3==t.G&&on(t)},xn.prototype.N=function(){this.g.l=null,delete this.j,rn(this.g),delete this.g,xn.aa.N.call(this)},g(kn,Ie),g(Sn,Ne),g(In,Cn),In.prototype.ua=function(){he(this.g,"a")},In.prototype.ta=function(e){he(this.g,new kn(e))},In.prototype.sa=function(e){he(this.g,new Sn)},In.prototype.ra=function(){he(this.g,"b")},En.prototype.createWebChannel=En.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,Xs=Zs.createWebChannelTransport=function(){return new En},Ys=Zs.getStatEventTarget=function(){return _e()},$s=Zs.Event=Te,Ks=Zs.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ve.NO_ERROR=0,Ve.TIMEOUT=8,Ve.HTTP_ERROR=6,Qs=Zs.ErrorCode=Ve,ze.COMPLETE="complete",Gs=Zs.EventType=ze,ke.EventType=Se,Se.OPEN="a",Se.CLOSE="b",Se.ERROR="c",Se.MESSAGE="d",de.prototype.listen=de.prototype.K,Ws=Zs.WebChannel=ke,qs=Zs.FetchXmlHttpFactory=Ft,Wt.prototype.listenOnce=Wt.prototype.L,Wt.prototype.getLastError=Wt.prototype.Ka,Wt.prototype.getLastErrorCode=Wt.prototype.Ba,Wt.prototype.getStatus=Wt.prototype.Z,Wt.prototype.getResponseJson=Wt.prototype.Oa,Wt.prototype.getResponseText=Wt.prototype.oa,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Ha,Hs=Zs.XhrIo=Wt}).apply("undefined"!==typeof Js?Js:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const ea="@firebase/firestore";class ta{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ta.UNAUTHENTICATED=new ta(null),ta.GOOGLE_CREDENTIALS=new ta("google-credentials-uid"),ta.FIRST_PARTY=new ta("first-party-uid"),ta.MOCK_USER=new ta("mock-user");let na="10.13.0";const ra=new Qi("@firebase/firestore");function ia(){return ra.logLevel}function sa(e){if(ra.logLevel<=zi.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(la);ra.debug(`Firestore (${na}): ${e}`,...i)}}function aa(e){if(ra.logLevel<=zi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(la);ra.error(`Firestore (${na}): ${e}`,...i)}}function oa(e){if(ra.logLevel<=zi.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(la);ra.warn(`Firestore (${na}): ${e}`,...i)}}function la(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(a){return e}}function ca(){const e=`FIRESTORE (${na}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw aa(e),new Error(e)}function ua(e,t){e||ca()}function da(e,t){return e}const ha={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fa extends _i{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pa{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ma{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ga{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ta.UNAUTHENTICATED)))}shutdown(){}}class va{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class ya{constructor(e){this.t=e,this.currentUser=ta.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new pa;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new pa,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{sa("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(sa("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new pa)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(sa("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ua("string"==typeof t.accessToken),new ma(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ua(null===e||"string"==typeof e),new ta(e)}}class wa{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=ta.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ba{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new wa(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(ta.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Aa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ca{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&sa("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,sa("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{sa("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):sa("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(ua("string"==typeof e.token),this.R=e.token,new Aa(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ea(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class xa{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Ea(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function ka(e,t){return e<t?-1:e>t?1:0}function Sa(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Ia{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fa(ha.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fa(ha.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new fa(ha.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fa(ha.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ia.fromMillis(Date.now())}static fromDate(e){return Ia.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ia(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ka(this.nanoseconds,e.nanoseconds):ka(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Na{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Na(e)}static min(){return new Na(new Ia(0,0))}static max(){return new Na(new Ia(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ta{constructor(e,t,n){void 0===t?t=0:t>e.length&&ca(),void 0===n?n=e.length-t:n>e.length-t&&ca(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ta.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ta?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ra extends Ta{construct(e,t,n){return new Ra(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new fa(ha.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Ra(e)}static emptyPath(){return new Ra([])}}const _a=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ja extends Ta{construct(e,t,n){return new ja(e,t,n)}static isValidIdentifier(e){return _a.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ja.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ja(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new fa(ha.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new fa(ha.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new fa(ha.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new fa(ha.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ja(t)}static emptyPath(){return new ja([])}}class Pa{constructor(e){this.path=e}static fromPath(e){return new Pa(Ra.fromString(e))}static fromName(e){return new Pa(Ra.fromString(e).popFirst(5))}static empty(){return new Pa(Ra.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ra.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ra.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pa(new Ra(e.slice()))}}class Da{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Da.UNKNOWN_ID=-1;function Oa(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Na.fromTimestamp(1e9===r?new Ia(n+1,0):new Ia(n,r));return new Ma(i,Pa.empty(),t)}function La(e){return new Ma(e.readTime,e.key,-1)}class Ma{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ma(Na.min(),Pa.empty(),-1)}static max(){return new Ma(Na.max(),Pa.empty(),-1)}}function Fa(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Pa.comparator(e.documentKey,t.documentKey),0!==n?n:ka(e.largestBatchId,t.largestBatchId))}const Ua="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ba{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Va(e){if(e.code!==ha.FAILED_PRECONDITION||e.message!==Ua)throw e;sa("LocalStore","Unexpectedly lost primary lease")}class za{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ca(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new za(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof za?t:za.resolve(t)}catch(e){return za.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):za.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):za.reject(t)}static resolve(e){return new za(((t,n)=>{t(e)}))}static reject(e){return new za(((t,n)=>{n(e)}))}static waitFor(e){return new za(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=za.resolve(!1);for(const n of e)t=t.next((e=>e?za.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new za(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new za(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Ha(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qa(e){return"IndexedDbTransactionError"===e.name}class Wa{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Ga(e){return null==e}function Qa(e){return 0===e&&1/e==-1/0}function Ka(e){return"number"==typeof e&&Number.isInteger(e)&&!Qa(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Wa.oe=-1;const $a=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ya=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Xa=Ya,Ja=[...Xa,"indexConfiguration","indexState","indexEntries"];function Za(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function eo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function to(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class no{constructor(e,t){this.comparator=e,this.root=t||io.EMPTY}insert(e,t){return new no(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,io.BLACK,null,null))}remove(e){return new no(this.comparator,this.root.remove(e,this.comparator).copy(null,null,io.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ro(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ro(this.root,e,this.comparator,!1)}getReverseIterator(){return new ro(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ro(this.root,e,this.comparator,!0)}}class ro{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class io{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:io.RED,this.left=null!=r?r:io.EMPTY,this.right=null!=i?i:io.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new io(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return io.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return io.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,io.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,io.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ca();if(this.right.isRed())throw ca();const e=this.left.check();if(e!==this.right.check())throw ca();return e+(this.isRed()?0:1)}}io.EMPTY=null,io.RED=!0,io.BLACK=!1,io.EMPTY=new class{constructor(){this.size=0}get key(){throw ca()}get value(){throw ca()}get color(){throw ca()}get left(){throw ca()}get right(){throw ca()}copy(e,t,n,r,i){return this}insert(e,t,n){return new io(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class so{constructor(e){this.comparator=e,this.data=new no(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ao(this.data.getIterator())}getIteratorFrom(e){return new ao(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof so))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new so(this.comparator);return t.data=e,t}}class ao{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class oo{constructor(e){this.fields=e,e.sort(ja.comparator)}static empty(){return new oo([])}unionWith(e){let t=new so(ja.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new oo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Sa(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class lo extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class co{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new lo("Invalid base64 string: "+e):e}}(e);return new co(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new co(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ka(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}co.EMPTY_BYTE_STRING=new co("");const uo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ho(e){if(ua(!!e),"string"==typeof e){let t=0;const n=uo.exec(e);if(ua(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:fo(e.seconds),nanos:fo(e.nanos)}}function fo(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function po(e){return"string"==typeof e?co.fromBase64String(e):co.fromUint8Array(e)}function mo(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function go(e){const t=e.mapValue.fields.__previous_value__;return mo(t)?go(t):t}function vo(e){const t=ho(e.mapValue.fields.__local_write_time__.timestampValue);return new Ia(t.seconds,t.nanos)}class yo{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class wo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new wo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof wo&&e.projectId===this.projectId&&e.database===this.database}}const bo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ao(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?mo(e)?4:Mo(e)?9007199254740991:Oo(e)?10:11:ca()}function Co(e,t){if(e===t)return!0;const n=Ao(e);if(n!==Ao(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return vo(e).isEqual(vo(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ho(e.timestampValue),r=ho(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return po(e.bytesValue).isEqual(po(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return fo(e.geoPointValue.latitude)===fo(t.geoPointValue.latitude)&&fo(e.geoPointValue.longitude)===fo(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return fo(e.integerValue)===fo(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=fo(e.doubleValue),r=fo(t.doubleValue);return n===r?Qa(n)===Qa(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Sa(e.arrayValue.values||[],t.arrayValue.values||[],Co);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Za(n)!==Za(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Co(n[i],r[i])))return!1;return!0}(e,t);default:return ca()}}function Eo(e,t){return void 0!==(e.values||[]).find((e=>Co(e,t)))}function xo(e,t){if(e===t)return 0;const n=Ao(e),r=Ao(t);if(n!==r)return ka(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ka(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=fo(e.integerValue||e.doubleValue),r=fo(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ko(e.timestampValue,t.timestampValue);case 4:return ko(vo(e),vo(t));case 5:return ka(e.stringValue,t.stringValue);case 6:return function(e,t){const n=po(e),r=po(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=ka(n[i],r[i]);if(0!==e)return e}return ka(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ka(fo(e.latitude),fo(t.latitude));return 0!==n?n:ka(fo(e.longitude),fo(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return So(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,c=null===(r=o.value)||void 0===r?void 0:r.arrayValue,u=ka((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:So(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===bo.mapValue&&t===bo.mapValue)return 0;if(e===bo.mapValue)return 1;if(t===bo.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=ka(r[a],s[a]);if(0!==e)return e;const t=xo(n[r[a]],i[s[a]]);if(0!==t)return t}return ka(r.length,s.length)}(e.mapValue,t.mapValue);default:throw ca()}}function ko(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ka(e,t);const n=ho(e),r=ho(t),i=ka(n.seconds,r.seconds);return 0!==i?i:ka(n.nanos,r.nanos)}function So(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=xo(n[i],r[i]);if(e)return e}return ka(n.length,r.length)}function Io(e){return No(e)}function No(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ho(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return po(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Pa.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=No(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${No(e.fields[i])}`;return n+"}"}(e.mapValue):ca()}function To(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Ro(e){return!!e&&"integerValue"in e}function _o(e){return!!e&&"arrayValue"in e}function jo(e){return!!e&&"nullValue"in e}function Po(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Do(e){return!!e&&"mapValue"in e}function Oo(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Lo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return eo(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Lo(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Lo(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Mo(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Fo{constructor(e){this.value=e}static empty(){return new Fo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Do(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lo(t)}setAll(e){let t=ja.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Lo(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Do(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Co(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Do(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){eo(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Fo(Lo(this.value))}}function Uo(e){const t=[];return eo(e.fields,((e,n)=>{const r=new ja([e]);if(Do(n)){const e=Uo(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new oo(t)}class Bo{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Bo(e,0,Na.min(),Na.min(),Na.min(),Fo.empty(),0)}static newFoundDocument(e,t,n,r){return new Bo(e,1,t,Na.min(),n,r,0)}static newNoDocument(e,t){return new Bo(e,2,t,Na.min(),Na.min(),Fo.empty(),0)}static newUnknownDocument(e,t){return new Bo(e,3,t,Na.min(),Na.min(),Fo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Na.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Na.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Bo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Vo{constructor(e,t){this.position=e,this.inclusive=t}}function zo(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Pa.comparator(Pa.fromName(a.referenceValue),n.key):xo(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Ho(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Co(e.position[n],t.position[n]))return!1;return!0}class qo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Wo(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Go{}class Qo extends Go{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new tl(e,t,n):"array-contains"===t?new sl(e,n):"in"===t?new al(e,n):"not-in"===t?new ol(e,n):"array-contains-any"===t?new ll(e,n):new Qo(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new nl(e,n):new rl(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(xo(t,this.value)):null!==t&&Ao(this.value)===Ao(t)&&this.matchesComparison(xo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ca()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ko extends Go{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Ko(e,t)}matches(e){return $o(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function $o(e){return"and"===e.op}function Yo(e){return Xo(e)&&$o(e)}function Xo(e){for(const t of e.filters)if(t instanceof Ko)return!1;return!0}function Jo(e){if(e instanceof Qo)return e.field.canonicalString()+e.op.toString()+Io(e.value);if(Yo(e))return e.filters.map((e=>Jo(e))).join(",");{const t=e.filters.map((e=>Jo(e))).join(",");return`${e.op}(${t})`}}function Zo(e,t){return e instanceof Qo?function(e,t){return t instanceof Qo&&e.op===t.op&&e.field.isEqual(t.field)&&Co(e.value,t.value)}(e,t):e instanceof Ko?function(e,t){return t instanceof Ko&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Zo(n,t.filters[r])),!0)}(e,t):void ca()}function el(e){return e instanceof Qo?function(e){return`${e.field.canonicalString()} ${e.op} ${Io(e.value)}`}(e):e instanceof Ko?function(e){return e.op.toString()+" {"+e.getFilters().map(el).join(" ,")+"}"}(e):"Filter"}class tl extends Qo{constructor(e,t,n){super(e,t,n),this.key=Pa.fromName(n.referenceValue)}matches(e){const t=Pa.comparator(e.key,this.key);return this.matchesComparison(t)}}class nl extends Qo{constructor(e,t){super(e,"in",t),this.keys=il("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class rl extends Qo{constructor(e,t){super(e,"not-in",t),this.keys=il("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function il(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Pa.fromName(e.referenceValue)))}class sl extends Qo{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _o(t)&&Eo(t.arrayValue,this.value)}}class al extends Qo{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Eo(this.value.arrayValue,t)}}class ol extends Qo{constructor(e,t){super(e,"not-in",t)}matches(e){if(Eo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Eo(this.value.arrayValue,t)}}class ll extends Qo{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_o(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Eo(this.value.arrayValue,e)))}}class cl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ue=null}}function ul(e){return new cl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function dl(e){const t=da(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Jo(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Ga(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Io(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Io(e))).join(",")),t.ue=e}return t.ue}function hl(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Wo(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Zo(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ho(e.startAt,t.startAt)&&Ho(e.endAt,t.endAt)}function fl(e){return Pa.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class pl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ml(e,t,n,r,i,s,a,o){return new pl(e,t,n,r,i,s,a,o)}function gl(e){return new pl(e)}function vl(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function yl(e){return null!==e.collectionGroup}function wl(e){const t=da(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new so(ja.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new qo(r,n))})),e.has(ja.keyField().canonicalString())||t.ce.push(new qo(ja.keyField(),n))}return t.ce}function bl(e){const t=da(e);return t.le||(t.le=Al(t,wl(e))),t.le}function Al(e,t){if("F"===e.limitType)return ul(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new qo(e.field,t)}));const n=e.endAt?new Vo(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Vo(e.startAt.position,e.startAt.inclusive):null;return ul(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Cl(e,t){const n=e.filters.concat([t]);return new pl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function El(e,t,n){return new pl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function xl(e,t){return hl(bl(e),bl(t))&&e.limitType===t.limitType}function kl(e){return`${dl(bl(e))}|lt:${e.limitType}`}function Sl(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>el(e))).join(", ")}]`),Ga(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Io(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Io(e))).join(",")),`Target(${t})`}(bl(e))}; limitType=${e.limitType})`}function Il(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Pa.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of wl(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=zo(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,wl(e),t))&&!(e.endAt&&!function(e,t,n){const r=zo(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,wl(e),t))}(e,t)}function Nl(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Tl(e){return(t,n)=>{let r=!1;for(const i of wl(e)){const e=Rl(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Rl(e,t,n){const r=e.field.isKeyField()?Pa.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?xo(r,i):ca()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ca()}}class _l{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){eo(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return to(this.inner)}size(){return this.innerSize}}const jl=new no(Pa.comparator);function Pl(){return jl}const Dl=new no(Pa.comparator);function Ol(){let e=Dl;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Ll(e){let t=Dl;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Ml(){return Ul()}function Fl(){return Ul()}function Ul(){return new _l((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Bl=new no(Pa.comparator),Vl=new so(Pa.comparator);function zl(){let e=Vl;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Hl=new so(ka);function ql(){return Hl}function Wl(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qa(t)?"-0":t}}function Gl(e){return{integerValue:""+e}}function Ql(e,t){return Ka(t)?Gl(t):Wl(e,t)}class Kl{constructor(){this._=void 0}}function $l(e,t,n){return e instanceof Jl?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&mo(t)&&(t=go(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Zl?ec(e,t):e instanceof tc?nc(e,t):function(e,t){const n=Xl(e,t),r=ic(n)+ic(e.Pe);return Ro(n)&&Ro(e.Pe)?Gl(r):Wl(e.serializer,r)}(e,t)}function Yl(e,t,n){return e instanceof Zl?ec(e,t):e instanceof tc?nc(e,t):n}function Xl(e,t){return e instanceof rc?function(e){return Ro(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Jl extends Kl{}class Zl extends Kl{constructor(e){super(),this.elements=e}}function ec(e,t){const n=sc(t);for(const r of e.elements)n.some((e=>Co(e,r)))||n.push(r);return{arrayValue:{values:n}}}class tc extends Kl{constructor(e){super(),this.elements=e}}function nc(e,t){let n=sc(t);for(const r of e.elements)n=n.filter((e=>!Co(e,r)));return{arrayValue:{values:n}}}class rc extends Kl{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function ic(e){return fo(e.integerValue||e.doubleValue)}function sc(e){return _o(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ac{constructor(e,t){this.version=e,this.transformResults=t}}class oc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new oc}static exists(e){return new oc(void 0,e)}static updateTime(e){return new oc(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class cc{}function uc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new bc(e.key,oc.none()):new mc(e.key,e.data,oc.none());{const n=e.data,r=Fo.empty();let i=new so(ja.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new gc(e.key,r,new oo(i.toArray()),oc.none())}}function dc(e,t,n){e instanceof mc?function(e,t,n){const r=e.value.clone(),i=yc(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof gc?function(e,t,n){if(!lc(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=yc(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(vc(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function hc(e,t,n,r){return e instanceof mc?function(e,t,n,r){if(!lc(e.precondition,t))return n;const i=e.value.clone(),s=wc(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof gc?function(e,t,n,r){if(!lc(e.precondition,t))return n;const i=wc(e.fieldTransforms,r,t),s=t.data;return s.setAll(vc(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return lc(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function fc(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Xl(r.transform,e||null);null!=i&&(null===n&&(n=Fo.empty()),n.set(r.field,i))}return n||null}function pc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Sa(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Zl&&t instanceof Zl||e instanceof tc&&t instanceof tc?Sa(e.elements,t.elements,Co):e instanceof rc&&t instanceof rc?Co(e.Pe,t.Pe):e instanceof Jl&&t instanceof Jl}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class mc extends cc{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class gc extends cc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function vc(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function yc(e,t,n){const r=new Map;ua(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Yl(a,o,n[i]))}return r}function wc(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,$l(e,s,t))}return r}class bc extends cc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ac extends cc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Cc{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&dc(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=hc(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=hc(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Fl();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=uc(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Na.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),zl())}isEqual(e){return this.batchId===e.batchId&&Sa(this.mutations,e.mutations,((e,t)=>pc(e,t)))&&Sa(this.baseMutations,e.baseMutations,((e,t)=>pc(e,t)))}}class Ec{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ua(e.mutations.length===n.length);let r=Bl;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Ec(e,t,n,r)}}class xc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class kc{constructor(e,t){this.count=e,this.unchangedNames=t}}var Sc,Ic;function Nc(e){switch(e){default:return ca();case ha.CANCELLED:case ha.UNKNOWN:case ha.DEADLINE_EXCEEDED:case ha.RESOURCE_EXHAUSTED:case ha.INTERNAL:case ha.UNAVAILABLE:case ha.UNAUTHENTICATED:return!1;case ha.INVALID_ARGUMENT:case ha.NOT_FOUND:case ha.ALREADY_EXISTS:case ha.PERMISSION_DENIED:case ha.FAILED_PRECONDITION:case ha.ABORTED:case ha.OUT_OF_RANGE:case ha.UNIMPLEMENTED:case ha.DATA_LOSS:return!0}}function Tc(e){if(void 0===e)return aa("GRPC error has no .code"),ha.UNKNOWN;switch(e){case Sc.OK:return ha.OK;case Sc.CANCELLED:return ha.CANCELLED;case Sc.UNKNOWN:return ha.UNKNOWN;case Sc.DEADLINE_EXCEEDED:return ha.DEADLINE_EXCEEDED;case Sc.RESOURCE_EXHAUSTED:return ha.RESOURCE_EXHAUSTED;case Sc.INTERNAL:return ha.INTERNAL;case Sc.UNAVAILABLE:return ha.UNAVAILABLE;case Sc.UNAUTHENTICATED:return ha.UNAUTHENTICATED;case Sc.INVALID_ARGUMENT:return ha.INVALID_ARGUMENT;case Sc.NOT_FOUND:return ha.NOT_FOUND;case Sc.ALREADY_EXISTS:return ha.ALREADY_EXISTS;case Sc.PERMISSION_DENIED:return ha.PERMISSION_DENIED;case Sc.FAILED_PRECONDITION:return ha.FAILED_PRECONDITION;case Sc.ABORTED:return ha.ABORTED;case Sc.OUT_OF_RANGE:return ha.OUT_OF_RANGE;case Sc.UNIMPLEMENTED:return ha.UNIMPLEMENTED;case Sc.DATA_LOSS:return ha.DATA_LOSS;default:return ca()}}(Ic=Sc||(Sc={}))[Ic.OK=0]="OK",Ic[Ic.CANCELLED=1]="CANCELLED",Ic[Ic.UNKNOWN=2]="UNKNOWN",Ic[Ic.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ic[Ic.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ic[Ic.NOT_FOUND=5]="NOT_FOUND",Ic[Ic.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ic[Ic.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ic[Ic.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ic[Ic.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ic[Ic.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ic[Ic.ABORTED=10]="ABORTED",Ic[Ic.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ic[Ic.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ic[Ic.INTERNAL=13]="INTERNAL",Ic[Ic.UNAVAILABLE=14]="UNAVAILABLE",Ic[Ic.DATA_LOSS=15]="DATA_LOSS";let Rc=null;function _c(){return new TextEncoder}const jc=new Us([4294967295,4294967295],0);function Pc(e){const t=_c().encode(e),n=new Bs;return n.update(t),new Uint8Array(n.digest())}function Dc(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Us([n,r],0),new Us([i,s],0)]}class Oc{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Lc(`Invalid padding: ${t}`);if(n<0)throw new Lc(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Lc(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Lc(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Us.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(Us.fromNumber(n)));return 1===r.compare(jc)&&(r=new Us([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Pc(e),[n,r]=Dc(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Oc(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ie)return;const t=Pc(e),[n,r]=Dc(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Lc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mc{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Fc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Mc(Na.min(),r,new no(ka),Pl(),zl())}}class Fc{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Fc(n,t,zl(),zl(),zl())}}class Uc{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class Bc{constructor(e,t){this.targetId=e,this.me=t}}class Vc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:co.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class zc{constructor(){this.fe=0,this.ge=Wc(),this.pe=co.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=zl(),t=zl(),n=zl();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ca()}})),new Fc(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Wc()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ua(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Hc{constructor(e){this.Le=e,this.Be=new Map,this.ke=Pl(),this.qe=qc(),this.Qe=new no(ka)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:ca()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(fl(i))if(0===n){const e=new Pa(i.path);this.Ue(t,e,Bo.newNoDocument(e,Na.min()))}else ua(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==Rc||Rc.et(function(e,t,n,r,i){var s,a,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=po(n).toUint8Array()}catch(e){if(e instanceof lo)return oa("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Oc(s,r,i)}catch(e){return oa(e instanceof Lc?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ie?null:a}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&fl(i.target)){const t=new Pa(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,Bo.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=zl();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new Mc(e,t,this.Qe,this.ke,n);return this.ke=Pl(),this.qe=qc(),this.Qe=new no(ka),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new zc,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new so(ka),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||sa("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new zc),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function qc(){return new no(Pa.comparator)}function Wc(){return new no(Pa.comparator)}const Gc={asc:"ASCENDING",desc:"DESCENDING"},Qc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kc={and:"AND",or:"OR"};class $c{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Yc(e,t){return e.useProto3Json||Ga(t)?t:{value:t}}function Xc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Jc(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Zc(e,t){return Xc(e,t.toTimestamp())}function eu(e){return ua(!!e),Na.fromTimestamp(function(e){const t=ho(e);return new Ia(t.seconds,t.nanos)}(e))}function tu(e,t){return nu(e,t).canonicalString()}function nu(e,t){const n=function(e){return new Ra(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function ru(e){const t=Ra.fromString(e);return ua(Eu(t)),t}function iu(e,t){return tu(e.databaseId,t.path)}function su(e,t){const n=ru(t);if(n.get(1)!==e.databaseId.projectId)throw new fa(ha.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new fa(ha.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Pa(cu(n))}function au(e,t){return tu(e.databaseId,t)}function ou(e){const t=ru(e);return 4===t.length?Ra.emptyPath():cu(t)}function lu(e){return new Ra(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function cu(e){return ua(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function uu(e,t,n){return{name:iu(e,t),fields:n.value.mapValue.fields}}function du(e,t){let n;if(t instanceof mc)n={update:uu(e,t.key,t.value)};else if(t instanceof bc)n={delete:iu(e,t.key)};else if(t instanceof gc)n={update:uu(e,t.key,t.data),updateMask:Cu(t.fieldMask)};else{if(!(t instanceof Ac))return ca();n={verify:iu(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Jl)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Zl)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof tc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof rc)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw ca()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Zc(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ca()}(e,t.precondition)),n}function hu(e,t){return{documents:[au(e,t.path)]}}function fu(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=au(e,i);const s=function(e){if(0!==e.length)return Au(Ko.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:wu(e.field),direction:gu(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Yc(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function pu(e){let t=ou(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ua(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=mu(e);return t instanceof Ko&&Yo(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new qo(bu(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Ga(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Vo(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Vo(n,t)}(n.endAt)),ml(t,i,a,s,o,"F",l,c)}function mu(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=bu(e.unaryFilter.field);return Qo.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=bu(e.unaryFilter.field);return Qo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=bu(e.unaryFilter.field);return Qo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=bu(e.unaryFilter.field);return Qo.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ca()}}(e):void 0!==e.fieldFilter?function(e){return Qo.create(bu(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ca()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ko.create(e.compositeFilter.filters.map((e=>mu(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ca()}}(e.compositeFilter.op))}(e):ca()}function gu(e){return Gc[e]}function vu(e){return Qc[e]}function yu(e){return Kc[e]}function wu(e){return{fieldPath:e.canonicalString()}}function bu(e){return ja.fromServerFormat(e.fieldPath)}function Au(e){return e instanceof Qo?function(e){if("=="===e.op){if(Po(e.value))return{unaryFilter:{field:wu(e.field),op:"IS_NAN"}};if(jo(e.value))return{unaryFilter:{field:wu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Po(e.value))return{unaryFilter:{field:wu(e.field),op:"IS_NOT_NAN"}};if(jo(e.value))return{unaryFilter:{field:wu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wu(e.field),op:vu(e.op),value:e.value}}}(e):e instanceof Ko?function(e){const t=e.getFilters().map((e=>Au(e)));return 1===t.length?t[0]:{compositeFilter:{op:yu(e.op),filters:t}}}(e):ca()}function Cu(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Eu(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class xu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Na.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Na.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:co.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new xu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ku{constructor(e){this.ct=e}}function Su(e){const t=pu({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?El(t,t.limit,"L"):t}class Iu{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(fo(e.integerValue));else if("doubleValue"in e){const n=fo(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),Qa(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=ho(n)),t.Rt(`${n.seconds||""}`),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(po(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?Mo(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Oo(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ca()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const i=e.fields||{};this.dt(t,53);const s="value",a=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(fo(a)),this.Vt(s,t),this.Tt(i[s],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),Pa.fromName(e).path.forEach((e=>{this.dt(t,60),this.Dt(e,t)}))}dt(e,t){e.At(t)}ft(e){e.At(2)}}Iu.vt=new Iu;class Nu{constructor(){this.un=new Tu}addToCollectionParentIndex(e,t){return this.un.add(t),za.resolve()}getCollectionParents(e,t){return za.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return za.resolve()}deleteFieldIndex(e,t){return za.resolve()}deleteAllFieldIndexes(e){return za.resolve()}createTargetIndexes(e,t){return za.resolve()}getDocumentsMatchingTarget(e,t){return za.resolve(null)}getIndexType(e,t){return za.resolve(0)}getFieldIndexes(e,t){return za.resolve([])}getNextCollectionGroupToUpdate(e){return za.resolve(null)}getMinOffset(e,t){return za.resolve(Ma.min())}getMinOffsetFromCollectionGroup(e,t){return za.resolve(Ma.min())}updateCollectionGroup(e,t,n){return za.resolve()}updateIndexEntries(e,t){return za.resolve()}}class Tu{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new so(Ra.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new so(Ra.comparator)).toArray()}}new Uint8Array(0);class Ru{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Ru(e,Ru.DEFAULT_COLLECTION_PERCENTILE,Ru.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ru.DEFAULT_COLLECTION_PERCENTILE=10,Ru.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ru.DEFAULT=new Ru(41943040,Ru.DEFAULT_COLLECTION_PERCENTILE,Ru.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ru.DISABLED=new Ru(-1,0,0);class _u{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new _u(0)}static kn(){return new _u(-1)}}class ju{constructor(){this.changes=new _l((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bo.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?za.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Pu{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Du{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&hc(n.mutation,e,oo.empty(),Ia.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,zl()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zl();const r=Ml();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Ol();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Ml();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,zl())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Pl();const s=Ul(),a=Ul();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof gc)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),hc(a.mutation,t,a.mutation.getFieldMask(),Ia.now())):s.set(t.key,oo.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Pu(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Ul();let r=new no(((e,t)=>e-t)),i=zl();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||oo.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||zl()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Fl();l.forEach((e=>{if(!i.has(e)){const r=uc(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return za.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Pa.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):yl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):za.resolve(Ml());let a=-1,o=i;return s.next((t=>za.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?za.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,zl()))).next((e=>({batchId:a,changes:Ll(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Pa(t)).next((e=>{let t=Ol();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Ol();return this.indexManager.getCollectionParents(e,i).next((a=>za.forEach(a,(a=>{const o=function(e,t){return new pl(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Bo.newInvalidDocument(r)))}));let n=Ol();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&hc(s.mutation,r,oo.empty(),Ia.now()),Il(t,r)&&(n=n.insert(e,r))})),n}))}}class Ou{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return za.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:eu(e.createTime)}}(t)),za.resolve()}getNamedQuery(e,t){return za.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:Su(e.bundledQuery),readTime:eu(e.readTime)}}(t)),za.resolve()}}class Lu{constructor(){this.overlays=new no(Pa.comparator),this.Ir=new Map}getOverlay(e,t){return za.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ml();return za.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),za.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Ir.delete(n)),za.resolve()}getOverlaysForCollection(e,t,n){const r=Ml(),i=t.length+1,s=new Pa(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return za.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new no(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Ml(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Ml(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return za.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new xc(t,n));let i=this.Ir.get(t);void 0===i&&(i=zl(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class Mu{constructor(){this.sessionToken=co.EMPTY_BYTE_STRING}getSessionToken(e){return za.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,za.resolve()}}class Fu{constructor(){this.Tr=new so(Uu.Er),this.dr=new so(Uu.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new Uu(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Vr(new Uu(e,t))}mr(e,t){e.forEach((e=>this.removeReference(e,t)))}gr(e){const t=new Pa(new Ra([])),n=new Uu(t,e),r=new Uu(t,e+1),i=[];return this.dr.forEachInRange([n,r],(e=>{this.Vr(e),i.push(e.key)})),i}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Pa(new Ra([])),n=new Uu(t,e),r=new Uu(t,e+1);let i=zl();return this.dr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Uu(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Uu{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Pa.comparator(e.key,t.key)||ka(e.wr,t.wr)}static Ar(e,t){return ka(e.wr,t.wr)||Pa.comparator(e.key,t.key)}}class Bu{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new so(Uu.Er)}checkEmpty(e){return za.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Cc(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.br=this.br.add(new Uu(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return za.resolve(s)}lookupMutationBatch(e,t){return za.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return za.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return za.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return za.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Uu(t,0),r=new Uu(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],(e=>{const t=this.Dr(e.wr);i.push(t)})),za.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new so(ka);return t.forEach((e=>{const t=new Uu(e,0),r=new Uu(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],(e=>{n=n.add(e.wr)}))})),za.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Pa.isDocumentKey(i)||(i=i.child(""));const s=new Uu(new Pa(i),0);let a=new so(ka);return this.br.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.wr)),!0)}),s),za.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach((e=>{const n=this.Dr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){ua(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return za.forEach(t.mutations,(r=>{const i=new Uu(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){const n=new Uu(t,0),r=this.br.firstAfterOrEqual(n);return za.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,za.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Vu{constructor(e){this.Mr=e,this.docs=new no(Pa.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return za.resolve(n?n.document.mutableCopy():Bo.newInvalidDocument(t))}getEntries(e,t){let n=Pl();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Bo.newInvalidDocument(e))})),za.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Pl();const s=t.path,a=new Pa(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Fa(La(a),n)<=0||(r.has(a.key)||Il(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return za.resolve(i)}getAllFromCollectionGroup(e,t,n,r){ca()}Or(e,t){return za.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new zu(this)}getSize(e){return za.resolve(this.size)}}class zu extends ju{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)})),za.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class Hu{constructor(e){this.persistence=e,this.Nr=new _l((e=>dl(e)),hl),this.lastRemoteSnapshotVersion=Na.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Fu,this.targetCount=0,this.kr=_u.Bn()}forEachTarget(e,t){return this.Nr.forEach(((e,n)=>t(n))),za.resolve()}getLastRemoteSnapshotVersion(e){return za.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return za.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),za.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),za.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new _u(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,za.resolve()}updateTargetData(e,t){return this.Kn(t),za.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,za.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),za.waitFor(i).next((()=>r))}getTargetCount(e){return za.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return za.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),za.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),za.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),za.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return za.resolve(n)}containsKey(e,t){return za.resolve(this.Br.containsKey(t))}}class qu{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Wa(0),this.Kr=!1,this.Kr=!0,this.$r=new Mu,this.referenceDelegate=e(this),this.Ur=new Hu(this),this.indexManager=new Nu,this.remoteDocumentCache=function(e){return new Vu(e)}((e=>this.referenceDelegate.Wr(e))),this.serializer=new ku(t),this.Gr=new Ou(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Lu,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new Bu(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){sa("MemoryPersistence","Starting transaction:",e);const r=new Wu(this.Qr.next());return this.referenceDelegate.zr(),n(r).next((e=>this.referenceDelegate.jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Hr(e,t){return za.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}}class Wu extends Ba{constructor(e){super(),this.currentSequenceNumber=e}}class Gu{constructor(e){this.persistence=e,this.Jr=new Fu,this.Yr=null}static Zr(e){return new Gu(e)}get Xr(){if(this.Yr)return this.Yr;throw ca()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),za.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),za.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),za.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((e=>this.Xr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Xr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return za.forEach(this.Xr,(n=>{const r=Pa.fromPath(n);return this.ei(e,r).next((e=>{e||t.removeEntry(r,Na.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return za.or([()=>za.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Qu{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=zl(),r=zl();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Qu(e,t.fromCache,n,r)}}class Ku{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class $u{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=Ri()?8:Ha(Ti())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Zi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Ku;return this.Xi(e,t,n).next((r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)}))})).next((()=>i.result))}es(e,t,n,r){return n.documentReadCount<this.ji?(ia()<=zi.DEBUG&&sa("QueryEngine","SDK will not create cache indexes for query:",Sl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),za.resolve()):(ia()<=zi.DEBUG&&sa("QueryEngine","Query:",Sl(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(ia()<=zi.DEBUG&&sa("QueryEngine","The SDK decides to create cache indexes for query:",Sl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bl(t))):za.resolve())}Yi(e,t){if(vl(t))return za.resolve(null);let n=bl(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=El(t,null,"F"),n=bl(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=zl(...r);return this.Ji.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.ts(t,r);return this.ns(t,s,i,n.readTime)?this.Yi(e,El(t,null,"F")):this.rs(e,s,t,n)}))))})))))}Zi(e,t,n,r){return vl(t)||r.isEqual(Na.min())?za.resolve(null):this.Ji.getDocuments(e,n).next((i=>{const s=this.ts(t,i);return this.ns(t,s,n,r)?za.resolve(null):(ia()<=zi.DEBUG&&sa("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Sl(t)),this.rs(e,s,t,Oa(r,-1)).next((e=>e)))}))}ts(e,t){let n=new so(Tl(e));return t.forEach(((t,r)=>{Il(e,r)&&(n=n.add(r))})),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return ia()<=zi.DEBUG&&sa("QueryEngine","Using full collection scan to execute query:",Sl(t)),this.Ji.getDocumentsMatchingQuery(e,t,Ma.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Yu{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new no(ka),this._s=new _l((e=>dl(e)),hl),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Du(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function Xu(e,t,n,r){return new Yu(e,t,n,r)}async function Ju(e,t){const n=da(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=zl();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({hs:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Zu(e){const t=da(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ur.getLastRemoteSnapshotVersion(e)))}function ed(e,t,n){let r=zl(),i=zl();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Pl();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Na.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):sa("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{Ps:r,Is:i}}))}function td(e,t){const n=da(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function nd(e,t){const n=da(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ur.getTargetData(e,t).next((i=>i?(r=i,za.resolve(r)):n.Ur.allocateTargetId(e).next((i=>(r=new xu(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e}))}async function rd(e,t,n){const r=da(e),i=r.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!qa(e))throw e;sa("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.os=r.os.remove(t),r._s.delete(i.target)}function id(e,t,n){const r=da(e);let i=Na.min(),s=zl();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=da(e),i=r._s.get(n);return void 0!==i?za.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,bl(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:Na.min(),n?s:zl()))).next((e=>(sd(r,Nl(t),e),{documents:e,Ts:s})))))}function sd(e,t,n){let r=e.us.get(t)||Na.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.us.set(t,r)}class ad{constructor(){this.activeTargetIds=ql()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class od{constructor(){this.so=new ad,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ad,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ld{_o(e){}shutdown(){}}class cd{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){sa("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){sa("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ud=null;function dd(){return null===ud?ud=268435456+Math.round(2147483648*Math.random()):ud++,"0x"+ud.toString(16)}const hd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fd{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const pd="WebChannelConnection";class md extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo=`projects/${n}/databases/${r}`,this.Co="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get Fo(){return!1}Mo(e,t,n,r,i){const s=dd(),a=this.xo(e,t.toUriEncodedString());sa("RestConnection",`Sending RPC '${e}' ${s}:`,a,n);const o={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(o,r,i),this.No(e,a,o,n).then((t=>(sa("RestConnection",`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw oa("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t}))}Lo(e,t,n,r,i,s){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+na,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}xo(e,t){const n=hd[e];return`${this.Do}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=dd();return new Promise(((s,a)=>{const o=new Hs;o.setWithCredentials(!0),o.listenOnce(Gs.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Qs.NO_ERROR:const t=o.getResponseJson();sa(pd,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case Qs.TIMEOUT:sa(pd,`RPC '${e}' ${i} timed out`),a(new fa(ha.DEADLINE_EXCEEDED,"Request time out"));break;case Qs.HTTP_ERROR:const n=o.getStatus();if(sa(pd,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ha).indexOf(t)>=0?t:ha.UNKNOWN}(t.status);a(new fa(e,t.message))}else a(new fa(ha.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new fa(ha.UNAVAILABLE,"Connection failed."));break;default:ca()}}finally{sa(pd,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);sa(pd,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)}))}Bo(e,t,n){const r=dd(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Xs(),a=Ys(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.xmlHttpFactory=new qs({})),this.Oo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");sa(pd,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=s.createWebChannel(c,o);let d=!1,h=!1;const f=new fd({Io:t=>{h?sa(pd,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(sa(pd,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),sa(pd,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},To:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Ws.EventType.OPEN,(()=>{h||(sa(pd,`RPC '${e}' stream ${r} transport opened.`),f.yo())})),p(u,Ws.EventType.CLOSE,(()=>{h||(h=!0,sa(pd,`RPC '${e}' stream ${r} transport closed`),f.So())})),p(u,Ws.EventType.ERROR,(t=>{h||(h=!0,oa(pd,`RPC '${e}' stream ${r} transport errored:`,t),f.So(new fa(ha.UNAVAILABLE,"The operation could not be completed")))})),p(u,Ws.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];ua(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){sa(pd,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=Sc[e];if(void 0!==t)return Tc(t)}(t),i=a.message;void 0===n&&(n=ha.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.So(new fa(n,i)),u.close()}else sa(pd,`RPC '${e}' stream ${r} received:`,i),f.bo(i)}})),p(a,$s.STAT_EVENT,(t=>{t.stat===Ks.PROXY?sa(pd,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Ks.NOPROXY&&sa(pd,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.wo()}),0),f}}function gd(){return"undefined"!=typeof document?document:null}function vd(e){return new $c(e,!0)}class yd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&sa("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class wd{constructor(e,t,n,r,i,s,a,o){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new yd(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===ha.RESOURCE_EXHAUSTED?(aa(t.toString()),aa("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===ha.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)}),(t=>{e((()=>{const e=new fa(ha.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)}))}))}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((e=>{n((()=>this.I_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.e_?this.E_(e):this.onNext(e)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return sa("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(sa("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class bd extends wd{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ca()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(ua(void 0===t||"string"==typeof t),co.fromBase64String(t||"")):(ua(void 0===t||t instanceof Buffer||t instanceof Uint8Array),co.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?ha.UNKNOWN:Tc(e.code);return new fa(t,e.message||"")}(a);n=new Vc(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=su(e,r.document.name),s=eu(r.document.updateTime),a=r.document.createTime?eu(r.document.createTime):Na.min(),o=new Fo({mapValue:{fields:r.document.fields}}),l=Bo.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Uc(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=su(e,r.document),s=r.readTime?eu(r.readTime):Na.min(),a=Bo.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Uc([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=su(e,r.document),s=r.removedTargetIds||[];n=new Uc([],s,i,null)}else{if(!("filter"in t))return ca();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new kc(r,i),a=e.targetId;n=new Bc(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Na.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Na.min():t.readTime?eu(t.readTime):Na.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=lu(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=fl(r)?{documents:hu(e,r)}:{query:fu(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Jc(e,t.resumeToken);const r=Yc(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Na.min())>0){n.readTime=Xc(e,t.snapshotVersion.toTimestamp());const r=Yc(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ca()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=lu(this.serializer),t.removeTarget=e,this.a_(t)}}class Ad extends wd{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return ua(!!e.streamToken),this.lastStreamToken=e.streamToken,ua(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){ua(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(ua(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?eu(e.updateTime):eu(t);return n.isEqual(Na.min())&&(n=eu(t)),new ac(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=eu(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=lu(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>du(this.serializer,e)))};this.a_(t)}}class Cd extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new fa(ha.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.Mo(e,nu(t,n),r,s,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ha.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new fa(ha.UNKNOWN,e.toString())}))}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[a,o]=s;return this.connection.Lo(e,nu(t,n),r,a,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ha.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new fa(ha.UNKNOWN,e.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class Ed{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(aa(t),this.D_=!1):sa("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class xd{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o((e=>{n.enqueueAndForget((async()=>{Pd(this)&&(sa("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=da(e);t.L_.add(4),await Sd(t),t.q_.set("Unknown"),t.L_.delete(4),await kd(t)}(this))}))})),this.q_=new Ed(n,r)}}async function kd(e){if(Pd(e))for(const t of e.B_)await t(!0)}async function Sd(e){for(const t of e.B_)await t(!1)}function Id(e,t){const n=da(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),jd(n)?_d(n):Jd(n).r_()&&Td(n,t))}function Nd(e,t){const n=da(e),r=Jd(n);n.N_.delete(t),r.r_()&&Rd(n,t),0===n.N_.size&&(r.r_()?r.o_():Pd(n)&&n.q_.set("Unknown"))}function Td(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Na.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Jd(e).A_(t)}function Rd(e,t){e.Q_.xe(t),Jd(e).R_(t)}function _d(e){e.Q_=new Hc({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Jd(e).start(),e.q_.v_()}function jd(e){return Pd(e)&&!Jd(e).n_()&&e.N_.size>0}function Pd(e){return 0===da(e).L_.size}function Dd(e){e.Q_=void 0}async function Od(e){e.q_.set("Online")}async function Ld(e){e.N_.forEach(((t,n)=>{Td(e,t)}))}async function Md(e,t){Dd(e),jd(e)?(e.q_.M_(t),_d(e)):e.q_.set("Unknown")}async function Fd(e,t,n){if(e.q_.set("Online"),t instanceof Vc&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){sa("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Ud(e,n)}else if(t instanceof Uc?e.Q_.Ke(t):t instanceof Bc?e.Q_.He(t):e.Q_.We(t),!n.isEqual(Na.min()))try{const t=await Zu(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(co.EMPTY_BYTE_STRING,r.snapshotVersion)),Rd(e,t);const i=new xu(r.target,t,n,r.sequenceNumber);Td(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){sa("RemoteStore","Failed to raise snapshot:",t),await Ud(e,t)}}async function Ud(e,t,n){if(!qa(t))throw t;e.L_.add(1),await Sd(e),e.q_.set("Offline"),n||(n=()=>Zu(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{sa("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await kd(e)}))}function Bd(e,t){return t().catch((n=>Ud(e,n,t)))}async function Vd(e){const t=da(e),n=Zd(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;zd(t);)try{const e=await td(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,Hd(t,e)}catch(e){await Ud(t,e)}qd(t)&&Wd(t)}function zd(e){return Pd(e)&&e.O_.length<10}function Hd(e,t){e.O_.push(t);const n=Zd(e);n.r_()&&n.V_&&n.m_(t.mutations)}function qd(e){return Pd(e)&&!Zd(e).n_()&&e.O_.length>0}function Wd(e){Zd(e).start()}async function Gd(e){Zd(e).p_()}async function Qd(e){const t=Zd(e);for(const n of e.O_)t.m_(n.mutations)}async function Kd(e,t,n){const r=e.O_.shift(),i=Ec.from(r,t,n);await Bd(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Vd(e)}async function $d(e,t){t&&Zd(e).V_&&await async function(e,t){if(function(e){return Nc(e)&&e!==ha.ABORTED}(t.code)){const n=e.O_.shift();Zd(e).s_(),await Bd(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Vd(e)}}(e,t),qd(e)&&Wd(e)}async function Yd(e,t){const n=da(e);n.asyncQueue.verifyOperationInProgress(),sa("RemoteStore","RemoteStore received new credentials");const r=Pd(n);n.L_.add(3),await Sd(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await kd(n)}async function Xd(e,t){const n=da(e);t?(n.L_.delete(2),await kd(n)):t||(n.L_.add(2),await Sd(n),n.q_.set("Unknown"))}function Jd(e){return e.K_||(e.K_=function(e,t,n){const r=da(e);return r.w_(),new bd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:Od.bind(null,e),Ro:Ld.bind(null,e),mo:Md.bind(null,e),d_:Fd.bind(null,e)}),e.B_.push((async t=>{t?(e.K_.s_(),jd(e)?_d(e):e.q_.set("Unknown")):(await e.K_.stop(),Dd(e))}))),e.K_}function Zd(e){return e.U_||(e.U_=function(e,t,n){const r=da(e);return r.w_(),new Ad(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Gd.bind(null,e),mo:$d.bind(null,e),f_:Qd.bind(null,e),g_:Kd.bind(null,e)}),e.B_.push((async t=>{t?(e.U_.s_(),await Vd(e)):(await e.U_.stop(),e.O_.length>0&&(sa("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))}))),e.U_}class eh{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new pa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new eh(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new fa(ha.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function th(e,t){if(aa("AsyncQueue",`${t}: ${e}`),qa(e))return new fa(ha.UNAVAILABLE,`${t}: ${e}`);throw e}class nh{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Pa.comparator(t.key,n.key):(e,t)=>Pa.comparator(e.key,t.key),this.keyedMap=Ol(),this.sortedSet=new no(this.comparator)}static emptySet(e){return new nh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof nh))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new nh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class rh{constructor(){this.W_=new no(Pa.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ca():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class ih{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new ih(e,t,nh.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class sh{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class ah{constructor(){this.queries=oh(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=da(e),r=n.queries;n.queries=oh(),r.forEach(((e,n)=>{for(const r of n.j_)r.onError(t)}))}(this,new fa(ha.ABORTED,"Firestore shutting down"))}}function oh(){return new _l((e=>kl(e)),xl)}async function lh(e,t){const n=da(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.H_()&&t.J_()&&(r=2):(s=new sh,r=t.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=th(e,`Initialization of query '${Sl(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&hh(n)}async function ch(e,t){const n=da(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.j_.indexOf(t);e>=0&&(s.j_.splice(e,1),0===s.j_.length?i=t.J_()?0:1:!s.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function uh(e,t){const n=da(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&hh(n)}function dh(e,t,n){const r=da(e),i=r.queries.get(t);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(t)}function hh(e){e.Y_.forEach((e=>{e.next()}))}var fh,ph;(ph=fh||(fh={})).ea="default",ph.Cache="cache";class mh{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new ih(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=ih.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==fh.Cache}}class gh{constructor(e){this.key=e}}class vh{constructor(e){this.key=e}}class yh{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=zl(),this.mutatedKeys=zl(),this.Aa=Tl(e),this.Ra=new nh(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new rh,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Il(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Aa(u,o)>0||l&&this.Aa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:s,fa:n,ns:a,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ca()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc))),this.pa(n),r=null!=r&&r;const a=t&&!r?this.ya():[],o=0===this.da.size&&this.current&&!r?1:0,l=o!==this.Ea;return this.Ea=o,0!==s.length||l?{snapshot:new ih(this.query,e.Ra,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new rh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((e=>this.Ta=this.Ta.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ta=this.Ta.delete(e))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=zl(),this.Ra.forEach((e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))}));const t=[];return e.forEach((e=>{this.da.has(e)||t.push(new vh(e))})),this.da.forEach((n=>{e.has(n)||t.push(new gh(n))})),t}ba(e){this.Ta=e.Ts,this.da=zl();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return ih.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class wh{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class bh{constructor(e){this.key=e,this.va=!1}}class Ah{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new _l((e=>kl(e)),xl),this.Ma=new Map,this.xa=new Set,this.Oa=new no(Pa.comparator),this.Na=new Map,this.La=new Fu,this.Ba={},this.ka=new Map,this.qa=_u.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function Ch(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Hh(e);let i;const s=r.Fa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await xh(r,t,n,!0),i}async function Eh(e,t){const n=Hh(e);await xh(n,t,!0,!1)}async function xh(e,t,n,r){const i=await nd(e.localStore,bl(t)),s=i.targetId,a=n?e.sharedClientState.addLocalQueryTarget(s):"not-current";let o;return r&&(o=await kh(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&Id(e.remoteStore,i),o}async function kh(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await id(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ma(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return Mh(e,t.targetId,o.wa),o.snapshot}(e,t,n,r);const s=await id(e.localStore,t,!0),a=new yh(t,s.Ts),o=a.ma(s.documents),l=Fc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);Mh(e,n,c.wa);const u=new wh(t,n,a);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function Sh(e,t,n){const r=da(e),i=r.Fa.get(t),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter((e=>!xl(e,t)))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await rd(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Nd(r.remoteStore,i.targetId),Oh(r,i.targetId)})).catch(Va)):(Oh(r,i.targetId),await rd(r.localStore,i.targetId,!0))}async function Ih(e,t){const n=da(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Nd(n.remoteStore,r.targetId))}async function Nh(e,t){const n=da(e);try{const e=await function(e,t){const n=da(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Ur.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Ur.addMatchingKeys(e,s.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(co.EMPTY_BYTE_STRING,Na.min()).withLastLimboFreeSnapshotVersion(Na.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Ur.updateTargetData(e,c))}));let o=Pl(),l=zl();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(ed(e,s,t.documentUpdates).next((e=>{o=e.Ps,l=e.Is}))),!r.isEqual(Na.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next((t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return za.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.os=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Na.get(t);r&&(ua(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?ua(r.va):e.removedDocuments.size>0&&(ua(r.va),r.va=!1))})),await Bh(n,e,t)}catch(e){await Va(e)}}function Th(e,t,n){const r=da(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach(((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=da(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)})),r&&hh(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Rh(e,t,n){const r=da(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),s=i&&i.key;if(s){let e=new no(Pa.comparator);e=e.insert(s,Bo.newNoDocument(s,Na.min()));const n=zl().add(s),i=new Mc(Na.min(),new Map,new no(ka),e,n);await Nh(r,i),r.Oa=r.Oa.remove(s),r.Na.delete(t),Uh(r)}else await rd(r.localStore,t,!1).then((()=>Oh(r,t,n))).catch(Va)}async function _h(e,t){const n=da(e),r=t.batch.batchId;try{const e=await function(e,t){const n=da(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=za.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);ua(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=zl();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Dh(n,r,null),Ph(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bh(n,e)}catch(e){await Va(e)}}async function jh(e,t,n){const r=da(e);try{const e=await function(e,t){const n=da(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(ua(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Dh(r,t,n),Ph(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Bh(r,e)}catch(n){await Va(n)}}function Ph(e,t){(e.ka.get(t)||[]).forEach((e=>{e.resolve()})),e.ka.delete(t)}function Dh(e,t,n){const r=da(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function Oh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach((t=>{e.La.containsKey(t)||Lh(e,t)}))}function Lh(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(Nd(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),Uh(e))}function Mh(e,t,n){for(const r of n)r instanceof gh?(e.La.addReference(r.key,t),Fh(e,r)):r instanceof vh?(sa("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||Lh(e,r.key)):ca()}function Fh(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(sa("SyncEngine","New document in limbo: "+n),e.xa.add(r),Uh(e))}function Uh(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new Pa(Ra.fromString(t)),r=e.qa.next();e.Na.set(r,new bh(n)),e.Oa=e.Oa.insert(n,r),Id(e.remoteStore,new xu(bl(gl(n.path)),r,"TargetPurposeLimboResolution",Wa.oe))}}async function Bh(e,t,n){const r=da(e),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach(((e,o)=>{a.push(r.Ka(o,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Qu.Wi(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.Ca.d_(i),await async function(e,t){const n=da(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>za.forEach(t,(t=>za.forEach(t.$i,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>za.forEach(t.Ui,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!qa(e))throw e;sa("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,s))}async function Vh(e,t){const n=da(e);if(!n.currentUser.isEqual(t)){sa("SyncEngine","User change. New user:",t.toKey());const e=await Ju(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach((e=>{e.forEach((e=>{e.reject(new fa(ha.CANCELLED,t))}))})),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Bh(n,e.hs)}}function zh(e,t){const n=da(e),r=n.Na.get(t);if(r&&r.va)return zl().add(r.key);{let e=zl();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function Hh(e){const t=da(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Nh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=zh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Rh.bind(null,t),t.Ca.d_=uh.bind(null,t.eventManager),t.Ca.$a=dh.bind(null,t.eventManager),t}function qh(e){const t=da(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_h.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=jh.bind(null,t),t}class Wh{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=vd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Xu(this.persistence,new $u,e.initialUser,this.serializer)}createPersistence(e){return new qu(Gu.Zr,this.serializer)}createSharedClientState(e){return new od}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Gh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Th(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Vh.bind(null,this.syncEngine),await Xd(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new ah}createDatastore(e){const t=vd(e.databaseInfo.databaseId),n=function(e){return new md(e)}(e.databaseInfo);return function(e,t,n,r){return new Cd(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new xd(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Th(this.syncEngine,e,0)),cd.D()?new cd:new ld)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new Ah(e,t,n,r,i,s);return a&&(o.Qa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=da(e);sa("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await Sd(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}class Qh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):aa("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Kh{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ta.UNAUTHENTICATED,this.clientId=xa.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{sa("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(sa("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new fa(ha.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(a){const n=th(a,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function $h(e,t){e.asyncQueue.verifyOperationInProgress(),sa("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Ju(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Yh(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Jh(e);sa("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Yd(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Yd(t.remoteStore,n))),e._onlineComponents=t}function Xh(e){return"FirebaseError"===e.name?e.code===ha.FAILED_PRECONDITION||e.code===ha.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Jh(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){sa("FirestoreClient","Using user provided OfflineComponentProvider");try{await $h(e,e._uninitializedComponentsProvider._offline)}catch(a){const n=a;if(!Xh(n))throw n;oa("Error using user provided cache. Falling back to memory cache: "+n),await $h(e,new Wh)}}else sa("FirestoreClient","Using default OfflineComponentProvider"),await $h(e,new Wh);return e._offlineComponents}async function Zh(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(sa("FirestoreClient","Using user provided OnlineComponentProvider"),await Yh(e,e._uninitializedComponentsProvider._online)):(sa("FirestoreClient","Using default OnlineComponentProvider"),await Yh(e,new Gh))),e._onlineComponents}function ef(e){return Zh(e).then((e=>e.syncEngine))}async function tf(e){const t=await Zh(e),n=t.eventManager;return n.onListen=Ch.bind(null,t.syncEngine),n.onUnlisten=Sh.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Eh.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Ih.bind(null,t.syncEngine),n}function nf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new pa;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Qh({next:s=>{t.enqueueAndForget((()=>ch(e,a)));const o=s.docs.has(n);!o&&s.fromCache?i.reject(new fa(ha.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&r&&"server"===r.source?i.reject(new fa(ha.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new mh(gl(n.path),s,{includeMetadataChanges:!0,_a:!0});return lh(e,a)}(await tf(e),e.asyncQueue,t,n,r))),r.promise}function rf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new pa;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Qh({next:n=>{t.enqueueAndForget((()=>ch(e,a))),n.fromCache&&"server"===r.source?i.reject(new fa(ha.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new mh(n,s,{includeMetadataChanges:!0,_a:!0});return lh(e,a)}(await tf(e),e.asyncQueue,t,n,r))),r.promise}function sf(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const af=new Map;function of(e,t,n){if(!n)throw new fa(ha.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function lf(e){if(!Pa.isDocumentKey(e))throw new fa(ha.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function cf(e){if(Pa.isDocumentKey(e))throw new fa(ha.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function uf(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":ca()}function df(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new fa(ha.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uf(e);throw new fa(ha.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class hf{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new fa(ha.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new fa(ha.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new fa(ha.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sf(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new fa(ha.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new fa(ha.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new fa(ha.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ff{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new fa(ha.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new fa(ha.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hf(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ga;switch(e.type){case"firstParty":return new ba(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new fa(ha.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=af.get(e);t&&(sa("ComponentProvider","Removing Datastore"),af.delete(e),t.terminate())}(this),Promise.resolve()}}function pf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=df(e,ff))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&oa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ta.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ci(JSON.stringify({alg:"none",type:"JWT"})),Ci(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new fa(ha.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ta(s)}e._authCredentials=new va(new ma(t,n))}}class mf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new mf(this.firestore,e,this._query)}}class gf{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gf(this.firestore,e,this._key)}}class vf extends mf{constructor(e,t,n){super(e,t,gl(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gf(this.firestore,null,new Pa(e))}withConverter(e){return new vf(this.firestore,e,this._path)}}function yf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Li(e),of("collection","path",t),e instanceof ff){const n=Ra.fromString(t,...r);return cf(n),new vf(e,null,n)}{if(!(e instanceof gf||e instanceof vf))throw new fa(ha.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ra.fromString(t,...r));return cf(n),new vf(e.firestore,null,n)}}function wf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Li(e),1===arguments.length&&(t=xa.newId()),of("doc","path",t),e instanceof ff){const n=Ra.fromString(t,...r);return lf(n),new gf(e,null,new Pa(n))}{if(!(e instanceof gf||e instanceof vf))throw new fa(ha.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ra.fromString(t,...r));return lf(n),new gf(e.firestore,e instanceof vf?e.converter:null,new Pa(n))}}class bf{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new yd(this,"async_queue_retry"),this.Eu=()=>{const e=gd();e&&sa("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()};const e=gd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const t=gd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise((()=>{}));const t=new pa;return this.Au((()=>this.cu&&this.Iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.uu.push(e),this.Ru())))}async Ru(){if(0!==this.uu.length){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(s){if(!qa(s))throw s;sa("AsyncQueue","Operation failed with retryable error: "+s)}this.uu.length>0&&this.t_.Go((()=>this.Ru()))}}Au(e){const t=this.au.then((()=>(this.Pu=!0,e().catch((e=>{this.hu=e,this.Pu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw aa("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Pu=!1,e))))));return this.au=t,t}enqueueAfterDelay(e,t,n){this.du(),this.Tu.indexOf(e)>-1&&(t=0);const r=eh.createAndSchedule(this,e,t,n,(e=>this.Vu(e)));return this.lu.push(r),r}du(){this.hu&&ca()}verifyOperationInProgress(){}async mu(){let e;do{e=this.au,await e}while(e!==this.au)}fu(e){for(const t of this.lu)if(t.timerId===e)return!0;return!1}gu(e){return this.mu().then((()=>{this.lu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.lu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.mu()}))}pu(e){this.Tu.push(e)}Vu(e){const t=this.lu.indexOf(e);this.lu.splice(t,1)}}class Af extends ff{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new bf,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||xf(this),this._firestoreClient.terminate()}}function Cf(e,t){const n="object"==typeof e?e:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ms;const t=vs.get(e);if(!t&&e===ms&&Ii())return ks();if(!t)throw Es.create("no-app",{appName:e});return t}(),r="string"==typeof e?e:t||"(default)",i=Cs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=Si("firestore");e&&pf(i,...e)}return i}function Ef(e){return e._firestoreClient||xf(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function xf(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new yo(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,sf(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Kh(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class kf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kf(co.fromBase64String(e))}catch(e){throw new fa(ha.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new kf(co.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Sf{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new fa(ha.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ja(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class If{constructor(e){this._methodName=e}}class Nf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fa(ha.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fa(ha.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ka(this._lat,e._lat)||ka(this._long,e._long)}}class Tf{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Rf=/^__.*__$/;class _f{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new gc(e,this.data,this.fieldMask,t,this.fieldTransforms):new mc(e,this.data,t,this.fieldTransforms)}}function jf(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ca()}}class Pf{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.yu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new Pf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Du:!1});return r.vu(e),r}Cu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Du:!1});return r.yu(),r}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Wf(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(0===e.length)throw this.Mu("Document fields must not be empty");if(jf(this.wu)&&Rf.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class Df{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||vd(e)}Nu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Pf({wu:e,methodName:t,Ou:n,path:ja.emptyPath(),Du:!1,xu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Of(e){const t=e._freezeSettings(),n=vd(e._databaseId);return new Df(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Lf(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Nu(s.merge||s.mergeFields?2:0,t,n,i);Vf("Data must be an object, but it was:",a,r);const o=Uf(r,a);let l,c;if(s.merge)l=new oo(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=zf(t,r,n);if(!a.contains(i))throw new fa(ha.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Gf(e,i)||e.push(i)}l=new oo(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new _f(new Fo(o),l,c)}function Mf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Ff(n,e.Nu(r?4:3,t))}function Ff(e,t){if(Bf(e=Li(e)))return Vf("Unsupported field value:",t,e),Uf(e,t);if(e instanceof If)return function(e,t){if(!jf(t.wu))throw t.Mu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Mu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Du&&4!==t.wu)throw t.Mu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Ff(i,t.Fu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Li(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ql(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ia.fromDate(e);return{timestampValue:Xc(t.serializer,n)}}if(e instanceof Ia){const n=new Ia(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Xc(t.serializer,n)}}if(e instanceof Nf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof kf)return{bytesValue:Jc(t.serializer,e._byteString)};if(e instanceof gf){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Mu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:tu(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Tf)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Mu("VectorValues must only contain numeric values.");return Wl(t.serializer,e)}))}}}}}}(e,t);throw t.Mu(`Unsupported field value: ${uf(e)}`)}(e,t)}function Uf(e,t){const n={};return to(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):eo(e,((e,r)=>{const i=Ff(r,t.bu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Bf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ia||e instanceof Nf||e instanceof kf||e instanceof gf||e instanceof If||e instanceof Tf)}function Vf(e,t,n){if(!Bf(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=uf(n);throw"an object"===r?t.Mu(e+" a custom object"):t.Mu(e+" "+r)}}function zf(e,t,n){if((t=Li(t))instanceof Sf)return t._internalPath;if("string"==typeof t)return qf(e,t);throw Wf("Field path arguments must be of type string or ",e,!1,void 0,n)}const Hf=new RegExp("[~\\*/\\[\\]]");function qf(e,t,n){if(t.search(Hf)>=0)throw Wf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Sf(...t.split("."))._internalPath}catch(c){throw Wf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Wf(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new fa(ha.INVALID_ARGUMENT,o+e+l)}function Gf(e,t){return e.some((e=>e.isEqual(t)))}class Qf{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new gf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Kf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($f("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Kf extends Qf{data(){return super.data()}}function $f(e,t){return"string"==typeof t?qf(e,t):t instanceof Sf?t._internalPath:t._delegate._internalPath}function Yf(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new fa(ha.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xf{}class Jf extends Xf{}function Zf(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Xf&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof np)).length,n=e.filter((e=>e instanceof ep)).length;if(t>1||t>0&&n>0)throw new fa(ha.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class ep extends Jf{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new ep(e,t,n)}_apply(e){const t=this._parse(e);return sp(e._query,t),new mf(e.firestore,e.converter,Cl(e._query,t))}_parse(e){const t=Of(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new fa(ha.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){ip(a,s);const t=[];for(const n of a)t.push(rp(r,e,n));o={arrayValue:{values:t}}}else o=rp(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||ip(a,s),o=Mf(n,t,a,"in"===s||"not-in"===s);return Qo.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function tp(e,t,n){const r=t,i=$f("where",e);return ep._create(i,r,n)}class np extends Xf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new np(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Ko.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)sp(n,i),n=Cl(n,i)}(e._query,t),new mf(e.firestore,e.converter,Cl(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function rp(e,t,n){if("string"==typeof(n=Li(n))){if(""===n)throw new fa(ha.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yl(t)&&-1!==n.indexOf("/"))throw new fa(ha.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Ra.fromString(n));if(!Pa.isDocumentKey(r))throw new fa(ha.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return To(e,new Pa(r))}if(n instanceof gf)return To(e,n._key);throw new fa(ha.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uf(n)}.`)}function ip(e,t){if(!Array.isArray(e)||0===e.length)throw new fa(ha.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function sp(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new fa(ha.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new fa(ha.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class ap{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ao(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(po(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ca()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return eo(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>fo(e.doubleValue)));return new Tf(i)}convertGeoPoint(e){return new Nf(fo(e.latitude),fo(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=go(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(vo(e));default:return null}}convertTimestamp(e){const t=ho(e);return new Ia(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ra.fromString(e);ua(Eu(n));const r=new wo(n.get(1),n.get(3)),i=new Pa(n.popFirst(5));return r.isEqual(t)||aa(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function op(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class lp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cp extends Qf{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new up(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field($f("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class up extends cp{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class dp{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new lp(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new up(this._firestore,this._userDataWriter,n.key,n,new lp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new fa(ha.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new up(e._firestore,e._userDataWriter,n.doc.key,n.doc,new lp(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new up(e._firestore,e._userDataWriter,t.doc.key,t.doc,new lp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:hp(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function hp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ca()}}function fp(e){e=df(e,gf);const t=df(e.firestore,Af);return nf(Ef(t),e._key).then((n=>yp(t,e,n)))}class pp extends ap{constructor(e){super(),this.firestore=e}convertBytes(e){return new kf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gf(this.firestore,null,t)}}function mp(e){e=df(e,mf);const t=df(e.firestore,Af),n=Ef(t),r=new pp(t);return Yf(e._query),rf(n,e._query).then((n=>new dp(t,r,e,n)))}function gp(e,t,n){e=df(e,gf);const r=df(e.firestore,Af),i=op(e.converter,t,n);return vp(r,[Lf(Of(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,oc.none())])}function vp(e,t){return function(e,t){const n=new pa;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=qh(e);try{const e=await function(e,t){const n=da(e),r=Ia.now(),i=t.reduce(((e,t)=>e.add(t.key)),zl());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Pl(),l=zl();return n.cs.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=fc(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new gc(e.key,t,Uo(t.value.mapValue),oc.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Ll(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new no(ka)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await Bh(r,e.changes),await Vd(r.remoteStore)}catch(e){const t=th(e,"Failed to persist write");n.reject(t)}}(await ef(e),t,n))),n.promise}(Ef(e),t)}function yp(e,t,n){const r=n.docs.get(t._key),i=new pp(e);return new cp(e,i,t._key,r,new lp(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){na=e}("10.13.0"),As(new Mi("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new Af(new ya(e.getProvider("auth-internal")),new Ca(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new fa(ha.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wo(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Ss(ea,"4.7.0",e),Ss(ea,"4.7.0","esm2017")}();Cf(ks({apiKey:"AIzaSyC0_oxrUWu1NoPuTBpCYOOTNAUXPUd_Y9c",authDomain:"medlabview.firebaseapp.com",projectId:"medlabview",storageBucket:"medlabview.appspot.com",messagingSenderId:"652128567946",appId:"1:652128567946:web:d613e20cfafbfcee366373",measurementId:"G-G5SSRYJVJZ"}));const wp=Cf(),bp=()=>{const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(!1),s=(0,t.useRef)(null),[a,o]=(0,t.useState)([]),l=yf(wp,"patient"),c=async()=>{try{let t;t=e?Zf(l,tp("patientid","==",e)):Zf(l);const n=await mp(t);o(n.docs.map((e=>({...e.data(),id:e.id}))))}catch(t){console.error("Error fetching data from Firestore:",t.message)}},u=()=>{const e=s.current;if(e){const t=e.scrollHeight>e.clientHeight;i(t)}},d=Xr();return(0,t.useEffect)((()=>{c()}),[]),(0,t.useEffect)((()=>(u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u))),[a]),(0,gi.jsx)("div",{className:"dn-full",children:(0,gi.jsxs)("div",{className:"dn-container",children:[(0,gi.jsxs)("div",{className:"dn-logo",children:[(0,gi.jsx)("img",{src:yi,alt:"Logo"}),(0,gi.jsx)("div",{className:"LTP",children:"Laboratory Test Portal"})]}),(0,gi.jsxs)("div",{className:"dn-search",children:[(0,gi.jsx)("input",{type:"id",placeholder:"Enter Patient ID Number",value:e,onChange:e=>{n(e.target.value)}}),(0,gi.jsx)("div",{className:"dn-search-button",onClick:c,children:(0,gi.jsx)("button",{children:(0,gi.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAACN5JREFUWEfNmH9QE+kZxzebXxfAKKagCRRTIgFaZFA7c/ysh6DXEbG9QeMPbB3GTNBTYVAEKqcGgRO4MyroIIHDX+Q8qsxZFL0GxGtmgJEpBS9Vyg8VkQbMSmrOI2xINtu+2yyzRiSJf6g7szOZ7Lvv+3mf5/s87/MsDXrPL9p7zge5AwjGghu336/bG+zCGJft4iogHYIgjDIreA/8B2DABaDBcxtljOM7LkNRB7oCyIAgyApeSkxMDBUKhSuDgoISeTzerzAME9BoNDqO40/ZbPZAZ2fn9z09PWq9Xv/D4OCg2b4JAA028EbXbICkS21xcXG/TEhIyBCLxX+EYZjDZDIhcMMwDOH4/9eempqCUBSF2Gw2ZDQa/3zp0qXKlpaW7+2yIK3sNqQzQHz9+vWbJBLJURzHhQDGYrFoOzs7rz148OBfExMTz4F1mUymd2BgoDAuLm41i8VagWEYAH8xNDRUmp+f/7ndgqR+3YJ8HSChn4yMjJzo6OiCqampD2AYHtBoNHK1Wt06NDQ0NtMqAQEB3uHh4ctWrlxZwOfzYxgMBnTv3r2v5HK51D7ebciZAAm4lJSUzRKJ5CsMwzgGg+FaeXn5zv7+/n/bFwLBAcaR2gLzAK0RgeTv78/ZvHlzcXh4eBaHw4G6uro+P3r06CG7u8EYlzXpCEjAxcbGijMyMlpQFP250WhsOnXq1Oa+vr4X9qidLc1M6xaA7t+/v3TZsmU5OI5PnD17VtLc3HzDvjFqRpjV5VRA8jdTLpdXhISEyKxW68Pi4uLY3t7eUTscNY3MNjE5F3zs2LEmPp//MYqiHdnZ2b81GAw/UvKpUz1SAYHbbPHx8cFSqfQfdDqd09raulWpVH7t7q4pMrBt2LBheUpKigaGYY/6+vp1DQ0N194UkBDw7t2798TExJRbrdZ/5ubmxut0unF3NOOQzImEXlZWVhsQEJA6MDCgOnjw4B+cms1hkpcSd21t7VUul5us0WhKy8vL/wRBEDMpKSm4q6vr6djYGOLO7iEIIpJ8UlLStvT09HN6vV4nlUp/AdKmq5COQcKoqqq6x+fzxUqlctv169cvCASCAJlMlnP69OmTCIIMuKlFIuhWrFgRl5ub+93o6KjH+fPnAzUazSNXN+oIyKqqqjL4+fl5lpWV/U6j0TSKRKKwysrKv+Tm5m7s7u7+u5t6JADDwsJC9+3bd5PJZC6qra39sLW1tfONAZVKpZHP53+gUCjW3r59u0koFIZUVlb2qlSqT+vq6s7YLehqmiACz8/PT5yTk3PD19dXVFNTE33r1q2ONwVkVlVVDQgEgkUVFRVb1Wq1KjAwUHzixIluvV7/sKSkJGZwcBDkQzIxO5MS6eKonJycvyII4lVfXx928+bN+28KSDt37px6zpw5ic3NzYfOnDlTOHfuXO9Dhw59GxAQsEKr1RYfOXLkMzcKACJI1qxZI0lPT69HEMQgl8v9R0ZGJp3tjHz+ylG3c+fOz2JjYwtxHNccOHDg98PDw8/T0tL2JCcnnzSbzVMNDQ27rly5UmOfAFiIWqlQE/n03Hv37i2Pior6dHx8/MaOHTuSXYUD415J1DExMb/OyspqxzCMoVKpPm5sbGwOCQnh7dmz5xtgWRaLZdZqtcerq6tP6PX6p7MsRhSzwcHBi4qKitotFsvClpaWtNra2nOuutcRkIAVCAScwsLCOg6H88nY2Fi7QqFIBC4Ri8UhmZmZyoULF8aB2s9kMv1w586d6t7e3m5Q3TCZTDqKoiM6nc5EsS6Wn59fGRoauoNOpz+oqKiIbm9v17uTqhxdTERdYmLiR2lpad/S6fR53d3dx0tLS/eCRUUikW9CQoI0Kipq07x585bQ6XSiQH38+HFLc3Pz2ba2tqs6nQ4lexKZTJYeHx9fCcZcvXpVduHCBSANIAuXq+yZyi0gbFtRUdEBsVhcaDabca1WW1ZWVpZPllN+fn7+LBZr/tKlS3koipr6+/t/MhqNjxEE+Yl0uUwm27l69eovTCaTx4sXL9p27doVT7YO1LPamR5nApwuKv8XcTVLlizZDlw6Ojr6XUdHx+HLly/fhSAI9BszXmFhYSKpVLqfx+OlgwFWqxVns9nWnp6eE8PDwz96enoiHR0dqvv374PNEB5zpSxyHENC0vLy8grDw8PzgGtgGEafPHlyWaPRtKIo+kiv1z8zGo1YUFAQj8Fg+IeGhkZHRkZuMpvNvl5eXtDIyMjfeDxejNVqZYAeBlwsFgvS6XTXjx8/vvXhw4dk6fVaSGc9CZFCVq1atW7Lli37vLy8fgP6DVAlMxgM07Nnz5Dnz59jixcv/pnVauUCS1ssFtBM9Tc1NX2pVqu/3rZt28GIiIhci8UCOkMahmG4p6cnY3x8/NrJkydTKYXwjJDO2s7pClkoFM5bvnx5XERExEaBQPARBEEL2Ww2HQQKiqK4zWb7j8Viae/s7Gzo6+tTt7W16cDuUlNT89auXVs8NTWFgxaVRqPhGOgjOBwGgiCNJSUlm+yJe0Z3OwMkXe/YhLMiIyMFHh4evmBRFotl1Gq1j0ZGRsgIBu+BYMM2bty4XSKRVBuNRguTyWTgOE6sCSA9PDzoALKgoCDVHmCvQLoKSM2Zzhqel+ZcsGCBh1wuvzh//vxPTCYTRpjcfvrYbDacw+HACIJcVygUpCapJ5Nb32ZmCiTqfzOBE7BCoXBudnb2RR8fn7WTk5M2GIZJ6VAtea2iogJokkxVxHzuWNBZynrdc8JtPj4+XocPH1b5+Piso1oSaNJisWBcLpehVquzlUrlMepR+DYAATgBCfrlvLy8bwDk5OSkFbjbrkkMfLUwGAxXsrKyNlF3+rYApyGDg4PnZGZmqng8XjKABO62Wq2Qt7c3vaGhYUtdXd2ld2FB0ijEt8PAwEBudnZ2HdDkxMQExOVyobt3735ZUFAAmjTynH5rGnTU5rQmt2/fvkskEn3Y29vbqFAoLlKOvemAe5supoK+7gyergPIwe8KkMwg1I9PL+W/9wHQpbT1Li3oEuB/ARHv1lYx9zhCAAAAAElFTkSuQmCC",alt:"search"})})})]}),(0,gi.jsxs)("div",{className:"dn-patients",children:[(0,gi.jsxs)("div",{className:"dn-patients-header",children:[(0,gi.jsx)("div",{className:"dn-p-h",children:"Patient ID Number"}),(0,gi.jsx)("div",{className:"dn-p-h-separator",children:"|"}),(0,gi.jsx)("div",{className:"dn-p-h",children:"Family Name"}),(0,gi.jsx)("div",{className:"dn-p-h-separator",children:"|"}),(0,gi.jsx)("div",{className:"dn-p-h",children:"First Name"}),(0,gi.jsx)("div",{className:"dn-p-h-separator",children:"|"}),(0,gi.jsx)("div",{className:"dn-p-h",children:"Date of Birth"})]}),(0,gi.jsx)("div",{className:"dn-patients-table-container "+(r?"":"add-padding"),ref:s,children:(0,gi.jsx)("div",{className:"dn-patients-table",children:a.map((e=>(0,gi.jsxs)("button",{className:"dn-patients-row",onClick:()=>{return t=e.patientid,void d(`/patient/${t}`);var t},children:[(0,gi.jsx)("div",{className:"dn-p-r-cell",children:e.patientid}),(0,gi.jsx)("div",{className:"dn-p-h-separator",children:"|"}),(0,gi.jsx)("div",{className:"dn-p-r-cell",children:e.patientlastname}),(0,gi.jsx)("div",{className:"dn-p-h-separator",children:"|"}),(0,gi.jsx)("div",{className:"dn-p-r-cell",children:e.patientfirstname}),(0,gi.jsx)("div",{className:"dn-p-h-separator",children:"|"}),(0,gi.jsx)("div",{className:"dn-p-r-cell",children:e.dateofbirth})]},e.id)))})})]}),(0,gi.jsx)("div",{className:"dn-tagline",children:"- Accurate, Fast, and Reliable Laboratory Results -"})]})})};const Ap=function(){return(0,gi.jsxs)("div",{children:[(0,gi.jsx)(vi,{}),(0,gi.jsx)(bp,{})]})},Cp=()=>{const{patientId:e}=Jr(),[n,r]=(0,t.useState)(null),[i,s]=(0,t.useState)([]),[a,o]=(0,t.useState)(!1),l=(0,t.useRef)(null),c=()=>{const e=l.current;if(e){const t=e.scrollHeight>e.clientHeight;o(t)}};(0,t.useEffect)((()=>{(async()=>{try{const t=wf(wp,"patient",`patient_${e}_id`),n=await fp(t);n.exists()?r({...n.data(),id:n.id}):console.log(`No patient found with ID: ${e}`)}catch(t){console.error("Error fetching patient data:",t.message)}})(),(async()=>{try{const t=wf(wp,"patient",`patient_${e}_id`),n=await fp(t);if(n.exists()){const e=n.data(),t=Zf(yf(wp,"specimen"),tp("patientid","==",e.patientid)),r=await mp(t);console.log("Specimens:",r.docs.map((e=>e.data())));const i=[];for(const n of r.docs){const t=n.data();i.push({...t,datetime_requested:t.datetime_requested,datetime_received:t.datetime_received,transactionid:t.transactionid,specimenid:t.specimenid,recommending_doctor:e.requesting_physician})}s(i)}else console.log(`No patient found with ID: ${e}`)}catch(t){console.error("Error fetching specimens:",t.message)}})()}),[e]),(0,t.useEffect)((()=>(c(),window.addEventListener("resize",c),()=>{window.removeEventListener("resize",c)})),[i]);const u=Xr();return(0,gi.jsxs)("div",{className:"hdnpi-container",children:[(0,gi.jsxs)("div",{className:"hdnpi-title",children:[(0,gi.jsx)("img",{src:yi,alt:"Logo"}),(0,gi.jsx)("div",{children:"Laboratory Test Portal"})]}),(0,gi.jsxs)("div",{className:"hdnpi-info-container",children:[n&&(0,gi.jsxs)("div",{className:"hdnpi-patient-info-header-row",children:[(0,gi.jsxs)("div",{className:"hdnpi-p-i-h-t-indiv",children:["Family Name: ",n.patientlastname]}),(0,gi.jsxs)("div",{className:"hdnpi-p-i-h-t-indiv",children:["First Name: ",n.patientfirstname]}),(0,gi.jsxs)("div",{className:"hdnpi-p-i-h-t-indiv",children:["Date of Birth: ",n.dateofbirth]}),(0,gi.jsxs)("div",{className:"hdnpi-p-i-h-t-indiv",children:["Age: ",n.age]}),(0,gi.jsxs)("div",{className:"hdnpi-p-i-h-t-indiv",children:["Sex: ",n.sex]}),(0,gi.jsxs)("div",{className:"hdnpi-p-i-h-t-indiv",children:["Patient ID: ",n.patientid]})]}),(0,gi.jsxs)("div",{className:"hdnpi-patient-detailed-info-header-row",children:[(0,gi.jsxs)("div",{className:"hdnpi-patients-header",children:[(0,gi.jsx)("div",{className:"hdnpi-p-h",children:"Date & Time Requested"}),(0,gi.jsx)("div",{className:"hdnpi-p-h-separator",children:"|"}),(0,gi.jsx)("div",{className:"hdnpi-p-h",children:"Date & Time Received"}),(0,gi.jsx)("div",{className:"hdnpi-p-h-separator",children:"|"}),(0,gi.jsx)("div",{className:"hdnpi-p-h",children:"Transaction ID"}),(0,gi.jsx)("div",{className:"hdnpi-p-h-separator",children:"|"}),(0,gi.jsx)("div",{className:"hdnpi-p-h",children:"Recommending Doctor"})]}),(0,gi.jsx)("div",{className:"hdnpi-patients-table-container "+(a?"":"add-padding"),ref:l,children:(0,gi.jsx)("div",{className:"hdnpi-p-t-c-table",children:i.map((e=>(0,gi.jsxs)("button",{className:"hdnpi-patients-row",onClick:()=>((e,t,n)=>{console.log(`Redirecting to patient view for Patient ID: ${e}, Transaction ID: ${t}, Specimen ID: ${n}`),u(`/patient/${e}/${t}/${n}`)})(e.patientid,e.transactionid,e.specimenid),children:[(0,gi.jsx)("div",{className:"hdnpi-p-h-cell-hdnpi",children:e.datetime_requested}),(0,gi.jsx)("div",{className:"hdnpi-p-h-separator",children:"|"}),(0,gi.jsx)("div",{className:"hdnpi-p-h-cell-hdnpi",children:e.datetime_received}),(0,gi.jsx)("div",{className:"hdnpi-p-h-separator",children:"|"}),(0,gi.jsx)("div",{className:"hdnpi-p-h-cell-hdnpi",children:e.transactionid}),(0,gi.jsx)("div",{className:"hdnpi-p-h-separator",children:"|"}),(0,gi.jsx)("div",{className:"hdnpi-p-h-cell-hdnpi",children:e.recommending_doctor})]},e.id)))})})]})]}),(0,gi.jsx)("div",{className:"dn-tagline",children:"- Accurate, Fast, and Reliable Laboratory Results -"})]})};const Ep=function(){return(0,gi.jsxs)("div",{children:[(0,gi.jsx)(vi,{}),(0,gi.jsx)(Cp,{})]})},xp=n.p+"static/media/UnfinishedTestResults.083da323fca96230ac8e.png",kp=n.p+"static/media/FinishedTestResults.0a8e13bd47bf7a9df229.png",Sp=()=>{const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(!1),s=(0,t.useRef)(null),[a,o]=(0,t.useState)([]),l=yf(wp,"patient"),c=Xr(),u=async()=>{try{let t;t=e?Zf(l,tp("patientid","==",e)):Zf(l);const n=await mp(t);o(n.docs.map((e=>({...e.data(),id:e.id}))))}catch(t){console.error("Error fetching data from Firestore:",t.message)}},d=()=>{const e=s.current;if(e){const t=e.scrollHeight>e.clientHeight;i(t)}};return(0,t.useEffect)((()=>{u()}),[]),(0,t.useEffect)((()=>(d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d))),[a]),(0,gi.jsxs)("div",{className:"mt-container",children:[(0,gi.jsxs)("div",{className:"mt-label",children:[(0,gi.jsx)("img",{src:yi,alt:"Logo"}),(0,gi.jsx)("div",{className:"mt-ITR",children:"MedTech Portal"})]}),(0,gi.jsxs)("div",{className:"mt-row",children:[(0,gi.jsxs)("div",{className:"mt-column",children:[(0,gi.jsx)("div",{className:"mt-new-c-p-r",children:(0,gi.jsx)("button",{className:"mt-new-c-p-r-button",onClick:()=>{c("/input_blood")},children:(0,gi.jsx)("div",{className:"mt-new-c-p-r-text",children:"Create New Patient Record"})})}),(0,gi.jsx)("div",{className:"mt-test-results-button",children:(()=>{})?(0,gi.jsxs)("div",{className:"mt-test-results",children:[(0,gi.jsx)("img",{src:kp,alt:"u-t-r"}),(0,gi.jsx)("div",{className:"mt-t-r-finished",children:"All Tests Complete"})]}):(0,gi.jsxs)("button",{className:"mt-test-results",onClick:()=>{c("/unfinished")},children:[(0,gi.jsx)("img",{src:xp,alt:"u-t-r"}),(0,gi.jsx)("div",{className:"mt-t-r-unfinished",children:"_ Unfinished Test Results"})]})})]}),(0,gi.jsx)("div",{className:"mt-add-t-e-p-r",children:(0,gi.jsxs)("div",{className:"mt-add-t-e-p-r-container",children:[(0,gi.jsx)("div",{className:"mt-add-t-e-p-r-text",children:"Add New Test to Existing Patient Record"}),(0,gi.jsxs)("div",{className:"mt-smol",children:[(0,gi.jsxs)("div",{className:"mt-search",children:[(0,gi.jsx)("input",{type:"id",placeholder:"Enter Patient ID Number",value:e,onChange:e=>{n(e.target.value)}}),(0,gi.jsx)("div",{className:"mt-search-button",onClick:u,children:(0,gi.jsx)("button",{children:(0,gi.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAD6CAYAAACI7Fo9AAAACXBIWXMAAAdiAAAHYgE4epnbAAAAO3RFWHRDb21tZW50AHhyOmQ6REFGMk1WU0xmUEU6NDksajo0MzM4ODM1NDU3NTcyOTkyMDcsdDoyMzEyMTIxN+UdDlwAAATpaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9J2Fkb2JlOm5zOm1ldGEvJz4KICAgICAgICA8cmRmOlJERiB4bWxuczpyZGY9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMnPgoKICAgICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0nJwogICAgICAgIHhtbG5zOmRjPSdodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyc+CiAgICAgICAgPGRjOnRpdGxlPgogICAgICAgIDxyZGY6QWx0PgogICAgICAgIDxyZGY6bGkgeG1sOmxhbmc9J3gtZGVmYXVsdCc+VW50aXRsZWQgZGVzaWduIC0gNzwvcmRmOmxpPgogICAgICAgIDwvcmRmOkFsdD4KICAgICAgICA8L2RjOnRpdGxlPgogICAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgoKICAgICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0nJwogICAgICAgIHhtbG5zOkF0dHJpYj0naHR0cDovL25zLmF0dHJpYnV0aW9uLmNvbS9hZHMvMS4wLyc+CiAgICAgICAgPEF0dHJpYjpBZHM+CiAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSdSZXNvdXJjZSc+CiAgICAgICAgPEF0dHJpYjpDcmVhdGVkPjIwMjMtMTItMTI8L0F0dHJpYjpDcmVhdGVkPgogICAgICAgIDxBdHRyaWI6RXh0SWQ+N2YwMTdhMWItYjE5NS00YzQ2LWJiMTAtZWQ5ZmM4YTRiNDdjPC9BdHRyaWI6RXh0SWQ+CiAgICAgICAgPEF0dHJpYjpGYklkPjUyNTI2NTkxNDE3OTU4MDwvQXR0cmliOkZiSWQ+CiAgICAgICAgPEF0dHJpYjpUb3VjaFR5cGU+MjwvQXR0cmliOlRvdWNoVHlwZT4KICAgICAgICA8L3JkZjpsaT4KICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgPC9BdHRyaWI6QWRzPgogICAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgoKICAgICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0nJwogICAgICAgIHhtbG5zOnBkZj0naHR0cDovL25zLmFkb2JlLmNvbS9wZGYvMS4zLyc+CiAgICAgICAgPHBkZjpBdXRob3I+RGF2aWQgQWd1ZG88L3BkZjpBdXRob3I+CiAgICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CgogICAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgICAgICAgeG1sbnM6eG1wPSdodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvJz4KICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkNhbnZhPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgICAgICAgCiAgICAgICAgPC9yZGY6UkRGPgogICAgICAgIDwveDp4bXBtZXRhPjZsbOQAAAoISURBVHic7d1fyJ51HcfxjyERI7A/Q6vVhKRVCxe0xRL0QDQ0HYqzaDKxCOY3uix12ZGaZeaBJsvWj/rqkYlt/VvEVmqW649liz0FJiN2MGrwHEgLsUTsIOrgumca/tnu53v9rj/f9+u05/letwfvrvu59r1/9wkCMHkn9P0CAHSP0IEECB1IgNCBBAgdSIDQgQQIHUiA0IEECB1IgNCBBAgdSIDQgQQIHUiA0IEECB1IgNCBBAgdSIDQgQQIHUiA0IEECB1IgNCBBAgdSIDQgQQIHUiA0IEECB1IgNCBBAgdSIDQgQQIHUiA0IEECB1IgNCBBAgdSIDQgQQIHUiA0IEECB1IgNCBBAgdSIDQgQQIHUiA0IEECB1IgNCBBAgdSIDQgQQIHUiA0IEECB1IgNCBBAgdSIDQgQQIHUiA0IEECB1IgNCBBAgdSIDQgQQIHUiA0IEECB1IgNCBBAgdSIDQgQQIHUiA0FFVcT9Z0jpJaySdKOnbjdmhfl/V9BE6qijub5T0DUkfeZH/+Q+SrDHbX/dV5UHo6FxxP03SryS95RV+9GON2bcqvKR0XtX3C0AKO/XKkUvSPcX9tq5fTEbc0dGp4n6epAeO89d2SdrcmD3bwUtKiTs6unbWHL+zUdJvivubol9MVoSOri2f8/feJ2l/cV8T+WKyInR07cgSfneFpEeL+4aoF5MVoaNrP1vi7y+TtLu4b414MVnxMA6dK+6PS3pPwKi7G7MrA+akQ+joXHE/XdJvJb02YNzPJV3amD0VMCsN3rqjc43ZnySdI+nvAePOkfS74v72gFlpEDqqaMx+r/ZJ+oGAce9S+0T+zIBZKRA6qmnMDktaL+nBgHGvl/Tr4r4pYNbk8Tc6elHct0u6KmjcrY3Z9UGzJonQ0ZvivkXSXUHjWJt9GYSOXs124b+vmCfyC5IubMyeCJg1KYSO3hX31ZLul7QyYNyipAsas8cCZk0GD+PQu8bsgKS1kvYFjDu6NntewKzJ4I6OQSnuOyRFPUm/tjH7atCsUeOOjkFpzC6TdFPQuG3FPeph36hxR8cgFfeNkn4QNG6vpEsyr80SOgaruK+XtEfzf6b9+Q5K+uBsaScd3rpjsBqzfWof0kWsza6StDD7P490CB2DFrw2u1ztB2LSrc3y1h2jUdzvlPSZoHG3NGY3Bs0aPELHqLA2Ox9Cx+gU97Ml/VDSSQHjFiSd35gt5Wy7wSN0jFJxXyXpIcWszR6W9KHZht4k8TAOo9SYHVTc2uxKSfumvDbLHR2jF7w2e3Vj9rWgWYPBHR2jN1ubjXqCfucU12a5o2MyZmuz90l6TcC4vZIuasyeDpjVO0LHpBT3tZJ+LOmUgHEH1D6kG/3aLKFjcor7Ckk/lbQ6YNwRSRtm67ijxd/omJzGbFGszb4Ad3RMWnHfJumaoHE3N2ZRn5WvitAxedFrs43ZpUGzqiF0pBC8NrtP7d/to1mbJXSkMVubvV9SxPe2jWptlodxSGO2NrtO0iMB40a1NssdHSkFr81+ujH7etCsTnBHR0qztdmo72vbPvS1We7oSC14bfZBSR8e4tosoSO9DGuzvHVHeo3ZgtrPtkd8X9tqDfC0WUIH9Nza7Blqz5FfqqNrsxsDZoXgrTvwf4r7HZK2Bo37QmP2xaBZcyN04EUEr83unD3l7w2hAy9hSmuzvYVe3N8m6bS+rg8co7dKuk3SmwNm9bY2WzX0Wdw3SLpYMf+UAYzNvyV9rjHbVvOi1UIv7u+V9LCkN9S6JjBg9zVml9e6WM1/XvuRiBw4anNx/0Sti1UJvbhfJ+nUGtcCRuSOWheqdUcf3YkcQAWvK+7vrnGhWqFX+Y8BRqjK59lZgQX69Y8aF6kV+i8qXQcYm901LlIr9G9Wug4wJocas7/VuFCV0BuzB9R+uB/A/0zrn9ckabYccHut6wED98nG7Je1LlZ91724nyvp42pP43xn7esDPfuXpIsbs4ivizpmfHoNeBnF/XZJ1wWNy/GhFmAsivsySd+RtCFoZM6PqQJDVdxPUfu1y2uCRvb+fW0szADPU9zXSFpQXOQ39x25xB0deE5x36D27fqyoJGXNWY7g2YtCXd0QFJx36p2Sy0i8iOSPjCUyCXu6IBmX6e0JWjcIL/AgdCRVnE/Se3hj2cHjdwr6SK+kgkYiOK+UtJDklYFjby7MbsyaFY4/kZHOrOvS1pQXORXDzlyiTs6kinumyTtCBr3tNpvT626zjoP7uhIo7jfpLjID0taP4bIJe7oSKK475C0KWjcgqTz+1pnnQehY9KK+3K135Aa9TXGuyRtbsyeDZpXBaFjsor7KrVP1lcGjfxSY/b5oFlVETomKfgLEqUBrbPOg4dxmJzifoXar/+KiHxw66zzIHRMSnH/iqR7gsYdlLS2MdsXNK83vHXHJHRwUMReSZc0Zk8FzesVoWP0OjgoYtDrrPPgrTtGrYODIq6ZWuQSd3SMWPBBEaNZZ50Hd3SMUvBBEYsa0TrrPLijY3SCD4pYkHRhY/ZE0LxBInSMRgcHRYxynXUehI5R6OCgiFsasxuDZg0eoWPwZgdF7JG0PGjkqNdZ50HoGLTggyKeVHtw4+g33Y4XT90xWMEHRRyUtC5j5BJ3dAxU8EERk1pnnQehY1A6OChicuus8+CtOwZjdlDEguIiv5bIW9zRMQjBB0U8I2njlDfdjhd3dPSuuG9R3EERi5LOIPIXInT0anZQxF1B4xbUHhTxWNC8yeCtO3rRwUERadZZ50HoqK6DgyJubcyuD5o1SYSOqmYHRfxE0oqgkenWWefB3+ioZnZQxKOKifxJSWcR+bEhdFRR3K9S3EERf1a7zvpIwKwUCB2dK+4maXvQuIfVnrN+KGheCvyNjk4V91Ml/SVoHOusc+KOjq5FfTDls0Q+vxP7fgGYvHcs8fefkfTRxmxPxIvJitDRtf8s4XcXJV3AptvS8dYdXXt8zt9jnTUQoaNr35vjd3ZJOnPqRzDXxFN3dK643yvp8mP88S83Zjd0+Xoy4o6OGj4laf8x/NwVRN4NQkfnGrN/SjpX0ndf4kf+qvYz5PfWe1W58NYdVRX3kyW9X9Lpkl4t6Y+N2e5+X9X0ETqQAKEDCRA6kAChAwkQOpAAoQMJEDqQAKEDCRA6kAChAwkQOpAAoQMJEDqQAKEDCRA6kAChAwkQOpAAoQMJEDqQAKEDCRA6kAChAwkQOpAAoQMJEDqQAKEDCRA6kAChAwkQOpAAoQMJEDqQAKEDCRA6kAChAwkQOpAAoQMJEDqQAKEDCRA6kAChAwkQOpAAoQMJEDqQAKEDCRA6kAChAwkQOpAAoQMJEDqQAKEDCRA6kAChAwkQOpAAoQMJEDqQAKEDCRA6kAChAwkQOpAAoQMJEDqQAKEDCRA6kAChAwkQOpAAoQMJEDqQAKEDCfwX/O5QHTYrtC4AAAAASUVORK5CYII=",alt:"search"})})})]}),(0,gi.jsxs)("div",{className:"mt-patients",children:[(0,gi.jsxs)("div",{className:"mt-patients-header",children:[(0,gi.jsx)("div",{className:"mt-p-h",children:"Patient ID Number"}),(0,gi.jsx)("div",{className:"dn-p-h-separator",children:"|"}),(0,gi.jsx)("div",{className:"mt-p-h",children:"Family Name"}),(0,gi.jsx)("div",{className:"dn-p-h-separator",children:"|"}),(0,gi.jsx)("div",{className:"mt-p-h",children:"First Name"}),(0,gi.jsx)("div",{className:"dn-p-h-separator",children:"|"}),(0,gi.jsx)("div",{className:"mt-p-h",children:"Date of Birth"})]}),(0,gi.jsx)("div",{className:"mt-patients-table-container "+(r?"":"add-padding"),ref:s,children:(0,gi.jsx)("div",{className:"dn-patients-table",children:a.map((e=>(0,gi.jsxs)("button",{className:"mt-patients-row",onClick:()=>{return t=e.patientid,void c(`/input_blood/${t}`);var t},children:[(0,gi.jsx)("div",{className:"dn-p-r-cell",children:e.patientid}),(0,gi.jsx)("div",{className:"dn-p-h-separator",children:"|"}),(0,gi.jsx)("div",{className:"dn-p-r-cell",children:e.patientlastname}),(0,gi.jsx)("div",{className:"dn-p-h-separator",children:"|"}),(0,gi.jsx)("div",{className:"dn-p-r-cell",children:e.patientfirstname}),(0,gi.jsx)("div",{className:"dn-p-h-separator",children:"|"}),(0,gi.jsx)("div",{className:"dn-p-r-cell",children:e.dateofbirth})]},e.id)))})})]})]})]})})]})]})};const Ip=function(){return(0,gi.jsxs)("div",{children:[(0,gi.jsx)(vi,{}),(0,gi.jsx)(Sp,{})]})},Np="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABVCAYAAAC/4RZ1AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAHJSURBVHhe7doxccNAEEBRnxsVEQYbi+GEgSAIgemESsYY1LhS4hmR0J/3mp3bBfCbG/u+XwCAc7seEwA4MUEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4CA8Xw+v9d1XbZtm48dAHAS8zxvy7Ks436//75er9u+7+O4AQAnMcbYb7fb6/p4PH7EHADO6dPwT8vHtm1f7/d7OvYAwMlM0/Qe/2U/ngDAWfnlDgABgg4AAYIOAAGCDgABgg4AAYIOAAGCDgABgg4AAYIOAAGCDgABgg4AAYIOAAGCDgABgg4AAYIOAAGCDgABgg4AAYIOAAGCDgABgg4AAYIOAAGCDgABgg4AAYIOAAGCDgABgg4AAYIOAAGCDgABgg4AAYIOAAGCDgABgg4AAYIOAAGCDgABgg4AAYIOAAGCDgABgg4AAYIOAAGCDgCnd7n8AQHLKe9hFgfwAAAAAElFTkSuQmCC",Tp=n.p+"static/media/PastResults.e1862e02d5a57f662eff.png",Rp=n.p+"static/media/ReviewTestResults.fa4b1ffebbabb146ad8f.png",_p=()=>(0,gi.jsxs)("div",{className:"pg-column",children:[(0,gi.jsxs)("div",{className:"pg-welcome-container",children:[(0,gi.jsx)("img",{src:yi,alt:"Logo"}),(0,gi.jsx)("div",{className:"pg-welcome-text",children:"Welcome to the Pathologist Portal!"})]}),(0,gi.jsx)("div",{className:"pg-choice",children:"Please select what you would like to do:"}),(0,gi.jsxs)("div",{className:"pg-row",children:[(0,gi.jsxs)("div",{className:"pg-view-p-t-r-container",children:[(0,gi.jsx)("img",{src:Tp,alt:"past_results"}),(0,gi.jsx)("div",{className:"pg-view-p-t-r-text",children:"View Past Test Results"})]}),(0,gi.jsx)("div",{className:"pg-separator",children:(0,gi.jsx)("img",{src:Np,alt:"separator"})}),(0,gi.jsxs)("div",{className:"pg-review-t-r-container",children:[(0,gi.jsx)("img",{src:Rp,alt:"review_test_results"}),(0,gi.jsx)("div",{className:"pg-review-t-r-text",children:"Review Test Results"}),(0,gi.jsx)("div",{className:"pg-review-t-r-count",children:"(You have - unreviewed test results)"})]})]})]});const jp=function(){return(0,gi.jsxs)("div",{children:[(0,gi.jsx)(vi,{}),(0,gi.jsx)(_p,{})]})};const Pp=function(){return(0,gi.jsx)("div",{children:(0,gi.jsx)(vi,{})})};Hn.init("8nwyy85n");const Dp=()=>{const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(""),[s,a]=(0,t.useState)(!1),o=Xr();return(0,gi.jsxs)("div",{className:"login-container",children:[(0,gi.jsx)("div",{className:"logo",children:(0,gi.jsx)("img",{src:yi,alt:"Logo"})}),(0,gi.jsxs)("div",{className:"em-pass",children:[(0,gi.jsx)("div",{className:"input",children:(0,gi.jsx)("input",{type:"email",placeholder:"Enter Email",value:e,onChange:e=>n(e.target.value)})}),(0,gi.jsxs)("div",{className:"input",children:[(0,gi.jsx)("input",{type:s?"text":"password",value:r,id:"password",placeholder:"Enter Password",onChange:e=>i(e.target.value)}),(0,gi.jsx)("div",{className:"eyecon",onClick:()=>a(!s),children:(0,gi.jsx)("button",{children:s?(0,gi.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAdiAAAHYgE4epnbAAAAPHRFWHRDb21tZW50AHhyOmQ6REFGMk1WU0xmUEU6MzYsajo4NzM3Mzk0NzQ0MzE3MDc1ODcyLHQ6MjMxMjA2MTj+P87TAAAE6WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CiAgICAgICAgPHJkZjpSREYgeG1sbnM6cmRmPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjJz4KCiAgICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICAgICAgICB4bWxuczpkYz0naHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8nPgogICAgICAgIDxkYzp0aXRsZT4KICAgICAgICA8cmRmOkFsdD4KICAgICAgICA8cmRmOmxpIHhtbDpsYW5nPSd4LWRlZmF1bHQnPlVudGl0bGVkIGRlc2lnbiAtIDQ8L3JkZjpsaT4KICAgICAgICA8L3JkZjpBbHQ+CiAgICAgICAgPC9kYzp0aXRsZT4KICAgICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KCiAgICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICAgICAgICB4bWxuczpBdHRyaWI9J2h0dHA6Ly9ucy5hdHRyaWJ1dGlvbi5jb20vYWRzLzEuMC8nPgogICAgICAgIDxBdHRyaWI6QWRzPgogICAgICAgIDxyZGY6U2VxPgogICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0nUmVzb3VyY2UnPgogICAgICAgIDxBdHRyaWI6Q3JlYXRlZD4yMDIzLTEyLTA2PC9BdHRyaWI6Q3JlYXRlZD4KICAgICAgICA8QXR0cmliOkV4dElkPjE2ZGNmYWUwLWIzNjAtNGMxZi1hYzUxLTU2ZGQ3NWE0ZWJlMDwvQXR0cmliOkV4dElkPgogICAgICAgIDxBdHRyaWI6RmJJZD41MjUyNjU5MTQxNzk1ODA8L0F0dHJpYjpGYklkPgogICAgICAgIDxBdHRyaWI6VG91Y2hUeXBlPjI8L0F0dHJpYjpUb3VjaFR5cGU+CiAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgPC9yZGY6U2VxPgogICAgICAgIDwvQXR0cmliOkFkcz4KICAgICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KCiAgICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICAgICAgICB4bWxuczpwZGY9J2h0dHA6Ly9ucy5hZG9iZS5jb20vcGRmLzEuMy8nPgogICAgICAgIDxwZGY6QXV0aG9yPkRhdmlkIEFndWRvPC9wZGY6QXV0aG9yPgogICAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgoKICAgICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0nJwogICAgICAgIHhtbG5zOnhtcD0naHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyc+CiAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5DYW52YTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICAgICAgIAogICAgICAgIDwvcmRmOlJERj4KICAgICAgICA8L3g6eG1wbWV0YT7iFLgWAAAGCElEQVR4nO1YXYhdVxX+WuchhHkYMFvzEDSUgGthwaASg3JhtGKDDbRrMmiChP6mKfiTVgrJPVGs1J5doU1TrGgZWyKimYep6yoJpIKYh11IqWIegmsrUwkYYdQjDDIP8zAUH86+zJk759y5Mx3xUu4Hl3t+1l77+/bZe+211214j+C2/zeB7cJIyLBhJGTYMBIybBgJGTaMhPQDEY0z80cAjAPYmx7fBLBkZn+OMS5td5/bJkRE7iKi+5h5EsCdG5jfMLOrMcaOqv52O/p/V0KIaIeInGTmx7E68l0sAVgAcCvd7wGwG+VXquKmmZ1X1ZdjjMtb5bJlIe12+35mfjaRA4BlAHOq+jqAq6p6q66diOwBMCkidwOYBrAjvVowszPe+59uhc+mhRDR7izLfgbg8xUCz6rqK71zP62VDwKAmf2j5v2EiNzPzGewOiBX8jx/MMa48D8T0m63P8PMc6nTFTN7TlWfqRJM5E4y81EA+3tcXDez2TSNFittxkXkLDM/CWAM5eBMe+/f2HYh7Xb7CDPPpo7mVfW4ql6rsfkxgF2Vxyvpf6zybMHMvua9f63aXkQOishFlOttxcyO9to04X1bEHE1z/O7Qwh/6bE5xcyvAtgJYN7MzoYQTnjvT6vq0wBeBvC2c44AfMg59yUiWgwhvNn1EWO8ZWY/b7Vanwaw1zk3RUR/CiHYRhw3/CLtdvseZu4kEXN5nh+LMa702BxJUw5m9pKqPtFr0wURjYnID5j5sWQ/3TvqRDSWZdlFlMFgxcwOe+9f78ez7xcRkY+2Wq0rKCNLJ8/zL/cSJKKJqamp3wDYaWYvee+/XhTFO00+i6J4J4RwmYh2OecOOOc+Z2YzRVEsV23MTFut1scBkHPuPgC/jjH+q8nv7U0v0gLsoIz71/I8P143yiLyVZRrYl5Vn2gclR4k23kAu0TkZO/7GONKnufHAPwewLiIdIiodw/aWEiWZS8A2AdgIc9zaUormHkaAMzs+03TqQ4xxhUzez75ONpgs5TnuQAoAOxLnAYXIiJ3AXgkEWyM6UQ0gRRiVbUzqIguVHUuXe5PvtYhBYAH0+0jids6NAl5Ll3+xHt/pYkIM3c3scUYY7Ex9XUkC5SpTNXXOnjvLwG40MNtDZqm1gQAmNlGu2t3bxh4StWgbp9ZBzPrpjy166RWiJm1AYCZz4jIJ/r47wrd1W8hNiG16U6pxkETkY+lNAZm9u06m1oh3vtZAJcAjInIbBNJVS1QRh4w8z0DK0hg5nvT5XzytQ4pes6h/GKXErd1aIxaeZ6fQDlK+7Isu0hEtZ/ezOYAQESe3IQGVNuYWS25ysbYjZ4nmnw1CokxLpjZcZRz+LCI1IY+VX0RZQr/yXa7fXpQEcl2P4AlVf1hnU3q8zDK3f1Yv4y4784eQvgrEf3TOXfYOXeAiCZCCGtShaIoloho0Tn3RefcJBH9p5o/NYg4lc4yt5vZNzudzu9qbF5g5m8AgJk96r3Xfj43TBpDCH9IRA855w6KyF4zu1xNQ0IIb4nIbgAHnHOHRGQS5cnwb107IhprtVqfzbLsVefcY0nEee/909X+iGjs3LlzryQbmNnj3vsfbcRzM2n8KWY+n26v5Xk+HWP8e4/NaWb+HlZD6SLWHnW7EWrZzL7lvX++R8SHsyybBXCwIuLFQfgNlMYDQAjhTSJ62zn3BQB3tFqth4ioCCH8sWLzBoCLzLwTwB2J+AfSbwfKVOMXqvqVmZmZyz2D8PDU1NQvUS7sJTN72Hs/Myi/TR91RWR/OvxQenRdVZ9S1V9V7YhojJnvxOoRdsHMbvTmYyJyr4g8hdXTZFTVY6p6fTO8tlR8SNWT76TqSbd4cNPMLsQYr6hq38UuIp8iokPM/ABWqy/LqZry3a1UU95tOWhPlmVnATyAVUFAmT9FpKJcejaOctrsw9o0YxnAhTzPn4kx1lZeBsG2FOiIaIKZp0XkCIBJrBVVh2WUJaPXzGyuWojYKra9ZFpZG4TywPX+9OrfKBf7DTOLmzm7DIJREXvYMBIybBgJGTaMhAwbRkKGDe8ZIf8FAaO+cAkpmnMAAAAASUVORK5CYII=",alt:"Show Password"}):(0,gi.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAdiAAAHYgE4epnbAAAAPHRFWHRDb21tZW50AHhyOmQ6REFGMk1WU0xmUEU6MzYsajoxMjQ2NzgyNjY0MDE1NTgzNTY0LHQ6MjMxMjA2MThZVmLaAAAE6WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CiAgICAgICAgPHJkZjpSREYgeG1sbnM6cmRmPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjJz4KCiAgICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICAgICAgICB4bWxuczpkYz0naHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8nPgogICAgICAgIDxkYzp0aXRsZT4KICAgICAgICA8cmRmOkFsdD4KICAgICAgICA8cmRmOmxpIHhtbDpsYW5nPSd4LWRlZmF1bHQnPlVudGl0bGVkIGRlc2lnbiAtIDM8L3JkZjpsaT4KICAgICAgICA8L3JkZjpBbHQ+CiAgICAgICAgPC9kYzp0aXRsZT4KICAgICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KCiAgICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICAgICAgICB4bWxuczpBdHRyaWI9J2h0dHA6Ly9ucy5hdHRyaWJ1dGlvbi5jb20vYWRzLzEuMC8nPgogICAgICAgIDxBdHRyaWI6QWRzPgogICAgICAgIDxyZGY6U2VxPgogICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0nUmVzb3VyY2UnPgogICAgICAgIDxBdHRyaWI6Q3JlYXRlZD4yMDIzLTEyLTA2PC9BdHRyaWI6Q3JlYXRlZD4KICAgICAgICA8QXR0cmliOkV4dElkPjYxOTgyMmZlLWY3ZTItNGNmYS04YmJmLTA4MDI2NGZkOWM3OTwvQXR0cmliOkV4dElkPgogICAgICAgIDxBdHRyaWI6RmJJZD41MjUyNjU5MTQxNzk1ODA8L0F0dHJpYjpGYklkPgogICAgICAgIDxBdHRyaWI6VG91Y2hUeXBlPjI8L0F0dHJpYjpUb3VjaFR5cGU+CiAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgPC9yZGY6U2VxPgogICAgICAgIDwvQXR0cmliOkFkcz4KICAgICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KCiAgICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICAgICAgICB4bWxuczpwZGY9J2h0dHA6Ly9ucy5hZG9iZS5jb20vcGRmLzEuMy8nPgogICAgICAgIDxwZGY6QXV0aG9yPkRhdmlkIEFndWRvPC9wZGY6QXV0aG9yPgogICAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgoKICAgICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0nJwogICAgICAgIHhtbG5zOnhtcD0naHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyc+CiAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5DYW52YTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICAgICAgIAogICAgICAgIDwvcmRmOlJERj4KICAgICAgICA8L3g6eG1wbWV0YT7/FTqwAAAEdElEQVR4nO2XQWgdZRDH/4095OAhh7cQsGCkAWdApQXBHlwboQfBlmZiC6LyTA9iBaGKlPq2DbRYdysoWPBSoqQNBSsEJ4cWKlWoJGCgCD20zCdUTKGHd/gOQd4hlFA8vH362OwmT011CfuH5S078+3Mb7/5vm/eFmwSbfm/E9goVSBlUwVSNlUgZVMFUjZVIGVTBVI2VSBlUwVSNlUgZVMFUjZtGpBH8h4SUS0Mw4MAbnvvH/zHORWKiB6t1Wp93vuVrC13RkTkAxH5FMBCHMfinGs+9CzXUaPR2M3MlwC4er3+YtbelzfIzM4BuApgVxRFN0Rk90POc001Go0jzPw9gJqZzeT55JaW9/6+mX0ThuELAJ5h5nEiqnnv57z39x9m0t0SkSejKJoJguAwgD4zezlJkq/zfLeu8ZL9AEYANAG0mPldZj5gZidU9YJzblWdbpSIqCYix5n5MIB+AEsABgDsRrtSVil3RkTkuTAMvwXwwMz2TU5OTtRqtZUgCPYEQTAWhuFrRNTnvf/Fe7+8UQAisl1EorGxsfNBEIwAaJrZ25OTk0fDMDwQBMFeImrOz8//nB27arET0XAURXMABs3sYJIkM122QRE51vWlWgBmVXXGzH5wzrX+QfKPARgVkVEAe9LHTTM7o6rnnHPLaWyKougGgH4z25skyXeFIEQ0EEXRTwDIzD5MkuSTvODT09NzAJ4HsAhgqMt0E8C8qi4CuIN2SXSuwRR+EMCwiDwFYFdm/AoAqOoTqnovG7fRaIww8zUAy6q6S1VvrwIhoq1RFF0DMGJmXyZJ8lYehIjsF5FZALP1el1EZAcRvcLMIwCeTZPtVUsAFlT1MoArRPQ6M582s8+TJHk/b0Cj0Rhn5ikAzTiOd3aOhj9BpqenpwCMA7gax/G+vMWcwhqAIVXdqaq3snYReYOZp8zsOjO7DFg/gFfN7KJz7pSq3smM74+i6DcAA6r6dNbeBfMRM58AcDOO49A51+oDABGhFOJWHMcHi3YkEXkTwDCAi1kIAHDOrTjnOvez9Xr9nXq9fqhzqepnAMDMrbwknXPLZjYBoF9EjuflAABJkkwAuAhgBzOPAun2q6oOgJjZQtGCJaJ+Zj4NYDmO44miIES0Pb39Nce8mP4OF41X1fPMfAzAuIicVdWbeX5xHB9i5itmdhnoOtlVdXatVkREjqG9k33hnFu1EDti5qFM0t1JerTXxVDW1pFzbkVVj6Yxk3X8LnU+fG6LkhURDTLzewCWVPXjddyHAcDMcusbbcDCGQHaHxXAAoCXem2PegIRkSMABszsjHNuaR33IQDNzv6fozvpO4fWeomqNlK/k73kWNiiZPQjgG2qenYtJyLqnBMLRT5mtsjMQHtWFov8VPU6EZ0E0FPn0BNIkiRXUdDjdIuZOyVTVFZwzt1NQR7vIe6pXvIDeiytv6EasOb6AP6C3LaRgXObxn+hpve+NTc395X3vqjvuue9b5nZBe/97xsVeNP8Z69AyqYKpGyqQMqmTQPyB0/P6Je3jQJFAAAAAElFTkSuQmCC",alt:"Hide Password"})})})]})]}),(0,gi.jsx)("div",{className:"login-button",onClick:async()=>{if(e.trim()&&r.trim())try{const t=await Hn.login({method:"password",email:e,password:r});console.log("Login Response:",t),!0===(null===t||void 0===t?void 0:t.success)&&o("/")}catch(t){alert("Incorrect username and password.")}else alert("Email and password cannot be blank.")},children:(0,gi.jsx)("button",{className:"login-button-text",children:"Login"})})]})},Op=n.p+"static/media/Home-LO.728f87c60283e2952dbe.png",Lp=()=>(0,gi.jsxs)("div",{className:"header",children:[(0,gi.jsxs)("div",{className:"title-lo-move",children:[(0,gi.jsx)("div",{className:"title-short-lo",children:"MLV DTP"}),(0,gi.jsx)("div",{className:"title-lo",children:"MLV Diagnostic Test Portal"})]}),(0,gi.jsx)("div",{className:"home-lo",children:(0,gi.jsx)("img",{src:Op,alt:"Home"})})]});const Mp=function(){return(0,gi.jsxs)("div",{children:[(0,gi.jsx)(Lp,{}),(0,gi.jsx)(Dp,{})]})},Fp=e=>{switch(e){case"cbc":return"Complete Blood Count";case"bloodtyping":return"Blood Typing";case"esr":return"Erythrocyte Sedimentation Rate";case"fbs":return"Fasting Blood Sugar";case"cholesterol":return"Cholesterol";case"triglyceride":return"Triglyceride";case"hdl":return"High Density Lipoprotein";case"ldl":return"Low Density Lipoprotein";case"vldl":return"Very Low Density Lipoprotein";case"bun":return"Blood Urea Nitrogen";case"creatine":return"Creatinine";case"bua":return"Blood Uric Acid";case"ast":return"Aspartate Transaminase";case"alt":return"Alanine Transaminase";case"alp":return"Alkaline Phosphatase";case"sodium":return"Sodium";case"potassium":return"Potassium";case"calcium":return"Ionized Calcium";case"urinalysis":return"Routine Urinalysis";case"pregnancy_test":return"Pregnancy Test";case"fecalysis":return"Routine fecalysis";case"fobt":return"Fecal Occult Blood Test";case"aso":return"Anti-Streptolysin O Titer";case"dengue_antibody":return"Dengue Antibody (IgG,IgM)";case"dengue_antigen":return"Dengue antigen (NS1)";default:return`Test ${e}`}},Up=()=>{const e=Cf(),{patientId:n,transactionId:r,specimenId:i}=Jr(),[s,a]=(0,t.useState)(null),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(!1),f=(0,t.useRef)(null),p=()=>{const e=f.current;if(e){const t=e.scrollHeight>e.clientHeight;h(t)}};return(0,t.useEffect)((()=>(p(),window.addEventListener("resize",p),()=>{window.removeEventListener("resize",p)})),[c]),(0,t.useEffect)((()=>{(async()=>{try{const t=wf(e,"patient",`patient_${n}_id`),s=await fp(t);if(s.exists()){const t={...s.data(),id:s.id},n=wf(e,"transaction",`transaction_${r}_id`),o=await fp(n);if(o.exists()){const n=Object.entries(o.data()).filter((e=>{let[t,n]=e;return"TRUE"===n&&"transactionid"!==t&&"patientid"!==t})).map((e=>{let[t]=e;return t})).map((async t=>{const n=Zf(yf(e,t),tp("specimenid","==",i)),r=await mp(n);if(!r.empty){return{test:t,testData:{...r.docs[0].data(),id:r.docs[0].id}}}return null})),r={patientData:t,testData:(await Promise.all(n)).filter((e=>null!==e))};a(r.patientData),l(r.testData)}else console.log(`No transaction found with ID: ${r}`)}else console.log(`No patient found with ID: ${n}`)}catch(t){console.error("Error fetching data:",t.message)}})()}),[n,r,i]),(0,t.useEffect)((()=>{(async()=>{try{const t=wf(e,"si_unit","si_unit_00000_id"),n=await fp(t);if(console.log("siUnitDocSnapshot:",n),n.exists()){const e=n.data();console.log("line 106, siUnitData: ",e),null!=e?(u(e),console.log("line 109, siUnitData:",e)):console.log("No si_units found in SI Unit document")}else console.log("No SI Unit document found")}catch(t){console.error("Error fetching SI Unit data:",t.message)}})()}),[e]),(0,gi.jsxs)("div",{className:"hdnpi-container",children:[(0,gi.jsxs)("div",{className:"hdnpi-title",children:[(0,gi.jsx)("img",{src:yi,alt:"Logo"}),(0,gi.jsx)("div",{children:"Laboratory Test Portal"})]}),(0,gi.jsxs)("div",{className:"hdnpi-info-container",children:[s&&(0,gi.jsxs)("div",{className:"hdnpi-patient-info-header-row",children:[(0,gi.jsxs)("div",{className:"hdnpi-p-i-h-t-indiv",children:["Family Name: ",s.patientlastname]}),(0,gi.jsxs)("div",{className:"hdnpi-p-i-h-t-indiv",children:["First Name: ",s.patientfirstname]}),(0,gi.jsxs)("div",{className:"hdnpi-p-i-h-t-indiv",children:["Date of Birth: ",s.dateofbirth]}),(0,gi.jsxs)("div",{className:"hdnpi-p-i-h-t-indiv",children:["Age: ",s.age]}),(0,gi.jsxs)("div",{className:"hdnpi-p-i-h-t-indiv",children:["Sex: ",s.sex]}),(0,gi.jsxs)("div",{className:"hdnpi-p-i-h-t-indiv",children:["Patient ID: ",s.patientid]})]}),(0,gi.jsx)("div",{className:"hdnpi-patient-detailed-info-header-row",children:(0,gi.jsxs)("table",{className:"hdnpi-table",children:[(0,gi.jsx)("thead",{children:(0,gi.jsxs)("tr",{className:"hdnpid-patients-header",children:[(0,gi.jsx)("th",{className:"hdnpi-p-h",children:"Specimen ID"}),(0,gi.jsx)("div",{className:"hdnpi-p-h-separator",children:"|"}),(0,gi.jsx)("th",{className:"hdnpi-p-h",children:"Test"}),(0,gi.jsx)("div",{className:"hdnpi-p-h-separator",children:"|"}),(0,gi.jsx)("th",{className:"hdnpi-p-h",children:"Parameter"}),(0,gi.jsx)("div",{className:"hdnpi-p-h-separator",children:"|"}),(0,gi.jsx)("th",{className:"hdnpi-p-h",children:"Result"}),(0,gi.jsx)("div",{className:"hdnpi-p-h-separator",children:"|"}),(0,gi.jsx)("th",{className:"hdnpi-p-h",children:"SI Unit"})]})}),(0,gi.jsx)("tbody",{className:"hdnpid-patients-table-container "+(d?"":"add-padding-1"),ref:f,children:o&&o.map(((e,t)=>{const n=Object.entries(e.testData).filter((e=>{let[t]=e;return!["specimenid","testid","id"].includes(t)})),r=n.length;return n.map(((n,i)=>{let[s,a]=n;const o=c&&c[s];return(0,gi.jsxs)("tr",{className:"hdnpi-patients-row",children:[0===i?(0,gi.jsxs)(gi.Fragment,{children:[(0,gi.jsx)("td",{className:"hdnpid-p-h-cell",rowSpan:r,children:e.testData.specimenid}),(0,gi.jsx)("div",{className:"hdnpi-p-h-separator",children:"|"}),(0,gi.jsx)("td",{className:"hdnpid-p-h-cell",rowSpan:r,children:Fp(e.test)}),(0,gi.jsx)("div",{className:"hdnpi-p-h-separator",children:"|"})]}):(0,gi.jsxs)(gi.Fragment,{children:[(0,gi.jsx)("td",{className:"hdnpid-p-h-cell"}),(0,gi.jsx)("div",{className:"hdnpi-p-h-separator",children:"|"}),(0,gi.jsx)("td",{className:"hdnpid-p-h-cell"}),(0,gi.jsx)("div",{className:"hdnpi-p-h-separator",children:"|"})]}),(0,gi.jsx)("td",{className:"hdnpid-p-h-cell",children:s}),(0,gi.jsx)("div",{className:"hdnpi-p-h-separator",children:"|"}),(0,gi.jsx)("td",{className:"hdnpid-p-h-cell",children:a}),(0,gi.jsx)("div",{className:"hdnpi-p-h-separator",children:"|"}),(0,gi.jsx)("td",{className:"hdnpid-p-h-cell",children:void 0!==o?o:""})]},`${t}-${i}`)}))}))})]})})]}),(0,gi.jsx)("div",{className:"dn-tagline",children:"- Accurate, Fast, and Reliable Laboratory Results -"})]})};const Bp=function(){return(0,gi.jsxs)("div",{children:[(0,gi.jsx)(vi,{}),(0,gi.jsx)(Up,{})]})},Vp=()=>{const[e,n]=(0,t.useState)(!1),r=(0,t.useRef)(null),i=()=>{const e=r.current;if(e){const t=e.scrollHeight>e.clientHeight;n(t)}};return(0,t.useEffect)((()=>(i(),window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)})),[]),(0,gi.jsxs)("div",{className:"hmtuf-container",children:[(0,gi.jsxs)("div",{className:"hmtuf-title",children:[(0,gi.jsx)("img",{src:yi,alt:"Logo"}),(0,gi.jsx)("div",{children:"Unfinished Test Results"})]}),(0,gi.jsx)("div",{className:"hmtuf-info-container",children:(0,gi.jsxs)("div",{className:"hmtuf-patient-detailed-info-header-row",children:[(0,gi.jsxs)("div",{className:"hmtuf-patients-header",children:[(0,gi.jsx)("div",{className:"hmtuf-p-h",children:"Date & Time Requested"}),(0,gi.jsx)("div",{className:"hmtuf-p-h-separator",children:"|"}),(0,gi.jsx)("div",{className:"hmtuf-p-h",children:"Patient ID Number"}),(0,gi.jsx)("div",{className:"hmtuf-p-h-separator",children:"|"}),(0,gi.jsx)("div",{className:"hmtuf-p-h",children:"Transaction ID"}),(0,gi.jsx)("div",{className:"hmtuf-p-h-separator",children:"|"}),(0,gi.jsx)("div",{className:"hmtuf-p-h",children:"Unfinished Tests"})]}),(0,gi.jsx)("div",{className:"hmtuf-patients-table-container "+(e?"":"add-padding"),ref:r,children:(0,gi.jsx)("div",{className:"hmtuf-p-t-c-table",children:(0,gi.jsxs)("div",{className:"hmtuf-patients-row",children:[(0,gi.jsx)("div",{className:"hmtuf-p-h-cell",children:"08/10/23 09:00"}),(0,gi.jsx)("div",{className:"hmtuf-p-h-separator",children:"|"}),(0,gi.jsx)("div",{className:"hmtuf-p-h-cell",children:"123456789"}),(0,gi.jsx)("div",{className:"hmtuf-p-h-separator",children:"|"}),(0,gi.jsx)("div",{className:"hmtuf-p-h-cell",children:"121212121"}),(0,gi.jsx)("div",{className:"hmtuf-p-h-separator",children:"|"}),(0,gi.jsx)("button",{className:"hmtuf-p-h-cell",children:"Click to Continue"})]})})})]})})]})};const zp=function(){return(0,gi.jsxs)("div",{children:[(0,gi.jsx)(vi,{}),(0,gi.jsx)(Vp,{})]})},Hp=()=>{const e=Xr(),n=Cf(ks({apiKey:"AIzaSyC0_oxrUWu1NoPuTBpCYOOTNAUXPUd_Y9c",authDomain:"medlabview.firebaseapp.com",projectId:"medlabview",storageBucket:"medlabview.appspot.com",messagingSenderId:"652128567946",appId:"1:652128567946:web:d613e20cfafbfcee366373",measurementId:"G-G5SSRYJVJZ"})),r={"Alanine Transaminase":["alt"],"Alkaline Phosphatase":["alp"],"Antistreptolysin O":["aso"],"Aspartate Aminotransferase":["ast"],Basophil:[],"Blood group":["rhfactor"],"Blood Urea Nitrogen":["bun"],"Blood Uric Acid":["bua"],Calcium:["calcium"],Cholesterol:["cholesterol"],"Complete Blood Count":["Basophil","Eosinophil","Hematocrit","Hemoglobin","Lymphocyte","MCH (Mean Corpuscular Hemoglobin)","MCHC (Mean Corpuscular Hemoglobin Concentration)","MCV (Mean Corpuscular Volume)","Monocyte","Neutrophil","Platelet Count","RDW (Red Cell Distribution Width)","Red Blood Cell","White Blood Cell"],Creatine:["creatine"],"Dengue Antibody":["igg","igm"],"Dengue Antigen":["ns1"],"Erythrocyte Sedimentation Rate":["esr"],"Fasting Blood Sugar":["fbs"],"High-Density Lipoprotein":["hdl"],"Low-Density Lipoprotein":["ldl"],Potassium:["potassium"],Sodium:["sodium"],Triglyceride:["triglyceride"],"Very-Low-Density Lipoprotein":["vldl"]},i=Object.keys(r).reduce(((e,t)=>(e[t]=!1,e)),{}),[s,a]=(0,t.useState)({firstName:"",middleName:"",surname:"",sex:"male",patientId:"",birthdate:"",age:"",dateRequested:"",dateReceived:"",specimenNumber:"",...i}),o=e=>{a({...s,[e.target.name]:e.target.checked})},l=e=>{a({...s,[e.target.name]:e.target.value})};return(0,gi.jsxs)("div",{className:"hmti-container",children:[(0,gi.jsxs)("div",{className:"hmti-title",children:[(0,gi.jsx)("img",{src:yi,alt:"Logo"}),(0,gi.jsx)("div",{children:"Input Test Results"})]}),(0,gi.jsxs)("div",{className:"hmti-row",children:[(0,gi.jsxs)("div",{className:"hmti-tests",children:[(0,gi.jsx)("div",{className:"hmti-tests-title",children:"Blood Laboratory Tests"}),(0,gi.jsx)("img",{src:Np,alt:"underline"}),(0,gi.jsx)("div",{className:"hmti-for-scrollbar",children:(0,gi.jsx)("div",{className:"hmti-tests-row",children:Object.keys(i||{}).map((e=>(e=>{var t;return(0,gi.jsxs)("div",{className:"test-section",children:[(0,gi.jsxs)("label",{className:"test-label",children:[(0,gi.jsx)("input",{type:"checkbox",name:e,checked:s[e],onChange:o}),(0,gi.jsx)("div",{className:"testname",children:e})]}),s[e]&&(0,gi.jsx)("div",{className:"test-parameters",children:null===(t=r[e])||void 0===t?void 0:t.map((t=>(0,gi.jsxs)("div",{className:"test-parameter",children:[(0,gi.jsxs)("label",{className:"parameter-label",children:[t.replace(/_/g," ").toUpperCase(),":"]}),(0,gi.jsx)("input",{type:"text",name:`${e}_${t}`,value:s[`${e}_${t}`],onChange:l})]},`${e}_${t}`)))})]},e)})(e)))})})]}),(0,gi.jsxs)("div",{className:"hmti-column",children:[(0,gi.jsxs)("div",{className:"hmti-basic-info",children:[(0,gi.jsxs)("div",{className:"hmti-basic-info-1st-row",children:[(0,gi.jsxs)("div",{className:"hmti-b-i-1-row",children:["First Name",(0,gi.jsx)("div",{className:"firstname",children:(0,gi.jsx)("input",{type:"text",name:"firstName",value:s.firstName,onChange:l})})]}),(0,gi.jsxs)("div",{className:"hmti-b-i-1-row",children:["Middle Name",(0,gi.jsx)("div",{className:"middlename",children:(0,gi.jsx)("input",{type:"text",name:"middleName",value:s.middleName,onChange:l})})]}),(0,gi.jsxs)("div",{className:"hmti-b-i-1-row",children:["Surname",(0,gi.jsx)("div",{className:"surname",children:(0,gi.jsx)("input",{type:"text",name:"surname",value:s.surname,onChange:l})})]}),(0,gi.jsxs)("div",{className:"hmti-b-i-1-row",children:["Sex",(0,gi.jsx)("div",{className:"sex",children:(0,gi.jsxs)("select",{name:"sex",value:s.sex,onChange:l,children:[(0,gi.jsx)("option",{value:"male",children:"Male"}),(0,gi.jsx)("option",{value:"female",children:"Female"})]})})]})]}),(0,gi.jsxs)("div",{className:"hmti-basic-info-2nd-row",children:[(0,gi.jsxs)("div",{className:"hmti-b-i-2-row",children:["Patient ID:",(0,gi.jsx)("div",{className:"patientid",children:(0,gi.jsx)("input",{type:"text",name:"patientId",value:s.patientId,onChange:l})})]}),(0,gi.jsxs)("div",{className:"hmti-b-i-2-row",children:["Birthdate:",(0,gi.jsx)("div",{className:"birthdate",children:(0,gi.jsx)("input",{type:"date",name:"birthdate",value:s.birthdate,onChange:l})})]}),(0,gi.jsxs)("div",{className:"hmti-b-i-2-row",children:["Age:",(0,gi.jsx)("div",{className:"age",children:(0,gi.jsx)("input",{type:"text",name:"age",value:s.age,onChange:l})})]})]})]}),(0,gi.jsxs)("div",{className:"hmti-checklist",children:[(0,gi.jsx)("div",{className:"hmti-checklist-title",children:"Checklist Page"}),(0,gi.jsx)("img",{src:Np,alt:"underline"}),(0,gi.jsxs)("div",{className:"hmti-checklist-start",children:[(0,gi.jsxs)("div",{className:"hmti-checklist-left",children:[(0,gi.jsxs)("div",{className:"hmti-checklist-row",children:["Date & Time Requested:",(0,gi.jsx)("div",{className:"requested",children:(0,gi.jsx)("input",{type:"datetime-local",name:"dateRequested",value:s.dateRequested,onChange:l})})]}),(0,gi.jsxs)("div",{className:"hmti-checklist-row",children:["Date & Time Received:",(0,gi.jsx)("div",{className:"received",children:(0,gi.jsx)("input",{type:"datetime-local",name:"dateReceived",value:s.dateReceived,onChange:l})})]})]}),(0,gi.jsxs)("div",{className:"hmti-checklist-right",children:[(0,gi.jsxs)("div",{className:"hmti-checklist-row",children:["Specimen Number:",(0,gi.jsx)("div",{className:"specimen_number",children:(0,gi.jsx)("input",{type:"text",name:"specimenNumber",value:s.specimenNumber,onChange:l})})]}),(0,gi.jsxs)("div",{className:"hmti-checklist-row-buttons",children:[(0,gi.jsx)("div",{className:"hmti-c-r-buttons-1",children:(0,gi.jsx)("button",{className:"hmti-c-r-next-clear",onClick:()=>{a({firstName:"",middleName:"",surname:"",sex:"male",patientId:"",birthdate:"",age:"",dateRequested:"",dateReceived:"",specimenNumber:"",...i})},children:"Clear"})}),(0,gi.jsx)("div",{className:"hmti-c-r-buttons-2",children:(0,gi.jsx)("button",{className:"hmti-c-r-next",onClick:()=>{(async()=>{try{const e=wf(n,"patient",`patient_${s.patientId}_id`);await gp(e,s),console.log("Patient data saved successfully!")}catch(e){console.error("Error saving patient data:",e)}})(),e("/input_urine")},children:"Next"})})]})]})]})]})]})]})]})};const qp=function(){return(0,gi.jsxs)("div",{children:[(0,gi.jsx)(vi,{}),(0,gi.jsx)(Hp,{})]})},Wp=()=>{const e=Xr(),n=Cf(ks({apiKey:"AIzaSyC0_oxrUWu1NoPuTBpCYOOTNAUXPUd_Y9c",authDomain:"medlabview.firebaseapp.com",projectId:"medlabview",storageBucket:"medlabview.appspot.com",messagingSenderId:"652128567946",appId:"1:652128567946:web:d613e20cfafbfcee366373",measurementId:"G-G5SSRYJVJZ"})),r={"Alanine Transaminase":["alt"],"Alkaline Phosphatase":["alp"],"Antistreptolysin O":["aso"],"Aspartate Aminotransferase":["ast"],Basophil:[],"Blood group":["rhfactor"],"Blood Urea Nitrogen":["bun"],"Blood Uric Acid":["bua"],Calcium:["calcium"],Cholesterol:["cholesterol"],"Complete Blood Count":["Basophil","Eosinophil","Hematocrit","Hemoglobin","Lymphocyte","MCH (Mean Corpuscular Hemoglobin)","MCHC (Mean Corpuscular Hemoglobin Concentration)","MCV (Mean Corpuscular Volume)","Monocyte","Neutrophil","Platelet Count","RDW (Red Cell Distribution Width)","Red Blood Cell","White Blood Cell"],Creatine:["creatine"],"Dengue Antibody":["igg","igm"],"Dengue Antigen":["ns1"],"Erythrocyte Sedimentation Rate":["esr"],"Fasting Blood Sugar":["fbs"],"High-Density Lipoprotein":["hdl"],"Low-Density Lipoprotein":["ldl"],Potassium:["potassium"],Sodium:["sodium"],Triglyceride:["triglyceride"],"Very-Low-Density Lipoprotein":["vldl"]},i=Object.keys(r).reduce(((e,t)=>(e[t]=!1,e)),{}),[s,a]=(0,t.useState)({firstName:"",middleName:"",surname:"",sex:"male",patientId:"",birthdate:"",age:"",dateRequested:"",dateReceived:"",specimenNumber:"",...i}),o=e=>{a({...s,[e.target.name]:e.target.checked})},l=e=>{a({...s,[e.target.name]:e.target.value})};return(0,gi.jsxs)("div",{className:"hmti-container",children:[(0,gi.jsxs)("div",{className:"hmti-title",children:[(0,gi.jsx)("img",{src:yi,alt:"Logo"}),(0,gi.jsx)("div",{children:"Input Test Results"})]}),(0,gi.jsxs)("div",{className:"hmti-row",children:[(0,gi.jsxs)("div",{className:"hmti-tests",children:[(0,gi.jsx)("div",{className:"hmti-tests-title",children:"Blood Laboratory Tests"}),(0,gi.jsx)("img",{src:Np,alt:"underline"}),(0,gi.jsx)("div",{className:"hmti-for-scrollbar",children:(0,gi.jsx)("div",{className:"hmti-tests-row",children:Object.keys(i||{}).map((e=>(e=>{var t;return(0,gi.jsxs)("div",{className:"test-section",children:[(0,gi.jsxs)("label",{className:"test-label",children:[(0,gi.jsx)("input",{type:"checkbox",name:e,checked:s[e],onChange:o}),(0,gi.jsx)("div",{className:"testname",children:e})]}),s[e]&&(0,gi.jsx)("div",{className:"test-parameters",children:null===(t=r[e])||void 0===t?void 0:t.map((t=>(0,gi.jsxs)("div",{className:"test-parameter",children:[(0,gi.jsxs)("label",{className:"parameter-label",children:[t.replace(/_/g," ").toUpperCase(),":"]}),(0,gi.jsx)("input",{type:"text",name:`${e}_${t}`,value:s[`${e}_${t}`],onChange:l})]},`${e}_${t}`)))})]},e)})(e)))})})]}),(0,gi.jsxs)("div",{className:"hmti-column",children:[(0,gi.jsxs)("div",{className:"hmti-basic-info",children:[(0,gi.jsxs)("div",{className:"hmti-basic-info-1st-row",children:[(0,gi.jsxs)("div",{className:"hmti-b-i-1-row",children:["First Name",(0,gi.jsx)("div",{className:"firstname",children:(0,gi.jsx)("input",{type:"text",name:"firstName",value:s.firstName,onChange:l})})]}),(0,gi.jsxs)("div",{className:"hmti-b-i-1-row",children:["Middle Name",(0,gi.jsx)("div",{className:"middlename",children:(0,gi.jsx)("input",{type:"text",name:"middleName",value:s.middleName,onChange:l})})]}),(0,gi.jsxs)("div",{className:"hmti-b-i-1-row",children:["Surname",(0,gi.jsx)("div",{className:"surname",children:(0,gi.jsx)("input",{type:"text",name:"surname",value:s.surname,onChange:l})})]}),(0,gi.jsxs)("div",{className:"hmti-b-i-1-row",children:["Sex",(0,gi.jsx)("div",{className:"sex",children:(0,gi.jsxs)("select",{name:"sex",value:s.sex,onChange:l,children:[(0,gi.jsx)("option",{value:"male",children:"Male"}),(0,gi.jsx)("option",{value:"female",children:"Female"})]})})]})]}),(0,gi.jsxs)("div",{className:"hmti-basic-info-2nd-row",children:[(0,gi.jsxs)("div",{className:"hmti-b-i-2-row",children:["Patient ID:",(0,gi.jsx)("div",{className:"patientid",children:(0,gi.jsx)("input",{type:"text",name:"patientId",value:s.patientId,onChange:l})})]}),(0,gi.jsxs)("div",{className:"hmti-b-i-2-row",children:["Birthdate:",(0,gi.jsx)("div",{className:"birthdate",children:(0,gi.jsx)("input",{type:"date",name:"birthdate",value:s.birthdate,onChange:l})})]}),(0,gi.jsxs)("div",{className:"hmti-b-i-2-row",children:["Age:",(0,gi.jsx)("div",{className:"age",children:(0,gi.jsx)("input",{type:"text",name:"age",value:s.age,onChange:l})})]})]})]}),(0,gi.jsxs)("div",{className:"hmti-checklist",children:[(0,gi.jsx)("div",{className:"hmti-checklist-title",children:"Checklist Page"}),(0,gi.jsx)("img",{src:Np,alt:"underline"}),(0,gi.jsxs)("div",{className:"hmti-checklist-start",children:[(0,gi.jsxs)("div",{className:"hmti-checklist-left",children:[(0,gi.jsxs)("div",{className:"hmti-checklist-row",children:["Date & Time Requested:",(0,gi.jsx)("div",{className:"requested",children:(0,gi.jsx)("input",{type:"datetime-local",name:"dateRequested",value:s.dateRequested,onChange:l})})]}),(0,gi.jsxs)("div",{className:"hmti-checklist-row",children:["Date & Time Received:",(0,gi.jsx)("div",{className:"received",children:(0,gi.jsx)("input",{type:"datetime-local",name:"dateReceived",value:s.dateReceived,onChange:l})})]})]}),(0,gi.jsxs)("div",{className:"hmti-checklist-right",children:[(0,gi.jsxs)("div",{className:"hmti-checklist-row",children:["Specimen Number:",(0,gi.jsx)("div",{className:"specimen_number",children:(0,gi.jsx)("input",{type:"text",name:"specimenNumber",value:s.specimenNumber,onChange:l})})]}),(0,gi.jsxs)("div",{className:"hmti-checklist-row-buttons",children:[(0,gi.jsx)("div",{className:"hmti-c-r-buttons-1",children:(0,gi.jsx)("button",{className:"hmti-c-r-next-clear",onClick:()=>{a({firstName:"",middleName:"",surname:"",sex:"male",patientId:"",birthdate:"",age:"",dateRequested:"",dateReceived:"",specimenNumber:"",...i})},children:"Clear"})}),(0,gi.jsx)("div",{className:"hmti-c-r-buttons-2",children:(0,gi.jsx)("button",{className:"hmti-c-r-next",onClick:()=>{(async()=>{try{const e=wf(n,"patient",`patient_${s.patientId}_id`);await gp(e,s),console.log("Patient data saved successfully!")}catch(e){console.error("Error saving patient data:",e)}})(),e("/input_urine")},children:"Next"})})]})]})]})]})]})]})]})};const Gp=function(){return(0,gi.jsxs)("div",{children:[(0,gi.jsx)(vi,{}),(0,gi.jsx)(Wp,{})]})},Qp=()=>{const e=Xr(),n=Cf(),{patientId:r}=Jr(),[i,s]=(0,t.useState)(null),a={Urinalysis:["yellow","clear","glucose","bilirubin","ketone","specific_gravity","blood","ascorbic_acid","creatinine","ph_level","protein","urobilinogen","nitrite","leukocytes","microalbumin","rbc","wbc","sec","amorphous_urate","mucus_threads","bacteria"],"Pregnancy Test":["preganancy_result"]},o=Object.keys(a).reduce(((e,t)=>(e[t]=!1,e)),{}),[l,c]=(0,t.useState)({firstName:"",middleName:"",surname:"",sex:"male",patientId:"",birthdate:"",age:"",dateRequested:"",dateReceived:"",specimenNumber:"",...o}),u=e=>{c({...l,[e.target.name]:e.target.checked})},d=e=>{c({...l,[e.target.name]:e.target.value})};(0,t.useEffect)((()=>{(async()=>{try{if(!r)return void console.error("No patient ID provided");const e=wf(n,"patient",`patient_${r}_id`),t=await fp(e);t.exists()?c((e=>({...e,...t.data(),patientId:`${r}`}))):console.log("No such patient!")}catch(e){console.error("Error fetching patient data:",e)}})()}),[n,r]);return(0,gi.jsxs)("div",{className:"hmti-container",children:[(0,gi.jsxs)("div",{className:"hmti-title",children:[(0,gi.jsx)("img",{src:yi,alt:"Logo"}),(0,gi.jsx)("div",{children:"Input Test Results"})]}),(0,gi.jsxs)("div",{className:"hmti-row",children:[(0,gi.jsxs)("div",{className:"hmti-tests",children:[(0,gi.jsx)("div",{className:"hmti-tests-title",children:"Urine Laboratory Tests"}),(0,gi.jsx)("img",{src:Np,alt:"underline"}),(0,gi.jsx)("div",{className:"hmti-for-scrollbar",children:(0,gi.jsx)("div",{className:"hmti-tests-row",children:Object.keys(o||{}).map((e=>(e=>{var t;return(0,gi.jsxs)("div",{className:"test-section",children:[(0,gi.jsxs)("label",{className:"test-label",children:[(0,gi.jsx)("input",{type:"checkbox",name:e,checked:l[e],onChange:u}),(0,gi.jsx)("div",{className:"testname",children:e})]}),l[e]&&(0,gi.jsx)("div",{className:"test-parameters",children:null===(t=a[e])||void 0===t?void 0:t.map((t=>(0,gi.jsxs)("div",{className:"test-parameter",children:[(0,gi.jsxs)("label",{className:"parameter-label",children:[t.replace(/_/g," ").toUpperCase(),":"]}),(0,gi.jsx)("input",{type:"text",name:`${e}_${t}`,value:l[`${e}_${t}`],onChange:d})]},`${e}_${t}`)))})]},e)})(e)))})})]}),(0,gi.jsxs)("div",{className:"hmti-column",children:[(0,gi.jsxs)("div",{className:"hmti-basic-info",children:[(0,gi.jsxs)("div",{className:"hmti-basic-info-1st-row",children:[(0,gi.jsxs)("div",{className:"hmti-b-i-1-row",children:["First Name",(0,gi.jsx)("div",{className:"firstname",children:(0,gi.jsx)("input",{type:"text",name:"firstName",value:l.firstName,onChange:d})})]}),(0,gi.jsxs)("div",{className:"hmti-b-i-1-row",children:["Middle Name",(0,gi.jsx)("div",{className:"middlename",children:(0,gi.jsx)("input",{type:"text",name:"middleName",value:l.middleName,onChange:d})})]}),(0,gi.jsxs)("div",{className:"hmti-b-i-1-row",children:["Surname",(0,gi.jsx)("div",{className:"surname",children:(0,gi.jsx)("input",{type:"text",name:"surname",value:l.surname,onChange:d})})]}),(0,gi.jsxs)("div",{className:"hmti-b-i-1-row",children:["Sex",(0,gi.jsx)("div",{className:"sex",children:(0,gi.jsxs)("select",{name:"sex",value:l.sex,onChange:d,children:[(0,gi.jsx)("option",{value:"male",children:"Male"}),(0,gi.jsx)("option",{value:"female",children:"Female"})]})})]})]}),(0,gi.jsxs)("div",{className:"hmti-basic-info-2nd-row",children:[(0,gi.jsxs)("div",{className:"hmti-b-i-2-row",children:["Patient ID:",(0,gi.jsx)("div",{className:"patientid",children:(0,gi.jsx)("input",{type:"text",name:"patientId",value:l.patientId,onChange:d})})]}),(0,gi.jsxs)("div",{className:"hmti-b-i-2-row",children:["Birthdate:",(0,gi.jsx)("div",{className:"birthdate",children:(0,gi.jsx)("input",{type:"date",name:"birthdate",value:l.birthdate,onChange:d})})]}),(0,gi.jsxs)("div",{className:"hmti-b-i-2-row",children:["Age:",(0,gi.jsx)("div",{className:"age",children:(0,gi.jsx)("input",{type:"text",name:"age",value:l.age,onChange:d})})]})]})]}),(0,gi.jsxs)("div",{className:"hmti-checklist",children:[(0,gi.jsx)("div",{className:"hmti-checklist-title",children:"Checklist Page"}),(0,gi.jsx)("img",{src:Np,alt:"underline"}),(0,gi.jsxs)("div",{className:"hmti-checklist-start",children:[(0,gi.jsxs)("div",{className:"hmti-checklist-left",children:[(0,gi.jsxs)("div",{className:"hmti-checklist-row",children:["Date & Time Requested:",(0,gi.jsx)("div",{className:"requested",children:(0,gi.jsx)("input",{type:"datetime-local",name:"dateRequested",value:l.dateRequested,onChange:d})})]}),(0,gi.jsxs)("div",{className:"hmti-checklist-row",children:["Date & Time Received:",(0,gi.jsx)("div",{className:"received",children:(0,gi.jsx)("input",{type:"datetime-local",name:"dateReceived",value:l.dateReceived,onChange:d})})]})]}),(0,gi.jsxs)("div",{className:"hmti-checklist-right",children:[(0,gi.jsxs)("div",{className:"hmti-checklist-row",children:["Specimen Number:",(0,gi.jsx)("div",{className:"specimen_number",children:(0,gi.jsx)("input",{type:"text",name:"specimenNumber",value:l.specimenNumber,onChange:d})})]}),(0,gi.jsxs)("div",{className:"hmti-checklist-row-buttons",children:[(0,gi.jsx)("div",{className:"hmti-c-r-buttons-1",children:(0,gi.jsx)("button",{className:"hmti-c-r-next-clear",onClick:()=>{c({firstName:"",middleName:"",surname:"",sex:"male",patientId:"",birthdate:"",age:"",dateRequested:"",dateReceived:"",specimenNumber:"",...o})},children:"Clear"})}),(0,gi.jsx)("div",{className:"hmti-c-r-buttons-2",children:(0,gi.jsx)("button",{className:"hmti-c-r-next",onClick:async()=>{try{const t=l.patientId;e(`/input_feces/${t}`)}catch(t){console.error("Failed to save patient data or navigate:",t)}},children:"Next"})})]})]})]})]})]})]})]})};const Kp=function(){return(0,gi.jsxs)("div",{children:[(0,gi.jsx)(vi,{}),(0,gi.jsx)(Qp,{})]})},$p=()=>{const e=Xr(),n=Cf(),{patientId:r}=Jr(),[i,s]=(0,t.useState)(null),a={Fecalysis:["color_apperance","consistency","mucus","blood","pus_cells","rbc","ova","cyst","bacteria","Other"],"Fecal Occult Blood Test":["fobt"]},o=Object.keys(a).reduce(((e,t)=>(e[t]=!1,e)),{}),[l,c]=(0,t.useState)({firstName:"",middleName:"",surname:"",sex:"male",patientId:"",birthdate:"",age:"",dateRequested:"",dateReceived:"",specimenNumber:"",...o}),u=e=>{c({...l,[e.target.name]:e.target.checked})},d=e=>{c({...l,[e.target.name]:e.target.value})};(0,t.useEffect)((()=>{(async()=>{if(r){const e=wf(n,"patient",`patient_${r}_id`),t=await fp(e);t.exists()?c((e=>({...e,...t.data(),patientId:`${r}`}))):console.log("No such patient!")}})()}),[n,r]);return(0,gi.jsxs)("div",{className:"hmti-container",children:[(0,gi.jsxs)("div",{className:"hmti-title",children:[(0,gi.jsx)("img",{src:yi,alt:"Logo"}),(0,gi.jsx)("div",{children:"Input Test Results"})]}),(0,gi.jsxs)("div",{className:"hmti-row",children:[(0,gi.jsxs)("div",{className:"hmti-tests",children:[(0,gi.jsx)("div",{className:"hmti-tests-title",children:"Fecal Laboratory Tests"}),(0,gi.jsx)("img",{src:Np,alt:"underline"}),(0,gi.jsx)("div",{className:"hmti-for-scrollbar",children:(0,gi.jsx)("div",{className:"hmti-tests-row",children:Object.keys(o||{}).map((e=>(e=>{var t;return(0,gi.jsxs)("div",{className:"test-section",children:[(0,gi.jsxs)("label",{className:"test-label",children:[(0,gi.jsx)("input",{type:"checkbox",name:e,checked:l[e],onChange:u}),(0,gi.jsx)("div",{className:"testname",children:e})]}),l[e]&&(0,gi.jsx)("div",{className:"test-parameters",children:null===(t=a[e])||void 0===t?void 0:t.map((t=>(0,gi.jsxs)("div",{className:"test-parameter",children:[(0,gi.jsxs)("label",{className:"parameter-label",children:[t.replace(/_/g," ").toUpperCase(),":"]}),(0,gi.jsx)("input",{type:"text",name:`${e}_${t}`,value:l[`${e}_${t}`],onChange:d})]},`${e}_${t}`)))})]},e)})(e)))})})]}),(0,gi.jsxs)("div",{className:"hmti-column",children:[(0,gi.jsxs)("div",{className:"hmti-basic-info",children:[(0,gi.jsxs)("div",{className:"hmti-basic-info-1st-row",children:[(0,gi.jsxs)("div",{className:"hmti-b-i-1-row",children:["First Name",(0,gi.jsx)("div",{className:"firstname",children:(0,gi.jsx)("input",{type:"text",name:"firstName",value:l.firstName,onChange:d})})]}),(0,gi.jsxs)("div",{className:"hmti-b-i-1-row",children:["Middle Name",(0,gi.jsx)("div",{className:"middlename",children:(0,gi.jsx)("input",{type:"text",name:"middleName",value:l.middleName,onChange:d})})]}),(0,gi.jsxs)("div",{className:"hmti-b-i-1-row",children:["Surname",(0,gi.jsx)("div",{className:"surname",children:(0,gi.jsx)("input",{type:"text",name:"surname",value:l.surname,onChange:d})})]}),(0,gi.jsxs)("div",{className:"hmti-b-i-1-row",children:["Sex",(0,gi.jsx)("div",{className:"sex",children:(0,gi.jsxs)("select",{name:"sex",value:l.sex,onChange:d,children:[(0,gi.jsx)("option",{value:"male",children:"Male"}),(0,gi.jsx)("option",{value:"female",children:"Female"})]})})]})]}),(0,gi.jsxs)("div",{className:"hmti-basic-info-2nd-row",children:[(0,gi.jsxs)("div",{className:"hmti-b-i-2-row",children:["Patient ID:",(0,gi.jsx)("div",{className:"patientid",children:(0,gi.jsx)("input",{type:"text",name:"patientId",value:l.patientId,onChange:d})})]}),(0,gi.jsxs)("div",{className:"hmti-b-i-2-row",children:["Birthdate:",(0,gi.jsx)("div",{className:"birthdate",children:(0,gi.jsx)("input",{type:"date",name:"birthdate",value:l.birthdate,onChange:d})})]}),(0,gi.jsxs)("div",{className:"hmti-b-i-2-row",children:["Age:",(0,gi.jsx)("div",{className:"age",children:(0,gi.jsx)("input",{type:"text",name:"age",value:l.age,onChange:d})})]})]})]}),(0,gi.jsxs)("div",{className:"hmti-checklist",children:[(0,gi.jsx)("div",{className:"hmti-checklist-title",children:"Checklist Page"}),(0,gi.jsx)("img",{src:Np,alt:"underline"}),(0,gi.jsxs)("div",{className:"hmti-checklist-start",children:[(0,gi.jsxs)("div",{className:"hmti-checklist-left",children:[(0,gi.jsxs)("div",{className:"hmti-checklist-row",children:["Date & Time Requested:",(0,gi.jsx)("div",{className:"requested",children:(0,gi.jsx)("input",{type:"datetime-local",name:"dateRequested",value:l.dateRequested,onChange:d})})]}),(0,gi.jsxs)("div",{className:"hmti-checklist-row",children:["Date & Time Received:",(0,gi.jsx)("div",{className:"received",children:(0,gi.jsx)("input",{type:"datetime-local",name:"dateReceived",value:l.dateReceived,onChange:d})})]})]}),(0,gi.jsxs)("div",{className:"hmti-checklist-right",children:[(0,gi.jsxs)("div",{className:"hmti-checklist-row",children:["Specimen Number:",(0,gi.jsx)("div",{className:"specimen_number",children:(0,gi.jsx)("input",{type:"text",name:"specimenNumber",value:l.specimenNumber,onChange:d})})]}),(0,gi.jsxs)("div",{className:"hmti-checklist-row-buttons",children:[(0,gi.jsx)("div",{className:"hmti-c-r-buttons-1",children:(0,gi.jsx)("button",{className:"hmti-c-r-next-clear",onClick:()=>{c({firstName:"",middleName:"",surname:"",sex:"male",patientId:"",birthdate:"",age:"",dateRequested:"",dateReceived:"",specimenNumber:"",...o})},children:"Clear"})}),(0,gi.jsx)("div",{className:"hmti-c-r-buttons-2",children:(0,gi.jsx)("button",{className:"hmti-c-r-next",onClick:t=>{e("/summary")},children:"Next"})})]})]})]})]})]})]})]})};const Yp=function(){return(0,gi.jsxs)("div",{children:[(0,gi.jsx)(vi,{}),(0,gi.jsx)($p,{})]})},Xp=e=>{switch(e){case"cbc":return"Complete Blood Count";case"bloodtyping":return"Blood Typing";case"esr":return"Erythrocyte Sedimentation Rate";case"fbs":return"Fasting Blood Sugar";case"cholesterol":return"Cholesterol";case"triglyceride":return"Triglyceride";case"hdl":return"High Density Lipoprotein";case"ldl":return"Low Density Lipoprotein";case"vldl":return"Very Low Density Lipoprotein";case"bun":return"Blood Urea Nitrogen";case"creatine":return"Creatinine";case"bua":return"Blood Uric Acid";case"ast":return"Aspartate Transaminase";case"alt":return"Alanine Transaminase";case"alp":return"Alkaline Phosphatase";case"sodium":return"Sodium";case"potassium":return"Potassium";case"calcium":return"Ionized Calcium";case"urinalysis":return"Routine Urinalysis";case"pregnancy_test":return"Pregnancy Test";case"fecalysis":return"Routine fecalysis";case"fobt":return"Fecal Occult Blood Test";case"aso":return"Anti-Streptolysin O Titer";case"dengue_antibody":return"Dengue Antibody (IgG,IgM)";case"dengue_antigen":return"Dengue antigen (NS1)";default:return`Test ${e}`}},Jp=()=>{const e=Cf(),{patientId:n,transactionId:r,specimenId:i}=Jr(),[s,a]=(0,t.useState)(null),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(!1),f=(0,t.useRef)(null),p=()=>{const e=f.current;if(e){const t=e.scrollHeight>e.clientHeight;h(t)}};return(0,t.useEffect)((()=>(p(),window.addEventListener("resize",p),()=>{window.removeEventListener("resize",p)})),[o]),(0,t.useEffect)((()=>{(async()=>{try{const t=wf(e,"patient",`patient_${n}_id`),s=await fp(t);if(s.exists()){const t={...s.data(),id:s.id},n=wf(e,"transaction",`transaction_${r}_id`),o=await fp(n);if(o.exists()){const n=Object.entries(o.data()).filter((e=>{let[t,n]=e;return"TRUE"===n&&"transactionid"!==t&&"patientid"!==t})).map((e=>{let[t]=e;return t})).map((async t=>{const n=Zf(yf(e,t),tp("specimenid","==",i)),r=await mp(n);if(!r.empty){return{test:t,testData:{...r.docs[0].data(),id:r.docs[0].id}}}return null})),r={patientData:t,testData:(await Promise.all(n)).filter((e=>null!==e))};a(r.patientData),l(r.testData)}else console.log(`No transaction found with ID: ${r}`)}else console.log(`No patient found with ID: ${n}`)}catch(t){console.error("Error fetching data:",t.message)}})()}),[n,r,i]),(0,t.useEffect)((()=>{(async()=>{try{const t=wf(e,"si_unit","si_unit_00000_id"),n=await fp(t);if(console.log("siUnitDocSnapshot:",n),n.exists()){const e=n.data();console.log("line 106, siUnitData: ",e),null!=e?(u(e),console.log("line 109, siUnitData:",e)):console.log("No si_units found in SI Unit document")}else console.log("No SI Unit document found")}catch(t){console.error("Error fetching SI Unit data:",t.message)}})()}),[e]),(0,gi.jsxs)("div",{className:"hmts-container",children:[(0,gi.jsxs)("div",{className:"hdnpi-title",children:[(0,gi.jsx)("img",{src:yi,alt:"Logo"}),(0,gi.jsx)("div",{children:"Laboratory Test Portal"})]}),(0,gi.jsxs)("div",{className:"hdnpi-info-container",children:[s&&(0,gi.jsxs)("div",{className:"hdnpi-patient-info-header-row",children:[(0,gi.jsxs)("div",{className:"hdnpi-p-i-h-t-indiv",children:["Family Name: ",s.patientlastname]}),(0,gi.jsxs)("div",{className:"hdnpi-p-i-h-t-indiv",children:["First Name: ",s.patientfirstname]}),(0,gi.jsxs)("div",{className:"hdnpi-p-i-h-t-indiv",children:["Date of Birth: ",s.dateofbirth]}),(0,gi.jsxs)("div",{className:"hdnpi-p-i-h-t-indiv",children:["Age: ",s.age]}),(0,gi.jsxs)("div",{className:"hdnpi-p-i-h-t-indiv",children:["Sex: ",s.sex]}),(0,gi.jsxs)("div",{className:"hdnpi-p-i-h-t-indiv",children:["Patient ID: ",s.patientid]})]}),(0,gi.jsx)("div",{className:"hdnpi-patient-detailed-info-header-row",children:(0,gi.jsxs)("table",{className:"hdnpi-table",children:[(0,gi.jsx)("thead",{children:(0,gi.jsxs)("tr",{className:"hdnpi-patients-header",children:[(0,gi.jsx)("th",{className:"hdnpi-p-h",children:"Specimen ID"}),(0,gi.jsx)("div",{className:"hdnpi-p-h-separator",children:"|"}),(0,gi.jsx)("th",{className:"hdnpi-p-h",children:"Test"}),(0,gi.jsx)("div",{className:"hdnpi-p-h-separator",children:"|"}),(0,gi.jsx)("th",{className:"hdnpi-p-h",children:"Parameter"}),(0,gi.jsx)("div",{className:"hdnpi-p-h-separator",children:"|"}),(0,gi.jsx)("th",{className:"hdnpi-p-h",children:"Result"}),(0,gi.jsx)("div",{className:"hdnpi-p-h-separator",children:"|"}),(0,gi.jsx)("th",{className:"hdnpi-p-h",children:"SI Unit"})]})}),(0,gi.jsx)("tbody",{className:"hdnpi-patients-table-container",children:o&&o.map(((e,t)=>{const n=Object.entries(e.testData).filter((e=>{let[t]=e;return!["specimenid","testid","id"].includes(t)})),r=n.length;return n.map(((n,i)=>{let[s,a]=n;const o=c&&c[s];return(0,gi.jsxs)("tr",{className:"hdnpi-patients-row",children:[0===i?(0,gi.jsxs)(gi.Fragment,{children:[(0,gi.jsx)("td",{className:"hdnpi-p-h-cell",rowSpan:r,children:e.testData.specimenid}),(0,gi.jsx)("div",{className:"hdnpi-p-h-separator",children:"|"}),(0,gi.jsx)("td",{className:"hdnpi-p-h-cell",rowSpan:r,children:Xp(e.test)}),(0,gi.jsx)("div",{className:"hdnpi-p-h-separator",children:"|"})]}):(0,gi.jsxs)(gi.Fragment,{children:[(0,gi.jsx)("td",{className:"hdnpi-p-h-cell"}),(0,gi.jsx)("div",{className:"hdnpi-p-h-separator",children:"|"}),(0,gi.jsx)("td",{className:"hdnpi-p-h-cell"}),(0,gi.jsx)("div",{className:"hdnpi-p-h-separator",children:"|"})]}),(0,gi.jsx)("td",{className:"hdnpi-p-h-cell",children:s}),(0,gi.jsx)("div",{className:"hdnpi-p-h-separator",children:"|"}),(0,gi.jsx)("td",{className:"hdnpi-p-h-cell",children:a}),(0,gi.jsx)("div",{className:"hdnpi-p-h-separator",children:"|"}),(0,gi.jsx)("td",{className:"hdnpi-p-h-cell",children:void 0!==o?o:""})]},`${t}-${i}`)}))}))})]})})]}),(0,gi.jsxs)("div",{className:"hmts-buttons",children:[(0,gi.jsx)("button",{className:"continue",children:"Continue Editing"}),(0,gi.jsx)("button",{className:"finish",children:"Finish"})]}),(0,gi.jsx)("div",{className:"dn-tagline",children:"- Accurate, Fast, and Reliable Laboratory Results -"})]})};const Zp=function(){return(0,gi.jsxs)("div",{children:[(0,gi.jsx)(vi,{}),(0,gi.jsx)(Jp,{})]})};function em(){return rr.accessToken()?rr.user.hasRole("viewer")?(0,gi.jsx)(Ap,{}):rr.user.hasRole("author")?(0,gi.jsx)(Ip,{}):rr.user.hasRole("subscriber")?(0,gi.jsx)(jp,{}):rr.user.hasRole("admin")?(0,gi.jsx)(Pp,{}):(0,gi.jsx)(Mp,{}):(0,gi.jsx)(Mp,{})}rr.init("8nwyy85n");const tm=function(){return(0,gi.jsxs)(pi,{children:[(0,gi.jsx)(hi,{path:"*",element:rr.accessToken()?(0,gi.jsx)(em,{}):(0,gi.jsx)(di,{to:"/login"})}),(0,gi.jsx)(hi,{path:"/login",element:(0,gi.jsx)(Mp,{})}),(0,gi.jsx)(hi,{path:"/patient/:patientId",element:(0,gi.jsx)(Ep,{})}),(0,gi.jsx)(hi,{path:"/patient/:patientId/:transactionId/:specimenId",element:(0,gi.jsx)(Bp,{})}),(0,gi.jsx)(hi,{path:"/unfinished",element:(0,gi.jsx)(zp,{})}),(0,gi.jsx)(hi,{path:"/input_urine/:patientId",element:(0,gi.jsx)(Kp,{})}),(0,gi.jsx)(hi,{path:"/input_feces/:patiendId",element:(0,gi.jsx)(Yp,{})}),(0,gi.jsx)(hi,{path:"/input_blood/:patientId",element:(0,gi.jsx)(Gp,{})}),(0,gi.jsx)(hi,{path:"/input_blood",element:(0,gi.jsx)(qp,{})}),(0,gi.jsx)(hi,{path:"/input_urine",element:(0,gi.jsx)(Kp,{})}),(0,gi.jsx)(hi,{path:"/input_feces",element:(0,gi.jsx)(Yp,{})}),(0,gi.jsx)(hi,{path:"/summary",element:(0,gi.jsx)(Zp,{})})]})},nm=e=>{e&&e instanceof Function&&n.e(651).then(n.bind(n,651)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:a}=t;n(e),r(e),i(e),s(e),a(e)}))};var rm=n(599),im=n.t(rm,2);new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);new Map;const sm=r.startTransition;im.flushSync;function am(e){let{basename:n,children:r,future:i,window:s}=e,a=t.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),fr((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return ur("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:dr(t)}),null,o)));let l=a.current,[c,u]=t.useState({action:l.action,location:l.location}),{v7_startTransition:d}=i||{},h=t.useCallback((e=>{d&&sm?sm((()=>u(e))):u(e)}),[u,d]);return t.useLayoutEffect((()=>l.listen(h)),[l,h]),t.createElement(fi,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:i})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var om,lm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(om||(om={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(lm||(lm={}));i.createRoot(document.getElementById("root")).render((0,gi.jsx)(t.StrictMode,{children:(0,gi.jsx)(am,{children:(0,gi.jsx)(tm,{})})})),nm()})()})();
//# sourceMappingURL=main.ef803fac.js.map